{"version":3,"names":[],"mappings":"","sources":["scripts.min.js"],"sourcesContent":["!function(){return function t(e,r,i){function n(o,s){if(!r[o]){if(!e[o]){var u=\"function\"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error(\"Cannot find module '\"+o+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var h=r[o]={exports:{}};e[o][0].call(h.exports,function(t){return n(e[o][1][t]||t)},h,h.exports,t,e,r,i)}return r[o].exports}for(var a=\"function\"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}}()({1:[function(t,e,r){e.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i},e.exports.__esModule=!0,e.exports.default=e.exports},{}],2:[function(t,e,r){e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports},{}],3:[function(t,e,r){var i=t(\"./arrayLikeToArray.js\");e.exports=function(t){if(Array.isArray(t))return i(t)},e.exports.__esModule=!0,e.exports.default=e.exports},{\"./arrayLikeToArray.js\":1}],4:[function(t,e,r){e.exports=function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t},e.exports.__esModule=!0,e.exports.default=e.exports},{}],5:[function(t,e,r){function i(t,e,r,i,n,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(i,n)}e.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function s(t){i(o,n,a,s,u,\"next\",t)}function u(t){i(o,n,a,s,u,\"throw\",t)}s(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],6:[function(t,e,r){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},e.exports.__esModule=!0,e.exports.default=e.exports},{}],7:[function(t,e,r){var i=t(\"./setPrototypeOf.js\"),n=t(\"./isNativeReflectConstruct.js\");function a(t,r,o){return n()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(t,e,r){var n=[null];n.push.apply(n,e);var a=new(Function.bind.apply(t,n));return r&&i(a,r.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},{\"./isNativeReflectConstruct.js\":15,\"./setPrototypeOf.js\":22}],8:[function(t,e,r){function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),t},e.exports.__esModule=!0,e.exports.default=e.exports},{}],9:[function(t,e,r){e.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},e.exports.__esModule=!0,e.exports.default=e.exports},{}],10:[function(t,e,r){function i(){return e.exports=i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},{}],11:[function(t,e,r){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e.exports.__esModule=!0,e.exports.default=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},{}],12:[function(t,e,r){var i=t(\"./setPrototypeOf.js\");e.exports=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports},{\"./setPrototypeOf.js\":22}],13:[function(t,e,r){e.exports=function(t){return t&&t.__esModule?t:{default:t}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],14:[function(t,e,r){var i=t(\"./typeof.js\").default;function n(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(n=function(t){return t?r:e})(t)}e.exports=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!==i(t)&&\"function\"!=typeof t)return{default:t};var r=n(e);if(r&&r.has(t))return r.get(t);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(\"default\"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=t[s]}return a.default=t,r&&r.set(t,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},{\"./typeof.js\":25}],15:[function(t,e,r){e.exports=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],16:[function(t,e,r){e.exports=function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)},e.exports.__esModule=!0,e.exports.default=e.exports},{}],17:[function(t,e,r){e.exports=function(t,e){var r=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=r){var i,n,a=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(i=r.next()).done)&&(a.push(i.value),!e||a.length!==e);o=!0);}catch(t){s=!0,n=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw n}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],18:[function(t,e,r){e.exports=function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")},e.exports.__esModule=!0,e.exports.default=e.exports},{}],19:[function(t,e,r){e.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")},e.exports.__esModule=!0,e.exports.default=e.exports},{}],20:[function(t,e,r){var i=t(\"./typeof.js\").default,n=t(\"./assertThisInitialized.js\");e.exports=function(t,e){if(e&&(\"object\"===i(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return n(t)},e.exports.__esModule=!0,e.exports.default=e.exports},{\"./assertThisInitialized.js\":4,\"./typeof.js\":25}],21:[function(t,e,r){var i=t(\"./typeof.js\").default;function n(){\"use strict\";e.exports=n=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,a=r.hasOwnProperty,o=\"function\"==typeof Symbol?Symbol:{},s=o.iterator||\"@@iterator\",u=o.asyncIterator||\"@@asyncIterator\",l=o.toStringTag||\"@@toStringTag\";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},\"\")}catch(t){h=function(t,e,r){return t[e]=r}}function f(t,e,r,i){var n=e&&e.prototype instanceof p?e:p,a=Object.create(n.prototype),o=new A(i||[]);return a._invoke=function(t,e,r){var i=\"suspendedStart\";return function(n,a){if(\"executing\"===i)throw new Error(\"Generator is already running\");if(\"completed\"===i){if(\"throw\"===n)throw a;return C()}for(r.method=n,r.arg=a;;){var o=r.delegate;if(o){var s=x(o,r);if(s){if(s===d)continue;return s}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(\"suspendedStart\"===i)throw i=\"completed\",r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);i=\"executing\";var u=c(t,e,r);if(\"normal\"===u.type){if(i=r.done?\"completed\":\"suspendedYield\",u.arg===d)continue;return{value:u.arg,done:r.done}}\"throw\"===u.type&&(i=\"completed\",r.method=\"throw\",r.arg=u.arg)}}}(t,r,o),a}function c(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}t.wrap=f;var d={};function p(){}function m(){}function b(){}var g={};h(g,s,function(){return this});var _=Object.getPrototypeOf,y=_&&_(_(M([])));y&&y!==r&&a.call(y,s)&&(g=y);var v=b.prototype=p.prototype=Object.create(g);function w(t){[\"next\",\"throw\",\"return\"].forEach(function(e){h(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var r;this._invoke=function(n,o){function s(){return new e(function(r,s){!function r(n,o,s,u){var l=c(t[n],t,o);if(\"throw\"!==l.type){var h=l.arg,f=h.value;return f&&\"object\"==i(f)&&a.call(f,\"__await\")?e.resolve(f.__await).then(function(t){r(\"next\",t,s,u)},function(t){r(\"throw\",t,s,u)}):e.resolve(f).then(function(t){h.value=t,s(h)},function(t){return r(\"throw\",t,s,u)})}u(l.arg)}(n,o,r,s)})}return r=r?r.then(s,s):s()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,\"throw\"===e.method){if(t.iterator.return&&(e.method=\"return\",e.arg=void 0,x(t,e),\"throw\"===e.method))return d;e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return d}var i=c(r,t.iterator,e.arg);if(\"throw\"===i.type)return e.method=\"throw\",e.arg=i.arg,e.delegate=null,d;var n=i.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,d):n:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,d)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(I,this),this.reset(!0)}function M(t){if(t){var e=t[s];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=b,h(v,\"constructor\",b),h(b,\"constructor\",m),m.displayName=h(b,l,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===m||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,h(t,l,\"GeneratorFunction\")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},w(E.prototype),h(E.prototype,u,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,i,n,a){void 0===a&&(a=Promise);var o=new E(f(e,r,i,n),a);return t.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},w(v),h(v,l,\"Generator\"),h(v,s,function(){return this}),h(v,\"toString\",function(){return\"[object Generator]\"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=M,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)\"t\"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return o.type=\"throw\",o.arg=t,e.next=r,i&&(e.method=\"next\",e.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],o=n.completion;if(\"root\"===n.tryLoc)return r(\"end\");if(n.tryLoc<=this.prev){var s=a.call(n,\"catchLoc\"),u=a.call(n,\"finallyLoc\");if(s&&u){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&a.call(i,\"finallyLoc\")&&this.prev<i.finallyLoc){var n=i;break}}n&&(\"break\"===t||\"continue\"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=t,o.arg=e,n?(this.method=\"next\",this.next=n.finallyLoc,d):this.complete(o)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if(\"throw\"===i.type){var n=i.arg;S(r)}return n}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},\"next\"===this.method&&(this.arg=void 0),d}},t}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},{\"./typeof.js\":25}],22:[function(t,e,r){function i(t,r){return e.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},e.exports.__esModule=!0,e.exports.default=e.exports,i(t,r)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},{}],23:[function(t,e,r){var i=t(\"./arrayWithHoles.js\"),n=t(\"./iterableToArrayLimit.js\"),a=t(\"./unsupportedIterableToArray.js\"),o=t(\"./nonIterableRest.js\");e.exports=function(t,e){return i(t)||n(t,e)||a(t,e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},{\"./arrayWithHoles.js\":2,\"./iterableToArrayLimit.js\":17,\"./nonIterableRest.js\":18,\"./unsupportedIterableToArray.js\":26}],24:[function(t,e,r){var i=t(\"./arrayWithoutHoles.js\"),n=t(\"./iterableToArray.js\"),a=t(\"./unsupportedIterableToArray.js\"),o=t(\"./nonIterableSpread.js\");e.exports=function(t){return i(t)||n(t)||a(t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},{\"./arrayWithoutHoles.js\":3,\"./iterableToArray.js\":16,\"./nonIterableSpread.js\":19,\"./unsupportedIterableToArray.js\":26}],25:[function(t,e,r){function i(t){return e.exports=i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},e.exports.__esModule=!0,e.exports.default=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},{}],26:[function(t,e,r){var i=t(\"./arrayLikeToArray.js\");e.exports=function(t,e){if(t){if(\"string\"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},{\"./arrayLikeToArray.js\":1}],27:[function(t,e,r){var i=t(\"../helpers/regeneratorRuntime\")();e.exports=i;try{regeneratorRuntime=i}catch(t){\"object\"==typeof globalThis?globalThis.regeneratorRuntime=i:Function(\"r\",\"regeneratorRuntime = r\")(i)}},{\"../helpers/regeneratorRuntime\":21}],28:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=i(t(\"@babel/runtime/helpers/defineProperty\")),a=i(t(\"bmp-js\")),o=t(\"@jimp/utils\");var s=function(t){return e=a.default.decode(t),(0,o.scan)({bitmap:e},0,0,e.width,e.height,function(t,r,i){var n=this.bitmap.data[i+0],a=this.bitmap.data[i+1],o=this.bitmap.data[i+2],s=this.bitmap.data[i+3];this.bitmap.data[i+0]=s,this.bitmap.data[i+1]=o,this.bitmap.data[i+2]=a,this.bitmap.data[i+3]=e.is_with_alpha?n:255}).bitmap;var e},u=function(t){return a.default.encode(function(t){return(0,o.scan)(t,0,0,t.bitmap.width,t.bitmap.height,function(t,e,r){var i=this.bitmap.data[r+0],n=this.bitmap.data[r+1],a=this.bitmap.data[r+2],o=this.bitmap.data[r+3];this.bitmap.data[r+0]=o,this.bitmap.data[r+1]=a,this.bitmap.data[r+2]=n,this.bitmap.data[r+3]=i}).bitmap}(t)).data};r.default=function(){var t,e;return{mime:(0,n.default)({},\"image/bmp\",[\"bmp\"]),constants:{MIME_BMP:\"image/bmp\",MIME_X_MS_BMP:\"image/x-ms-bmp\"},decoders:(t={},(0,n.default)(t,\"image/bmp\",s),(0,n.default)(t,\"image/x-ms-bmp\",s),t),encoders:(e={},(0,n.default)(e,\"image/bmp\",u),(0,n.default)(e,\"image/x-ms-bmp\",u),e)}},e.exports=r.default},{\"@babel/runtime/helpers/defineProperty\":9,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@jimp/utils\":70,\"bmp-js\":79}],29:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.srcOver=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=(t.r*t.a+e.r*e.a*(1-t.a))/i,a=(t.g*t.a+e.g*e.a*(1-t.a))/i,o=(t.b*t.a+e.b*e.a*(1-t.a))/i;return{r:n,g:a,b:o,a:i}},r.dstOver=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=(e.r*e.a+t.r*t.a*(1-e.a))/i,a=(e.g*e.a+t.g*t.a*(1-e.a))/i,o=(e.b*e.a+t.b*t.a*(1-e.a))/i;return{r:n,g:a,b:o,a:i}},r.multiply=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,u=e.g*e.a,l=e.b*e.a,h=(n*s+n*(1-e.a)+s*(1-t.a))/i,f=(a*u+a*(1-e.a)+u*(1-t.a))/i,c=(o*l+o*(1-e.a)+l*(1-t.a))/i;return{r:h,g:f,b:c,a:i}},r.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,u=e.g*e.a,l=e.b*e.a;return{r:(n+s)/i,g:(a+u)/i,b:(o+l)/i,a:i}},r.screen=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,u=e.g*e.a,l=e.b*e.a,h=(n*e.a+s*t.a-n*s+n*(1-e.a)+s*(1-t.a))/i,f=(a*e.a+u*t.a-a*u+a*(1-e.a)+u*(1-t.a))/i,c=(o*e.a+l*t.a-o*l+o*(1-e.a)+l*(1-t.a))/i;return{r:h,g:f,b:c,a:i}},r.overlay=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,u=e.g*e.a,l=e.b*e.a,h=(2*s<=e.a?2*n*s+n*(1-e.a)+s*(1-t.a):n*(1+e.a)+s*(1+t.a)-2*s*n-e.a*t.a)/i,f=(2*u<=e.a?2*a*u+a*(1-e.a)+u*(1-t.a):a*(1+e.a)+u*(1+t.a)-2*u*a-e.a*t.a)/i,c=(2*l<=e.a?2*o*l+o*(1-e.a)+l*(1-t.a):o*(1+e.a)+l*(1+t.a)-2*l*o-e.a*t.a)/i;return{r:h,g:f,b:c,a:i}},r.darken=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,u=e.g*e.a,l=e.b*e.a,h=(Math.min(n*e.a,s*t.a)+n*(1-e.a)+s*(1-t.a))/i,f=(Math.min(a*e.a,u*t.a)+a*(1-e.a)+u*(1-t.a))/i,c=(Math.min(o*e.a,l*t.a)+o*(1-e.a)+l*(1-t.a))/i;return{r:h,g:f,b:c,a:i}},r.lighten=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,u=e.g*e.a,l=e.b*e.a,h=(Math.max(n*e.a,s*t.a)+n*(1-e.a)+s*(1-t.a))/i,f=(Math.max(a*e.a,u*t.a)+a*(1-e.a)+u*(1-t.a))/i,c=(Math.max(o*e.a,l*t.a)+o*(1-e.a)+l*(1-t.a))/i;return{r:h,g:f,b:c,a:i}},r.hardLight=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,u=e.g*e.a,l=e.b*e.a,h=(2*n<=t.a?2*n*s+n*(1-e.a)+s*(1-t.a):n*(1+e.a)+s*(1+t.a)-2*s*n-e.a*t.a)/i,f=(2*a<=t.a?2*a*u+a*(1-e.a)+u*(1-t.a):a*(1+e.a)+u*(1+t.a)-2*u*a-e.a*t.a)/i,c=(2*o<=t.a?2*o*l+o*(1-e.a)+l*(1-t.a):o*(1+e.a)+l*(1+t.a)-2*l*o-e.a*t.a)/i;return{r:h,g:f,b:c,a:i}},r.difference=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,u=e.g*e.a,l=e.b*e.a,h=(n+s-2*Math.min(n*e.a,s*t.a))/i,f=(a+u-2*Math.min(a*e.a,u*t.a))/i,c=(o+l-2*Math.min(o*e.a,l*t.a))/i;return{r:h,g:f,b:c,a:i}},r.exclusion=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=r;var i=e.a+t.a-e.a*t.a,n=t.r*t.a,a=t.g*t.a,o=t.b*t.a,s=e.r*e.a,u=e.g*e.a,l=e.b*e.a,h=(n*e.a+s*t.a-2*n*s+n*(1-e.a)+s*(1-t.a))/i,f=(a*e.a+u*t.a-2*a*u+a*(1-e.a)+u*(1-t.a))/i,c=(o*e.a+l*t.a-2*o*l+o*(1-e.a)+l*(1-t.a))/i;return{r:h,g:f,b:c,a:i}}},{}],30:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;\"function\"==typeof i&&(s=i,i={});if(!(t instanceof this.constructor))return n.throwError.call(this,\"The source must be a Jimp image\",s);if(\"number\"!=typeof e||\"number\"!=typeof r)return n.throwError.call(this,\"x and y must be numbers\",s);var u=i,l=u.mode,h=u.opacitySource,f=u.opacityDest;l||(l=a.BLEND_SOURCE_OVER);(\"number\"!=typeof h||h<0||h>1)&&(h=1);(\"number\"!=typeof f||f<0||f>1)&&(f=1);var c=o[l];e=Math.round(e),r=Math.round(r);var d=this;1!==f&&d.opacity(f);t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,function(t,i,n){var o=d.getPixelIndex(e+t,r+i,a.EDGE_CROP),s=c({r:this.bitmap.data[n+0]/255,g:this.bitmap.data[n+1]/255,b:this.bitmap.data[n+2]/255,a:this.bitmap.data[n+3]/255},{r:d.bitmap.data[o+0]/255,g:d.bitmap.data[o+1]/255,b:d.bitmap.data[o+2]/255,a:d.bitmap.data[o+3]/255},h);d.bitmap.data[o+0]=this.constructor.limit255(255*s.r),d.bitmap.data[o+1]=this.constructor.limit255(255*s.g),d.bitmap.data[o+2]=this.constructor.limit255(255*s.b),d.bitmap.data[o+3]=this.constructor.limit255(255*s.a)}),(0,n.isNodePattern)(s)&&s.call(this,null,this);return this};var n=t(\"@jimp/utils\"),a=i(t(\"../constants\")),o=i(t(\"./composite-modes\"));e.exports=r.default},{\"../constants\":31,\"./composite-modes\":29,\"@babel/runtime/helpers/interopRequireWildcard\":14,\"@jimp/utils\":70}],31:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.EDGE_CROP=r.EDGE_WRAP=r.EDGE_EXTEND=r.BLEND_EXCLUSION=r.BLEND_DIFFERENCE=r.BLEND_HARDLIGHT=r.BLEND_LIGHTEN=r.BLEND_DARKEN=r.BLEND_OVERLAY=r.BLEND_SCREEN=r.BLEND_ADD=r.BLEND_MULTIPLY=r.BLEND_DESTINATION_OVER=r.BLEND_SOURCE_OVER=r.VERTICAL_ALIGN_BOTTOM=r.VERTICAL_ALIGN_MIDDLE=r.VERTICAL_ALIGN_TOP=r.HORIZONTAL_ALIGN_RIGHT=r.HORIZONTAL_ALIGN_CENTER=r.HORIZONTAL_ALIGN_LEFT=r.AUTO=void 0;r.AUTO=-1;r.HORIZONTAL_ALIGN_LEFT=1;r.HORIZONTAL_ALIGN_CENTER=2;r.HORIZONTAL_ALIGN_RIGHT=4;r.VERTICAL_ALIGN_TOP=8;r.VERTICAL_ALIGN_MIDDLE=16;r.VERTICAL_ALIGN_BOTTOM=32;r.BLEND_SOURCE_OVER=\"srcOver\";r.BLEND_DESTINATION_OVER=\"dstOver\";r.BLEND_MULTIPLY=\"multiply\";r.BLEND_ADD=\"add\";r.BLEND_SCREEN=\"screen\";r.BLEND_OVERLAY=\"overlay\";r.BLEND_DARKEN=\"darken\";r.BLEND_LIGHTEN=\"lighten\";r.BLEND_HARDLIGHT=\"hardLight\";r.BLEND_DIFFERENCE=\"difference\";r.BLEND_EXCLUSION=\"exclusion\";r.EDGE_EXTEND=1;r.EDGE_WRAP=2;r.EDGE_CROP=3},{}],32:[function(t,e,r){(function(e,i){(function(){\"use strict\";var n=t(\"@babel/runtime/helpers/interopRequireWildcard\"),a=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.addConstants=F,r.addJimpMethods=z,r.jimpEvMethod=G,r.jimpEvChange=H,Object.defineProperty(r,\"addType\",{enumerable:!0,get:function(){return C.addType}}),r.default=void 0;for(var o=a(t(\"@babel/runtime/helpers/construct\")),s=a(t(\"@babel/runtime/helpers/slicedToArray\")),u=a(t(\"@babel/runtime/helpers/classCallCheck\")),l=a(t(\"@babel/runtime/helpers/createClass\")),h=a(t(\"@babel/runtime/helpers/possibleConstructorReturn\")),f=a(t(\"@babel/runtime/helpers/getPrototypeOf\")),c=a(t(\"@babel/runtime/helpers/assertThisInitialized\")),d=a(t(\"@babel/runtime/helpers/inherits\")),p=a(t(\"@babel/runtime/helpers/defineProperty\")),m=a(t(\"@babel/runtime/helpers/typeof\")),b=a(t(\"fs\")),g=a(t(\"path\")),_=a(t(\"events\")),y=t(\"@jimp/utils\"),v=a(t(\"any-base\")),w=a(t(\"mkdirp\")),E=a(t(\"pixelmatch\")),x=a(t(\"tinycolor2\")),I=a(t(\"./modules/phash\")),S=a(t(\"./request\")),A=a(t(\"./composite\")),M=a(t(\"./utils/promisify\")),C=n(t(\"./utils/mime\")),T=t(\"./utils/image-bitmap\"),k=n(t(\"./constants\")),P=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_\",R=[NaN,NaN],L=2;L<65;L++){var O=(0,v.default)(v.default.BIN,P.slice(0,L))(new Array(65).join(\"1\"));R.push(O.length)}function B(){}function N(t,e){(0,S.default)(t,function(r,n,a){if(r)return e(r);if(\"headers\"in n&&\"location\"in n.headers)return t.url=n.headers.location,N(t,e);if(\"object\"===(0,m.default)(a)&&i.isBuffer(a))return e(null,a);var o=\"Could not load Buffer from <\"+t.url+\"> (HTTP: \"+n.statusCode+\")\";return new Error(o)})}var D,U={data:null,width:null,height:null},j=function(t){function e(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(0,u.default)(this,e),t=(0,h.default)(this,(0,f.default)(e).call(this)),(0,p.default)((0,c.default)(t),\"bitmap\",U),(0,p.default)((0,c.default)(t),\"_background\",0),(0,p.default)((0,c.default)(t),\"_originalMime\",e.MIME_PNG),(0,p.default)((0,c.default)(t),\"_exif\",null),(0,p.default)((0,c.default)(t),\"_rgba\",!0),(0,p.default)((0,c.default)(t),\"writeAsync\",function(e){return(0,M.default)(t.write,(0,c.default)(t),e)}),(0,p.default)((0,c.default)(t),\"getBase64Async\",function(e){return(0,M.default)(t.getBase64,(0,c.default)(t),e)}),(0,p.default)((0,c.default)(t),\"getBuffer\",T.getBuffer),(0,p.default)((0,c.default)(t),\"getBufferAsync\",T.getBufferAsync),(0,p.default)((0,c.default)(t),\"getPixelColour\",t.getPixelColor),(0,p.default)((0,c.default)(t),\"setPixelColour\",t.setPixelColor);var o,s,l=(0,c.default)(t),d=B;function g(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=e[0];(i||{}).methodName=\"constructor\",setTimeout(function(){var t;i&&d===B?l.emitError(\"constructor\",i):i||l.emitMulti(\"constructor\",\"initialized\"),(t=d).call.apply(t,[l].concat(e))},1)}if(o=n[0],Object.prototype.toString.call(o).toLowerCase().indexOf(\"arraybuffer\")>-1&&(n[0]=function(t){for(var e=i.alloc(t.byteLength),r=new Uint8Array(t),n=0;n<e.length;++n)e[n]=r[n];return e}(n[0])),\"number\"==typeof n[0]&&\"number\"==typeof n[1]||parseInt(n[0],10)&&parseInt(n[1],10)){var _=parseInt(n[0],10),v=parseInt(n[1],10);if(d=n[2],\"number\"==typeof n[2]&&(t._background=n[2],d=n[3]),\"string\"==typeof n[2]&&(t._background=e.cssColorToHex(n[2]),d=n[3]),void 0===d&&(d=B),\"function\"!=typeof d)return(0,h.default)(t,y.throwError.call((0,c.default)(t),\"cb must be a function\",g));t.bitmap={data:i.alloc(_*v*4),width:_,height:v};for(var w=0;w<t.bitmap.data.length;w+=4)t.bitmap.data.writeUInt32BE(t._background,w);g(null,(0,c.default)(t))}else if(\"object\"===(0,m.default)(n[0])&&n[0].url){if(\"function\"!=typeof(d=n[1]||B))return(0,h.default)(t,y.throwError.call((0,c.default)(t),\"cb must be a function\",g));N(n[0],function(e,r){if(e)return y.throwError.call((0,c.default)(t),e,g);t.parseBitmap(r,n[0].url,g)})}else if(n[0]instanceof e){var E=n[0];if(void 0===(d=n[1])&&(d=B),\"function\"!=typeof d)return(0,h.default)(t,y.throwError.call((0,c.default)(t),\"cb must be a function\",g));t.bitmap={data:i.from(E.bitmap.data),width:E.bitmap.width,height:E.bitmap.height},t._quality=E._quality,t._deflateLevel=E._deflateLevel,t._deflateStrategy=E._deflateStrategy,t._filterType=E._filterType,t._rgba=E._rgba,t._background=E._background,t._originalMime=E._originalMime,g(null,(0,c.default)(t))}else if((s=n[0])&&\"object\"===(0,m.default)(s)&&\"number\"==typeof s.width&&\"number\"==typeof s.height&&(i.isBuffer(s.data)||s.data instanceof Uint8Array||\"function\"==typeof Uint8ClampedArray&&s.data instanceof Uint8ClampedArray)&&(s.data.length===s.width*s.height*4||s.data.length===s.width*s.height*3)){var x=n[0];d=n[1]||B;var I=x.width*x.height*4===x.data.length?i.from(x.data):function(t){if(t.length%3!=0)throw new Error(\"Buffer length is incorrect\");for(var e=i.allocUnsafe(t.length/3*4),r=0,n=0;n<t.length;n++)e[r]=t[n],(n+1)%3==0&&(e[++r]=255),r++;return e}(x.data);t.bitmap={data:I,width:x.width,height:x.height},g(null,(0,c.default)(t))}else if(\"string\"==typeof n[0]){var S=n[0];if(void 0===(d=n[1])&&(d=B),\"function\"!=typeof d)return(0,h.default)(t,y.throwError.call((0,c.default)(t),\"cb must be a function\",g));!function(t,e){b.default&&\"function\"==typeof b.default.readFile&&!t.match(/^(http|ftp)s?:\\/\\/./)?b.default.readFile(t,e):N({url:t},e)}(S,function(e,r){if(e)return y.throwError.call((0,c.default)(t),e,g);t.parseBitmap(r,S,g)})}else if(\"object\"===(0,m.default)(n[0])&&i.isBuffer(n[0])){var A=n[0];if(\"function\"!=typeof(d=n[1]))return(0,h.default)(t,y.throwError.call((0,c.default)(t),\"cb must be a function\",g));t.parseBitmap(A,null,g)}else{\"function\"!=typeof(d=n[n.length-1])&&\"function\"!=typeof(d=n[n.length-2])&&(d=B);var C=e.__extraConstructors.find(function(t){return t.test.apply(t,n)});if(!C)return(0,h.default)(t,y.throwError.call((0,c.default)(t),\"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.\",g));new Promise(function(e,r){var i;return(i=C.run).call.apply(i,[(0,c.default)(t),e,r].concat(n))}).then(function(){return g(null,(0,c.default)(t))}).catch(g)}return t}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"parseBitmap\",value:function(t,e,r){T.parseBitmap.call(this,t,null,r)}},{key:\"rgba\",value:function(t,e){return\"boolean\"!=typeof t?y.throwError.call(this,\"bool must be a boolean, true for RGBA or false for RGB\",e):(this._rgba=t,(0,y.isNodePattern)(e)&&e.call(this,null,this),this)}},{key:\"emitMulti\",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=Object.assign(r,{methodName:t,eventName:e}),this.emit(\"any\",r),t&&this.emit(t,r),this.emit(e,r)}},{key:\"emitError\",value:function(t,e){this.emitMulti(t,\"error\",e)}},{key:\"getHeight\",value:function(){return this.bitmap.height}},{key:\"getWidth\",value:function(){return this.bitmap.width}},{key:\"inspect\",value:function(){return\"<Jimp \"+(this.bitmap===U?\"pending...\":this.bitmap.width+\"x\"+this.bitmap.height)+\">\"}},{key:\"toString\",value:function(){return\"[object Jimp]\"}},{key:\"getMIME\",value:function(){return this._originalMime||e.MIME_PNG}},{key:\"getExtension\",value:function(){var t=this.getMIME();return C.getExtension(t)}},{key:\"write\",value:function(t,e){var r=this;if(!b.default||!b.default.createWriteStream)throw new Error(\"Cant access the filesystem. You can use the getBase64 method.\");if(\"string\"!=typeof t)return y.throwError.call(this,\"path must be a string\",e);if(void 0===e&&(e=B),\"function\"!=typeof e)return y.throwError.call(this,\"cb must be a function\",e);var i=C.getType(t)||this.getMIME(),n=g.default.parse(t);return n.dir&&w.default.sync(n.dir),this.getBuffer(i,function(i,n){if(i)return y.throwError.call(r,i,e);var a=b.default.createWriteStream(t);a.on(\"open\",function(){a.write(n),a.end()}).on(\"error\",function(t){return y.throwError.call(r,t,e)}),a.on(\"finish\",function(){e.call(r,null,r)})}),this}},{key:\"getBase64\",value:function(t,r){return t===e.AUTO&&(t=this.getMIME()),\"string\"!=typeof t?y.throwError.call(this,\"mime must be a string\",r):\"function\"!=typeof r?y.throwError.call(this,\"cb must be a function\",r):(this.getBuffer(t,function(e,i){if(e)return y.throwError.call(this,e,r);var n=\"data:\"+t+\";base64,\"+i.toString(\"base64\");r.call(this,null,n)}),this)}},{key:\"hash\",value:function(t,e){if(\"function\"==typeof(t=t||64)&&(e=t,t=64),\"number\"!=typeof t)return y.throwError.call(this,\"base must be a number\",e);if(t<2||t>64)return y.throwError.call(this,\"base must be a number between 2 and 64\",e);var r=this.pHash();for(r=(0,v.default)(v.default.BIN,P.slice(0,t))(r);r.length<R[t];)r=\"0\"+r;return(0,y.isNodePattern)(e)&&e.call(this,null,r),r}},{key:\"pHash\",value:function(){var t=new I.default;return t.getHash(this)}},{key:\"distanceFromHash\",value:function(t){var e=new I.default,r=e.getHash(this);return e.distance(r,t)}},{key:\"getPixelIndex\",value:function(t,r,i,n){var a,o;if(\"function\"==typeof i&&void 0===n&&(n=i,i=null),i||(i=e.EDGE_EXTEND),\"number\"!=typeof t||\"number\"!=typeof r)return y.throwError.call(this,\"x and y must be numbers\",n);a=t=Math.round(t),o=r=Math.round(r),i===e.EDGE_EXTEND&&(t<0&&(a=0),t>=this.bitmap.width&&(a=this.bitmap.width-1),r<0&&(o=0),r>=this.bitmap.height&&(o=this.bitmap.height-1)),i===e.EDGE_WRAP&&(t<0&&(a=this.bitmap.width+t),t>=this.bitmap.width&&(a=t%this.bitmap.width),r<0&&(a=this.bitmap.height+r),r>=this.bitmap.height&&(o=r%this.bitmap.height));var s=this.bitmap.width*o+a<<2;return(a<0||a>=this.bitmap.width)&&(s=-1),(o<0||o>=this.bitmap.height)&&(s=-1),(0,y.isNodePattern)(n)&&n.call(this,null,s),s}},{key:\"getPixelColor\",value:function(t,e,r){if(\"number\"!=typeof t||\"number\"!=typeof e)return y.throwError.call(this,\"x and y must be numbers\",r);t=Math.round(t),e=Math.round(e);var i=this.getPixelIndex(t,e),n=this.bitmap.data.readUInt32BE(i);return(0,y.isNodePattern)(r)&&r.call(this,null,n),n}},{key:\"setPixelColor\",value:function(t,e,r,i){if(\"number\"!=typeof t||\"number\"!=typeof e||\"number\"!=typeof r)return y.throwError.call(this,\"hex, x and y must be numbers\",i);e=Math.round(e),r=Math.round(r);var n=this.getPixelIndex(e,r);return this.bitmap.data.writeUInt32BE(t,n),(0,y.isNodePattern)(i)&&i.call(this,null,this),this}},{key:\"hasAlpha\",value:function(){for(var t=0;t<this.bitmap.height;t++)for(var e=0;e<this.bitmap.width;e++){var r=this.bitmap.width*t+e<<2;if(255!==this.bitmap.data[r+3])return!0}return!1}},{key:\"scanIterator\",value:function(t,e,r,i){return\"number\"!=typeof t||\"number\"!=typeof e?y.throwError.call(this,\"x and y must be numbers\"):\"number\"!=typeof r||\"number\"!=typeof i?y.throwError.call(this,\"w and h must be numbers\"):(0,y.scanIterator)(this,t,e,r,i)}}]),e}(_.default);function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;Object.entries(t).forEach(function(t){var r=(0,s.default)(t,2),i=r[0],n=r[1];e[i]=n})}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;Object.entries(t).forEach(function(t){var r=(0,s.default)(t,2),i=r[0],n=r[1];e.prototype[i]=n})}function G(t,e,r){var i=\"before-\"+e,n=e.replace(/e$/,\"\")+\"ed\";j.prototype[t]=function(){for(var e,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var u,l=o[r.length-1],h=this;\"function\"==typeof l?(e=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=r[0],o=r[1];a?h.emitError(t,a):h.emitMulti(t,n,(0,p.default)({},t,o)),l.apply(this,r)},o[o.length-1]=e):e=!1,this.emitMulti(t,i);try{u=r.apply(this,o),e||this.emitMulti(t,n,(0,p.default)({},t,u))}catch(e){e.methodName=t,this.emitError(t,e)}return u},j.prototype[t+\"Quiet\"]=r}function H(t,e){G(t,\"change\",e)}(F(k),z({composite:A.default}),j.__extraConstructors=[],j.appendConstructorOption=function(t,e,r){j.__extraConstructors.push({name:t,test:e,run:r})},j.read=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return new Promise(function(t,r){(0,o.default)(j,e.concat([function(e,i){e?r(e):t(i)}]))})},j.create=j.read,j.rgbaToInt=function(t,e,r,i,n){if(\"number\"!=typeof t||\"number\"!=typeof e||\"number\"!=typeof r||\"number\"!=typeof i)return y.throwError.call(this,\"r, g, b and a must be numbers\",n);if(t<0||t>255)return y.throwError.call(this,\"r must be between 0 and 255\",n);if((e<0||e>255)&&y.throwError.call(this,\"g must be between 0 and 255\",n),r<0||r>255)return y.throwError.call(this,\"b must be between 0 and 255\",n);if(i<0||i>255)return y.throwError.call(this,\"a must be between 0 and 255\",n);t=Math.round(t),r=Math.round(r),e=Math.round(e),i=Math.round(i);var a=t*Math.pow(256,3)+e*Math.pow(256,2)+r*Math.pow(256,1)+i*Math.pow(256,0);return(0,y.isNodePattern)(n)&&n.call(this,null,a),a},j.intToRGBA=function(t,e){if(\"number\"!=typeof t)return y.throwError.call(this,\"i must be a number\",e);var r={};return r.r=Math.floor(t/Math.pow(256,3)),r.g=Math.floor((t-r.r*Math.pow(256,3))/Math.pow(256,2)),r.b=Math.floor((t-r.r*Math.pow(256,3)-r.g*Math.pow(256,2))/Math.pow(256,1)),r.a=Math.floor((t-r.r*Math.pow(256,3)-r.g*Math.pow(256,2)-r.b*Math.pow(256,1))/Math.pow(256,0)),(0,y.isNodePattern)(e)&&e.call(this,null,r),r},j.cssColorToHex=function(t){return\"number\"==typeof(t=t||0)?Number(t):parseInt((0,x.default)(t).toHex8(),16)},j.limit255=function(t){return t=Math.max(t,0),t=Math.min(t,255)},j.diff=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!(t instanceof j&&e instanceof j))return y.throwError.call(this,\"img1 and img2 must be an Jimp images\");var i=t.bitmap,n=e.bitmap;if(i.width===n.width&&i.height===n.height||(i.width*i.height>n.width*n.height?t=t.cloneQuiet().resize(n.width,n.height):e=e.cloneQuiet().resize(i.width,i.height)),\"number\"!=typeof r||r<0||r>1)return y.throwError.call(this,\"threshold must be a number between 0 and 1\");var a=new j(i.width,i.height,4294967295);return{percent:(0,E.default)(i.data,n.data,a.bitmap.data,a.bitmap.width,a.bitmap.height,{threshold:r})/(a.bitmap.width*a.bitmap.height),image:a}},j.distance=function(t,e){var r=new I.default,i=r.getHash(t),n=r.getHash(e);return r.distance(i,n)},j.compareHashes=function(t,e){return(new I.default).distance(t,e)},j.colorDiff=function(t,e){var r=function(t){return Math.pow(t,2)},i=Math.max;return 0===t.a||t.a||(t.a=255),0===e.a||e.a||(e.a=255),(i(r(t.r-e.r),r(t.r-e.r-t.a+e.a))+i(r(t.g-e.g),r(t.g-e.g-t.a+e.a))+i(r(t.b-e.b),r(t.b-e.b-t.a+e.a)))/195075},G(\"clone\",\"clone\",function(t){var e=new j(this);return(0,y.isNodePattern)(t)&&t.call(e,null,e),e}),H(\"background\",function(t,e){return\"number\"!=typeof t?y.throwError.call(this,\"hex must be a hexadecimal rgba value\",e):(this._background=t,(0,y.isNodePattern)(e)&&e.call(this,null,this),this)}),H(\"scan\",function(t,e,r,i,n,a){if(\"number\"!=typeof t||\"number\"!=typeof e)return y.throwError.call(this,\"x and y must be numbers\",a);if(\"number\"!=typeof r||\"number\"!=typeof i)return y.throwError.call(this,\"w and h must be numbers\",a);if(\"function\"!=typeof n)return y.throwError.call(this,\"f must be a function\",a);var o=(0,y.scan)(this,t,e,r,i,n);return(0,y.isNodePattern)(a)&&a.call(this,null,o),o}),\"BROWSER\"===e.env.ENVIRONMENT)&&(\"undefined\"!=typeof window&&\"object\"===(\"undefined\"==typeof window?\"undefined\":(0,m.default)(window))&&(D=window),\"undefined\"!=typeof self&&\"object\"===(\"undefined\"==typeof self?\"undefined\":(0,m.default)(self))&&(D=self),D.Jimp=j,D.Buffer=i);var q=j;r.default=q}).call(this)}).call(this,t(\"_process\"),t(\"buffer\").Buffer)},{\"./composite\":30,\"./constants\":31,\"./modules/phash\":33,\"./request\":34,\"./utils/image-bitmap\":35,\"./utils/mime\":36,\"./utils/promisify\":37,\"@babel/runtime/helpers/assertThisInitialized\":4,\"@babel/runtime/helpers/classCallCheck\":6,\"@babel/runtime/helpers/construct\":7,\"@babel/runtime/helpers/createClass\":8,\"@babel/runtime/helpers/defineProperty\":9,\"@babel/runtime/helpers/getPrototypeOf\":11,\"@babel/runtime/helpers/inherits\":12,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/helpers/interopRequireWildcard\":14,\"@babel/runtime/helpers/possibleConstructorReturn\":20,\"@babel/runtime/helpers/slicedToArray\":23,\"@babel/runtime/helpers/typeof\":25,\"@jimp/utils\":70,_process:184,\"any-base\":71,buffer:87,events:92,fs:85,mkdirp:134,path:159,pixelmatch:161,tinycolor2:228}],33:[function(t,e,r){\"use strict\";function i(t,e){this.size=this.size||t,this.smallerSize=this.smallerSize||e,function(t){for(var e=1;e<t;e++)a[e]=1;a[0]=1/Math.sqrt(2)}(this.size)}function n(t){var e={};return e.r=Math.floor(t/Math.pow(256,3)),e.g=Math.floor((t-e.r*Math.pow(256,3))/Math.pow(256,2)),e.b=Math.floor((t-e.r*Math.pow(256,3)-e.g*Math.pow(256,2))/Math.pow(256,1)),e.a=Math.floor((t-e.r*Math.pow(256,3)-e.g*Math.pow(256,2)-e.b*Math.pow(256,1))/Math.pow(256,0)),e}i.prototype.size=32,i.prototype.smallerSize=8,i.prototype.distance=function(t,e){for(var r=0,i=0;i<t.length;i++)t[i]!==e[i]&&r++;return r/t.length},i.prototype.getHash=function(t){(t=t.clone().resize(this.size,this.size)).grayscale();for(var e=[],r=0;r<t.bitmap.width;r++){e[r]=[];for(var i=0;i<t.bitmap.height;i++)e[r][i]=n(t.getPixelColor(r,i)).b}for(var o=function(t,e){for(var r=e,i=[],n=0;n<r;n++){i[n]=[];for(var o=0;o<r;o++){for(var s=0,u=0;u<r;u++)for(var l=0;l<r;l++)s+=Math.cos((2*u+1)/(2*r)*n*Math.PI)*Math.cos((2*l+1)/(2*r)*o*Math.PI)*t[u][l];s*=a[n]*a[o]/4,i[n][o]=s}}return i}(e,this.size),s=0,u=0;u<this.smallerSize;u++)for(var l=0;l<this.smallerSize;l++)s+=o[u][l];for(var h=s/(this.smallerSize*this.smallerSize),f=\"\",c=0;c<this.smallerSize;c++)for(var d=0;d<this.smallerSize;d++)f+=o[c][d]>h?\"1\":\"0\";return f};var a=[];e.exports=i},{}],34:[function(t,e,r){(function(r,i){(function(){\"use strict\";var n=t(\"@babel/runtime/helpers/interopRequireDefault\"),a=n(t(\"@babel/runtime/helpers/defineProperty\")),o=n(t(\"@babel/runtime/helpers/extends\"));function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}r.browser||\"BROWSER\"===r.env.ENVIRONMENT||void 0!==r.versions.electron&&\"renderer\"===r.type&&\"function\"==typeof XMLHttpRequest?e.exports=function(t,e){var r=new XMLHttpRequest;r.open(\"GET\",t.url,!0),r.responseType=\"arraybuffer\",r.addEventListener(\"load\",function(){if(r.status<400)try{var n=i.from(this.response);e(null,r,n)}catch(r){return e(new Error(\"Response is not a buffer for url \"+t.url+\". Error: \"+r.message))}else e(new Error(\"HTTP Status \"+r.status+\" for url \"+t.url))}),r.addEventListener(\"error\",function(t){e(t)}),r.send()}:e.exports=function(e,r){var i=(0,o.default)({},e);t(\"phin\")(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(r,!0).forEach(function(e){(0,a.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({compression:!0},i),function(t,e){null===t?r(null,e,e.body):r(t)})}}).call(this)}).call(this,t(\"_process\"),t(\"buffer\").Buffer)},{\"@babel/runtime/helpers/defineProperty\":9,\"@babel/runtime/helpers/extends\":10,\"@babel/runtime/helpers/interopRequireDefault\":13,_process:184,buffer:87,phin:160}],35:[function(t,e,r){(function(e){(function(){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireWildcard\"),n=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.parseBitmap=function(t,r,i){var n=function(t,e){var r=(0,o.default)(t);if(r)return r.mime;if(e)return h.getType(e);return null}(t,r);if(\"string\"!=typeof n)return i(new Error(\"Could not find MIME for Buffer <\"+r+\">\"));this._originalMime=n.toLowerCase();try{var l=this.getMIME();if(!this.constructor.decoders[l])return u.throwError.call(this,\"Unsupported MIME type: \"+l,i);this.bitmap=this.constructor.decoders[l](t)}catch(t){return i.call(this,t,this)}try{this._exif=s.default.create(t).parse(),function(t){if(c(t)<2)return;var r=function(t){var e=t.getWidth(),r=t.getHeight();switch(c(t)){case 1:return null;case 2:return function(t,r){return[e-t-1,r]};case 3:return function(t,i){return[e-t-1,r-i-1]};case 4:return function(t,e){return[t,r-e-1]};case 5:return function(t,e){return[e,t]};case 6:return function(t,e){return[e,r-t-1]};case 7:return function(t,i){return[e-i-1,r-t-1]};case 8:return function(t,r){return[e-r-1,t]};default:return null}}(t),i=c(t)>4,n=i?t.bitmap.height:t.bitmap.width,o=i?t.bitmap.width:t.bitmap.height;!function(t,r,i,n){for(var o=t.bitmap.data,s=t.bitmap.width,u=e.alloc(o.length),l=0;l<r;l++)for(var h=0;h<i;h++){var f=n(l,h),c=(0,a.default)(f,2),d=c[0],p=c[1],m=r*h+l<<2,b=s*p+d<<2,g=o.readUInt32BE(b);u.writeUInt32BE(g,m)}t.bitmap.data=u,t.bitmap.width=r,t.bitmap.height=i}(t,n,o,r)}(this)}catch(t){}return i.call(this,null,this),this},r.getBuffer=d,r.getBufferAsync=function(t){return(0,f.default)(d,this,t)};var a=n(t(\"@babel/runtime/helpers/slicedToArray\")),o=n(t(\"file-type\")),s=n(t(\"exif-parser\")),u=t(\"@jimp/utils\"),l=i(t(\"../constants\")),h=i(t(\"./mime\")),f=n(t(\"./promisify\"));function c(t){return t._exif&&t._exif.tags&&t._exif.tags.Orientation||1}function d(t,r){if(t===l.AUTO&&(t=this.getMIME()),\"string\"!=typeof t)return u.throwError.call(this,\"mime must be a string\",r);if(\"function\"!=typeof r)return u.throwError.call(this,\"cb must be a function\",r);var i,n;if(t=t.toLowerCase(),this._rgba&&this.constructor.hasAlpha[t]?this.bitmap.data=e.from(this.bitmap.data):this.bitmap.data=(i=this.constructor,n=this,new i(n.bitmap.width,n.bitmap.height,n._background).composite(n,0,0).bitmap).data,this.constructor.encoders[t]){var a=this.constructor.encoders[t](this);r.call(this,null,a)}else r.call(this,\"Unsupported MIME type: \"+t);return this}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"../constants\":31,\"./mime\":36,\"./promisify\":37,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/helpers/interopRequireWildcard\":14,\"@babel/runtime/helpers/slicedToArray\":23,\"@jimp/utils\":70,buffer:87,\"exif-parser\":93,\"file-type\":102}],36:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.getExtension=r.getType=r.addType=void 0;var i={};r.addType=function(t,e){i[t]=e};r.getType=function(t){var e=t.split(\"/\").slice(-1);return function(t){return Object.entries(i).find(function(e){return e[1].includes(t)})||[]}(e[e.length-1].split(\".\").pop())[0]};r.getExtension=function(t){return(i[t.toLowerCase()]||[])[0]}},{}],37:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=function(t,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];return new Promise(function(r,n){i.push(function(t,e){t&&n(t),r(e)}),t.bind(e).apply(void 0,i)})};r.default=i,e.exports=r.default},{}],38:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireWildcard\"),n=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default,r={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function i(t){Object.entries(t).forEach(function(t){var e=(0,s.default)(t,2),i=e[0],n=e[1];r[i]=h({},r[i],{},n)})}t.types&&(t.types.forEach(function(t){var e=t();Array.isArray(e.mime)?u.addType.apply(void 0,(0,a.default)(e.mime)):Object.entries(e.mime).forEach(function(t){return u.addType.apply(void 0,(0,a.default)(t))});delete e.mime,i(e)}),e.decoders=h({},e.decoders,{},r.decoders),e.encoders=h({},e.encoders,{},r.encoders),e.hasAlpha=h({},e.hasAlpha,{},r.hasAlpha));t.plugins&&t.plugins.forEach(function(t){var e=t(u.jimpEvChange)||{};e.class||e.constants?i(e):i({class:e})});return(0,u.addJimpMethods)(r.class,e),(0,u.addConstants)(r.constants,e),u.default};var a=n(t(\"@babel/runtime/helpers/toConsumableArray\")),o=n(t(\"@babel/runtime/helpers/defineProperty\")),s=n(t(\"@babel/runtime/helpers/slicedToArray\")),u=i(t(\"@jimp/core\"));function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(r,!0).forEach(function(e){(0,o.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}e.exports=r.default},{\"@babel/runtime/helpers/defineProperty\":9,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/helpers/interopRequireWildcard\":14,\"@babel/runtime/helpers/slicedToArray\":23,\"@babel/runtime/helpers/toConsumableArray\":24,\"@jimp/core\":32}],39:[function(t,e,r){(function(i){(function(){\"use strict\";var n=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var a=n(t(\"@babel/runtime/helpers/defineProperty\")),o=n(t(\"omggif\")),s=t(\"gifwrap\");r.default=function(){return{mime:(0,a.default)({},\"image/gif\",[\"gif\"]),constants:{MIME_GIF:\"image/gif\"},decoders:(0,a.default)({},\"image/gif\",function(t){var e=new o.default.GifReader(t),r=i.alloc(e.width*e.height*4);return e.decodeAndBlitFrameRGBA(0,r),{data:r,width:e.width,height:e.height}}),encoders:(0,a.default)({},\"image/gif\",function(t){var e=new s.BitmapImage(t.bitmap);s.GifUtil.quantizeDekker(e,256);var r=new s.GifFrame(e);return(new s.GifCodec).encodeGif([r],{}).then(function(t){return t.buffer})})}},e.exports=r.default}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"@babel/runtime/helpers/defineProperty\":9,\"@babel/runtime/helpers/interopRequireDefault\":13,buffer:87,gifwrap:112,omggif:137}],40:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=i(t(\"@babel/runtime/helpers/defineProperty\")),a=i(t(\"jpeg-js\")),o=t(\"@jimp/utils\");r.default=function(){return{mime:(0,n.default)({},\"image/jpeg\",[\"jpeg\",\"jpg\",\"jpe\"]),constants:{MIME_JPEG:\"image/jpeg\"},decoders:(0,n.default)({},\"image/jpeg\",a.default.decode),encoders:(0,n.default)({},\"image/jpeg\",function(t){return a.default.encode(t.bitmap,t._quality).data}),class:{_quality:100,quality:function(t,e){return\"number\"!=typeof t?o.throwError.call(this,\"n must be a number\",e):t<0||t>100?o.throwError.call(this,\"n must be a number 0 - 100\",e):(this._quality=Math.round(t),(0,o.isNodePattern)(e)&&e.call(this,null,this),this)}}}},e.exports=r.default},{\"@babel/runtime/helpers/defineProperty\":9,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@jimp/utils\":70,\"jpeg-js\":129}],41:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=i(t(\"@babel/runtime/helpers/typeof\")),a=t(\"@jimp/utils\");r.default=function(){return{blit:function(t,e,r,i,o,s,u,l){if(!(t instanceof this.constructor))return a.throwError.call(this,\"The source must be a Jimp image\",l);if(\"number\"!=typeof e||\"number\"!=typeof r)return a.throwError.call(this,\"x and y must be numbers\",l);if(\"function\"==typeof i)l=i,i=0,o=0,s=t.bitmap.width,u=t.bitmap.height;else{if((0,n.default)(i)!==(0,n.default)(o)||(0,n.default)(o)!==(0,n.default)(s)||(0,n.default)(s)!==(0,n.default)(u))return a.throwError.call(this,\"srcx, srcy, srcw, srch must be numbers\",l);i=i||0,o=o||0,s=s||t.bitmap.width,u=u||t.bitmap.height}e=Math.round(e),r=Math.round(r),i=Math.round(i),o=Math.round(o),s=Math.round(s),u=Math.round(u);var h=this.bitmap.width,f=this.bitmap.height,c=this;return t.scanQuiet(i,o,s,u,function(t,n,a){var s=e+t-i,u=r+n-o;if(s>=0&&u>=0&&h-s>0&&f-u>0){var l=c.getPixelIndex(s,u),d={r:this.bitmap.data[a],g:this.bitmap.data[a+1],b:this.bitmap.data[a+2],a:this.bitmap.data[a+3]},p={r:c.bitmap.data[l],g:c.bitmap.data[l+1],b:c.bitmap.data[l+2],a:c.bitmap.data[l+3]};c.bitmap.data[l]=(d.a*(d.r-p.r)-p.r+255>>8)+p.r,c.bitmap.data[l+1]=(d.a*(d.g-p.g)-p.g+255>>8)+p.g,c.bitmap.data[l+2]=(d.a*(d.b-p.b)-p.b+255>>8)+p.b,c.bitmap.data[l+3]=this.constructor.limit255(p.a+d.a)}}),(0,a.isNodePattern)(l)&&l.call(this,null,this),this}}},e.exports=r.default},{\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/helpers/typeof\":25,\"@jimp/utils\":70}],42:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.shgTable=r.mulTable=void 0;r.mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];r.shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18]},{}],43:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\"),n=t(\"./blur-tables\");r.default=function(){return{blur:function(t,e){if(\"number\"!=typeof t)return i.throwError.call(this,\"r must be a number\",e);if(t<1)return i.throwError.call(this,\"r must be greater than 0\",e);for(var r,a,o,s,u,l,h,f,c,d,p,m,b,g,_=this.bitmap.width-1,y=this.bitmap.height-1,v=t+1,w=n.mulTable[t],E=n.shgTable[t],x=[],I=[],S=[],A=[],M=[],C=[],T=2;T-- >0;){for(m=0,b=0,l=0;l<this.bitmap.height;l++){for(r=this.bitmap.data[b]*v,a=this.bitmap.data[b+1]*v,o=this.bitmap.data[b+2]*v,s=this.bitmap.data[b+3]*v,h=1;h<=t;h++)f=b+((h>_?_:h)<<2),r+=this.bitmap.data[f++],a+=this.bitmap.data[f++],o+=this.bitmap.data[f++],s+=this.bitmap.data[f];for(u=0;u<this.bitmap.width;u++)x[m]=r,I[m]=a,S[m]=o,A[m]=s,0===l&&(M[u]=((f=u+v)<_?f:_)<<2,C[u]=(f=u-t)>0?f<<2:0),c=b+M[u],d=b+C[u],r+=this.bitmap.data[c++]-this.bitmap.data[d++],a+=this.bitmap.data[c++]-this.bitmap.data[d++],o+=this.bitmap.data[c++]-this.bitmap.data[d++],s+=this.bitmap.data[c]-this.bitmap.data[d],m++;b+=this.bitmap.width<<2}for(u=0;u<this.bitmap.width;u++){for(r=x[p=u]*v,a=I[p]*v,o=S[p]*v,s=A[p]*v,h=1;h<=t;h++)r+=x[p+=h>y?0:this.bitmap.width],a+=I[p],o+=S[p],s+=A[p];for(m=u<<2,l=0;l<this.bitmap.height;l++)g=s*w>>>E,this.bitmap.data[m+3]=g,g>255&&(this.bitmap.data[m+3]=255),g>0?(g=255/g,this.bitmap.data[m]=(r*w>>>E)*g,this.bitmap.data[m+1]=(a*w>>>E)*g,this.bitmap.data[m+2]=(o*w>>>E)*g):(this.bitmap.data[m+2]=0,this.bitmap.data[m+1]=0,this.bitmap.data[m]=0),0===u&&(M[l]=((f=l+v)<y?f:y)*this.bitmap.width,C[l]=(f=l-t)>0?f*this.bitmap.width:0),c=u+M[l],d=u+C[l],r+=x[c]-x[d],a+=I[c]-I[d],o+=S[c]-S[d],s+=A[c]-A[d],m+=this.bitmap.width<<2}}return(0,i.isNodePattern)(e)&&e.call(this,null,this),this}}},e.exports=r.default},{\"./blur-tables\":42,\"@jimp/utils\":70}],44:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");r.default=function(){return{circle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;\"function\"==typeof t&&(e=t,t={});var r=t.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,n=\"number\"==typeof t.x?t.x:this.bitmap.width/2,a=\"number\"==typeof t.y?t.y:this.bitmap.height/2;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,i){var o=Math.sqrt(Math.pow(t-n,2)+Math.pow(e-a,2));r-o<=0?this.bitmap.data[i+3]=0:r-o<1&&(this.bitmap.data[i+3]=255*(r-o))}),(0,i.isNodePattern)(e)&&e.call(this,null,this),this}}},e.exports=r.default},{\"@jimp/utils\":70}],45:[function(t,e,r){(function(i){(function(){\"use strict\";var n=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var a=n(t(\"@babel/runtime/helpers/toConsumableArray\")),o=n(t(\"tinycolor2\")),s=t(\"@jimp/utils\");function u(t,e,r,i){for(var n=[0,0,0],a=(e.length-1)/2,o=0;o<e.length;o+=1)for(var s=0;s<e[o].length;s+=1){var u=t.getPixelIndex(r+o-a,i+s-a);n[0]+=t.bitmap.data[u]*e[o][s],n[1]+=t.bitmap.data[u+1]*e[o][s],n[2]+=t.bitmap.data[u+2]*e[o][s]}return n}var l=function(t){return null!=t};function h(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,r){var i=parseInt(.2126*this.bitmap.data[r]+.7152*this.bitmap.data[r+1]+.0722*this.bitmap.data[r+2],10);this.bitmap.data[r]=i,this.bitmap.data[r+1]=i,this.bitmap.data[r+2]=i}),(0,s.isNodePattern)(t)&&t.call(this,null,this),this}function f(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return{r:(e.r-t.r)*(r/100)+t.r,g:(e.g-t.g)*(r/100)+t.g,b:(e.b-t.b)*(r/100)+t.b}}function c(t,e){var r=this;return t&&Array.isArray(t)?(t=t.map(function(t){return\"xor\"!==t.apply&&\"mix\"!==t.apply||(t.params[0]=(0,o.default)(t.params[0]).toRgb()),t}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(i,n,u){var l={r:r.bitmap.data[u],g:r.bitmap.data[u+1],b:r.bitmap.data[u+2]},h=function(t,e){return r.constructor.limit255(l[t]+e)};t.forEach(function(t){if(\"mix\"===t.apply)l=f(l,t.params[0],t.params[1]);else if(\"tint\"===t.apply)l=f(l,{r:255,g:255,b:255},t.params[0]);else if(\"shade\"===t.apply)l=f(l,{r:0,g:0,b:0},t.params[0]);else if(\"xor\"===t.apply)l={r:l.r^t.params[0].r,g:l.g^t.params[0].g,b:l.b^t.params[0].b};else if(\"red\"===t.apply)l.r=h(\"r\",t.params[0]);else if(\"green\"===t.apply)l.g=h(\"g\",t.params[0]);else if(\"blue\"===t.apply)l.b=h(\"b\",t.params[0]);else{var i;if(\"hue\"===t.apply&&(t.apply=\"spin\"),!(l=(0,o.default)(l))[t.apply])return s.throwError.call(r,\"action \"+t.apply+\" not supported\",e);l=(i=l)[t.apply].apply(i,(0,a.default)(t.params)).toRgb()}}),r.bitmap.data[u]=l.r,r.bitmap.data[u+1]=l.g,r.bitmap.data[u+2]=l.b}),(0,s.isNodePattern)(e)&&e.call(this,null,this),this):s.throwError.call(this,\"actions must be an array\",e)}r.default=function(){return{brightness:function(t,e){return\"number\"!=typeof t?s.throwError.call(this,\"val must be numbers\",e):t<-1||t>1?s.throwError.call(this,\"val must be a number between -1 and +1\",e):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,r,i){t<0?(this.bitmap.data[i]=this.bitmap.data[i]*(1+t),this.bitmap.data[i+1]=this.bitmap.data[i+1]*(1+t),this.bitmap.data[i+2]=this.bitmap.data[i+2]*(1+t)):(this.bitmap.data[i]=this.bitmap.data[i]+(255-this.bitmap.data[i])*t,this.bitmap.data[i+1]=this.bitmap.data[i+1]+(255-this.bitmap.data[i+1])*t,this.bitmap.data[i+2]=this.bitmap.data[i+2]+(255-this.bitmap.data[i+2])*t)}),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},contrast:function(t,e){if(\"number\"!=typeof t)return s.throwError.call(this,\"val must be numbers\",e);if(t<-1||t>1)return s.throwError.call(this,\"val must be a number between -1 and +1\",e);var r=(t+1)/(1-t);function i(t){return(t=Math.floor(r*(t-127)+127))<0?0:t>255?255:t}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,r){this.bitmap.data[r]=i(this.bitmap.data[r]),this.bitmap.data[r+1]=i(this.bitmap.data[r+1]),this.bitmap.data[r+2]=i(this.bitmap.data[r+2])}),(0,s.isNodePattern)(e)&&e.call(this,null,this),this},posterize:function(t,e){return\"number\"!=typeof t?s.throwError.call(this,\"n must be numbers\",e):(t<2&&(t=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,r,i){this.bitmap.data[i]=Math.floor(this.bitmap.data[i]/255*(t-1))/(t-1)*255,this.bitmap.data[i+1]=Math.floor(this.bitmap.data[i+1]/255*(t-1))/(t-1)*255,this.bitmap.data[i+2]=Math.floor(this.bitmap.data[i+2]/255*(t-1))/(t-1)*255}),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},greyscale:h,grayscale:h,opacity:function(t,e){return\"number\"!=typeof t?s.throwError.call(this,\"f must be a number\",e):t<0||t>1?s.throwError.call(this,\"f must be a number from 0 to 1\",e):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,r,i){var n=this.bitmap.data[i+3]*t;this.bitmap.data[i+3]=n}),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},sepia:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,r){var i=this.bitmap.data[r],n=this.bitmap.data[r+1],a=this.bitmap.data[r+2];a=.272*(i=.393*i+.769*n+.189*a)+.534*(n=.349*i+.686*n+.168*a)+.131*a,this.bitmap.data[r]=i<255?i:255,this.bitmap.data[r+1]=n<255?n:255,this.bitmap.data[r+2]=a<255?a:255}),(0,s.isNodePattern)(t)&&t.call(this,null,this),this},fade:function(t,e){return\"number\"!=typeof t?s.throwError.call(this,\"f must be a number\",e):t<0||t>1?s.throwError.call(this,\"f must be a number from 0 to 1\",e):(this.opacity(1-t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},convolution:function(t,e,r){\"function\"==typeof e&&void 0===r&&(r=e,e=null),e||(e=this.constructor.EDGE_EXTEND);var n,a,o,u,l,h,f,c,d,p,m=i.from(this.bitmap.data),b=t.length,g=t[0].length,_=Math.floor(b/2),y=Math.floor(g/2),v=-_,w=-y;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(r,i,s){u=0,o=0,a=0;for(var b=v;b<=_;b++)for(var g=w;g<=y;g++)c=r+g,d=i+b,n=t[b+_][g+y],-1===(p=this.getPixelIndex(c,d,e))?(f=0,h=0,l=0):(l=this.bitmap.data[p+0],h=this.bitmap.data[p+1],f=this.bitmap.data[p+2]),a+=n*l,o+=n*h,u+=n*f;a<0&&(a=0),o<0&&(o=0),u<0&&(u=0),a>255&&(a=255),o>255&&(o=255),u>255&&(u=255),m[s+0]=a,m[s+1]=o,m[s+2]=u}),this.bitmap.data=m,(0,s.isNodePattern)(r)&&r.call(this,null,this),this},opaque:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,r){this.bitmap.data[r+3]=255}),(0,s.isNodePattern)(t)&&t.call(this,null,this),this},pixelate:function(t,e,r,i,n,a){if(\"function\"==typeof e)a=e,n=null,i=null,r=null,e=null;else{if(\"number\"!=typeof t)return s.throwError.call(this,\"size must be a number\",a);if(l(e)&&\"number\"!=typeof e)return s.throwError.call(this,\"x must be a number\",a);if(l(r)&&\"number\"!=typeof r)return s.throwError.call(this,\"y must be a number\",a);if(l(i)&&\"number\"!=typeof i)return s.throwError.call(this,\"w must be a number\",a);if(l(n)&&\"number\"!=typeof n)return s.throwError.call(this,\"h must be a number\",a)}var o=[[1/16,.125,1/16],[.125,.25,.125],[1/16,.125,1/16]];e=e||0,r=r||0,i=l(i)?i:this.bitmap.width-e,n=l(n)?n:this.bitmap.height-r;var h=this.cloneQuiet();return this.scanQuiet(e,r,i,n,function(e,r,i){e=t*Math.floor(e/t),r=t*Math.floor(r/t);var n=u(h,o,e,r);this.bitmap.data[i]=n[0],this.bitmap.data[i+1]=n[1],this.bitmap.data[i+2]=n[2]}),(0,s.isNodePattern)(a)&&a.call(this,null,this),this},convolute:function(t,e,r,i,n,a){if(!Array.isArray(t))return s.throwError.call(this,\"the kernel must be an array\",a);if(\"function\"==typeof e)a=e,e=null,r=null,i=null,n=null;else{if(l(e)&&\"number\"!=typeof e)return s.throwError.call(this,\"x must be a number\",a);if(l(r)&&\"number\"!=typeof r)return s.throwError.call(this,\"y must be a number\",a);if(l(i)&&\"number\"!=typeof i)return s.throwError.call(this,\"w must be a number\",a);if(l(n)&&\"number\"!=typeof n)return s.throwError.call(this,\"h must be a number\",a)}var o=(t.length-1)/2;e=l(e)?e:o,r=l(r)?r:o,i=l(i)?i:this.bitmap.width-e,n=l(n)?n:this.bitmap.height-r;var h=this.cloneQuiet();return this.scanQuiet(e,r,i,n,function(e,r,i){var n=u(h,t,e,r);this.bitmap.data[i]=this.constructor.limit255(n[0]),this.bitmap.data[i+1]=this.constructor.limit255(n[1]),this.bitmap.data[i+2]=this.constructor.limit255(n[2])}),(0,s.isNodePattern)(a)&&a.call(this,null,this),this},color:c,colour:c}},e.exports=r.default}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/helpers/toConsumableArray\":24,\"@jimp/utils\":70,buffer:87,tinycolor2:228}],46:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");r.default=function(){return{contain:function(t,e,r,n,a){if(\"number\"!=typeof t||\"number\"!=typeof e)return i.throwError.call(this,\"w and h must be numbers\",a);\"string\"==typeof r&&(\"function\"==typeof n&&void 0===a&&(a=n),n=r,r=null),\"function\"==typeof r&&(void 0===a&&(a=r),n=null,r=null),\"function\"==typeof n&&void 0===a&&(a=n,n=null);var o=7&(r=r||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),s=r>>3;if((0===o||o&o-1)&&(0===s||s&s-1))return i.throwError.call(this,\"only use one flag per alignment direction\",a);var u=o>>1,l=s>>1,h=t/e>this.bitmap.width/this.bitmap.height?e/this.bitmap.height:t/this.bitmap.width,f=this.cloneQuiet().scale(h,n);return this.resize(t,e,n),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,r){this.bitmap.data.writeUInt32BE(this._background,r)}),this.blit(f,(this.bitmap.width-f.bitmap.width)/2*u,(this.bitmap.height-f.bitmap.height)/2*l),(0,i.isNodePattern)(a)&&a.call(this,null,this),this}}},e.exports=r.default},{\"@jimp/utils\":70}],47:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");r.default=function(){return{cover:function(t,e,r,n,a){if(\"number\"!=typeof t||\"number\"!=typeof e)return i.throwError.call(this,\"w and h must be numbers\",a);r&&\"function\"==typeof r&&void 0===a?(a=r,r=null,n=null):\"function\"==typeof n&&void 0===a&&(a=n,n=null);var o=7&(r=r||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),s=r>>3;if((0===o||o&o-1)&&(0===s||s&s-1))return i.throwError.call(this,\"only use one flag per alignment direction\",a);var u=o>>1,l=s>>1,h=t/e>this.bitmap.width/this.bitmap.height?t/this.bitmap.width:e/this.bitmap.height;return this.scale(h,n),this.crop((this.bitmap.width-t)/2*u,(this.bitmap.height-e)/2*l,t,e),(0,i.isNodePattern)(a)&&a.call(this,null,this),this}}},e.exports=r.default},{\"@jimp/utils\":70}],48:[function(t,e,r){(function(i){(function(){\"use strict\";var n=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=function(t){return t(\"crop\",function(t,e,r,n,a){if(\"number\"!=typeof t||\"number\"!=typeof e)return o.throwError.call(this,\"x and y must be numbers\",a);if(\"number\"!=typeof r||\"number\"!=typeof n)return o.throwError.call(this,\"w and h must be numbers\",a);if(t=Math.round(t),e=Math.round(e),r=Math.round(r),n=Math.round(n),0===t&&r===this.bitmap.width){var s=r*e+t<<2,u=s+n*r<<2;this.bitmap.data=this.bitmap.data.slice(s,u)}else{var l=i.allocUnsafe(r*n*4),h=0;this.scanQuiet(t,e,r,n,function(t,e,r){var i=this.bitmap.data.readUInt32BE(r,!0);l.writeUInt32BE(i,h,!0),h+=4}),this.bitmap.data=l}return this.bitmap.width=r,this.bitmap.height=n,(0,o.isNodePattern)(a)&&a.call(this,null,this),this}),{class:{autocrop:function(){for(var t,e=this.bitmap.width,r=this.bitmap.height,i=0,n=2e-4,s=!0,u=!1,l={north:!1,south:!1,east:!1,west:!1},h=arguments.length,f=new Array(h),c=0;c<h;c++)f[c]=arguments[c];for(var d=0,p=f.length;d<p;d++)if(\"number\"==typeof f[d]&&(n=f[d]),\"boolean\"==typeof f[d]&&(s=f[d]),\"function\"==typeof f[d]&&(t=f[d]),\"object\"===(0,a.default)(f[d])){var m=f[d];void 0!==m.tolerance&&(n=m.tolerance),void 0!==m.cropOnlyFrames&&(s=m.cropOnlyFrames),void 0!==m.cropSymmetric&&(u=m.cropSymmetric),void 0!==m.leaveBorder&&(i=m.leaveBorder),void 0!==m.ignoreSides&&(l=m.ignoreSides)}var b=this.getPixelColor(0,0),g=this.constructor.intToRGBA(b),_=0,y=0,v=0,w=0;if(b=this.getPixelColor(0,0),!l.north)t:for(var E=0;E<r-1;E++){for(var x=0;x<e;x++){var I=this.getPixelColor(x,E),S=this.constructor.intToRGBA(I);if(this.constructor.colorDiff(g,S)>n)break t}_++}if(b=this.getPixelColor(e,0),!l.east)t:for(var A=0;A<e-1;A++){for(var M=0+_;M<r;M++){var C=this.getPixelColor(A,M),T=this.constructor.intToRGBA(C);if(this.constructor.colorDiff(g,T)>n)break t}y++}if(b=this.getPixelColor(0,r),!l.south)t:for(var k=r-1;k>=_+1;k--){for(var P=e-y-1;P>=0;P--){var R=this.getPixelColor(P,k),L=this.constructor.intToRGBA(R);if(this.constructor.colorDiff(g,L)>n)break t}v++}if(b=this.getPixelColor(e,r),!l.west)t:for(var O=e-1;O>=0+y+1;O--){for(var B=r-1;B>=0+_;B--){var N=this.getPixelColor(O,B),D=this.constructor.intToRGBA(N);if(this.constructor.colorDiff(g,D)>n)break t}w++}if(w-=i,y-=i,_-=i,v-=i,u){var U=Math.min(y,w),j=Math.min(_,v);w=U,y=U,_=j,v=j}var F=e-((w=w>=0?w:0)+(y=y>=0?y:0)),z=r-((v=v>=0?v:0)+(_=_>=0?_:0));return(s?0!==y&&0!==_&&0!==w&&0!==v:0!==y||0!==_||0!==w||0!==v)&&this.crop(y,_,F,z),(0,o.isNodePattern)(t)&&t.call(this,null,this),this}}}};var a=n(t(\"@babel/runtime/helpers/typeof\")),o=t(\"@jimp/utils\");e.exports=r.default}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/helpers/typeof\":25,\"@jimp/utils\":70,buffer:87}],49:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=i(t(\"@babel/runtime/helpers/typeof\")),a=t(\"@jimp/utils\");r.default=function(){return{displace:function(t,e,r){if(\"object\"!==(0,n.default)(t)||t.constructor!==this.constructor)return a.throwError.call(this,\"The source must be a Jimp image\",r);if(\"number\"!=typeof e)return a.throwError.call(this,\"factor must be a number\",r);var i=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(r,n,a){var o=t.bitmap.data[a]/256*e;o=Math.round(o);var s=this.getPixelIndex(r+o,n);this.bitmap.data[s]=i.bitmap.data[a],this.bitmap.data[s+1]=i.bitmap.data[a+1],this.bitmap.data[s+2]=i.bitmap.data[a+2]}),(0,a.isNodePattern)(r)&&r.call(this,null,this),this}}},e.exports=r.default},{\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/helpers/typeof\":25,\"@jimp/utils\":70}],50:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");function n(t){var e=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,r,i){var n=e[((3&r)<<2)+t%4];this.bitmap.data[i]=Math.min(this.bitmap.data[i]+n,255),this.bitmap.data[i+1]=Math.min(this.bitmap.data[i+1]+n,255),this.bitmap.data[i+2]=Math.min(this.bitmap.data[i+2]+n,255)}),(0,i.isNodePattern)(t)&&t.call(this,null,this),this}r.default=function(){return{dither565:n,dither16:n}},e.exports=r.default},{\"@jimp/utils\":70}],51:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");r.default=function(){return{fisheye:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:2.5},r=arguments.length>1?arguments[1]:void 0;\"function\"==typeof e&&(r=e,e={r:2.5});var n=this.cloneQuiet(),a=n.bitmap,o=a.width,s=a.height;return n.scanQuiet(0,0,o,s,function(r,i){var a=r/o,u=i/s,l=Math.sqrt(Math.pow(a-.5,2)+Math.pow(u-.5,2)),h=2*Math.pow(l,e.r),f=(a-.5)/l,c=(u-.5)/l,d=Math.round((h*f+.5)*o),p=Math.round((h*c+.5)*s),m=n.getPixelColor(d,p);t.setPixelColor(m,r,i)}),this.setPixelColor(n.getPixelColor(o/2,s/2),o/2,s/2),(0,i.isNodePattern)(r)&&r.call(this,null,this),this}}},e.exports=r.default},{\"@jimp/utils\":70}],52:[function(t,e,r){(function(i){(function(){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=t(\"@jimp/utils\");function a(t,e,r){if(\"boolean\"!=typeof t||\"boolean\"!=typeof e)return n.throwError.call(this,\"horizontal and vertical must be Booleans\",r);var a=i.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(r,i,n){var o=t?this.bitmap.width-1-r:r,s=e?this.bitmap.height-1-i:i,u=this.bitmap.width*s+o<<2,l=this.bitmap.data.readUInt32BE(n);a.writeUInt32BE(l,u)}),this.bitmap.data=i.from(a),(0,n.isNodePattern)(r)&&r.call(this,null,this),this}r.default=function(){return{flip:a,mirror:a}},e.exports=r.default}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"@jimp/utils\":70,buffer:87}],53:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");r.default=function(){return{gaussian:function(t,e){if(\"number\"!=typeof t)return i.throwError.call(this,\"r must be a number\",e);if(t<1)return i.throwError.call(this,\"r must be greater than 0\",e);for(var r=Math.ceil(2.57*t),n=2*r+1,a=t*t*2,o=a*Math.PI,s=[],u=0;u<n;u++){s[u]=[];for(var l=0;l<n;l++){var h=Math.pow(l-r,2)+Math.pow(u-r,2);s[u][l]=Math.exp(-h/a)/o}}for(var f=0;f<this.bitmap.height;f++)for(var c=0;c<this.bitmap.width;c++)for(var d=0,p=0,m=0,b=0,g=0,_=0;_<n;_++){for(var y=0;y<n;y++){var v=Math.min(this.bitmap.width-1,Math.max(0,y+c-r)),w=Math.min(this.bitmap.height-1,Math.max(0,_+f-r)),E=s[_][y],x=w*this.bitmap.width+v<<2;d+=this.bitmap.data[x]*E,p+=this.bitmap.data[x+1]*E,m+=this.bitmap.data[x+2]*E,b+=this.bitmap.data[x+3]*E,g+=E}var I=f*this.bitmap.width+c<<2;this.bitmap.data[I]=Math.round(d/g),this.bitmap.data[I+1]=Math.round(p/g),this.bitmap.data[I+2]=Math.round(m/g),this.bitmap.data[I+3]=Math.round(b/g)}return(0,i.isNodePattern)(e)&&e.call(this,null,this),this}}},e.exports=r.default},{\"@jimp/utils\":70}],54:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");r.default=function(){return{invert:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,r){this.bitmap.data[r]=255-this.bitmap.data[r],this.bitmap.data[r+1]=255-this.bitmap.data[r+1],this.bitmap.data[r+2]=255-this.bitmap.data[r+2]}),(0,i.isNodePattern)(t)&&t.call(this,null,this),this}}},e.exports=r.default},{\"@jimp/utils\":70}],55:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");r.default=function(){return{mask:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;if(!(t instanceof this.constructor))return i.throwError.call(this,\"The source must be a Jimp image\",n);if(\"number\"!=typeof e||\"number\"!=typeof r)return i.throwError.call(this,\"x and y must be numbers\",n);e=Math.round(e),r=Math.round(r);var a=this.bitmap.width,o=this.bitmap.height,s=this;return t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,function(t,i,n){var u=e+t,l=r+i;if(u>=0&&l>=0&&u<a&&l<o){var h=s.getPixelIndex(u,l),f=this.bitmap.data,c=(f[n+0]+f[n+1]+f[n+2])/3;s.bitmap.data[h+3]*=c/255}}),(0,i.isNodePattern)(n)&&n.call(this,null,this),this}}},e.exports=r.default},{\"@jimp/utils\":70}],56:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");var n=function(t,e,r){return 255*(t-e)/(r-e)},a=function(t){return[t.findIndex(function(t){return t>0}),255-t.slice().reverse().findIndex(function(t){return t>0})]};r.default=function(){return{normalize:function(t){var e=function(){var t={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,r,i){t.r[this.bitmap.data[i+0]]++,t.g[this.bitmap.data[i+1]]++,t.b[this.bitmap.data[i+2]]++}),t}.call(this),r={r:a(e.r),g:a(e.g),b:a(e.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,i){var a=this.bitmap.data[i+0],o=this.bitmap.data[i+1],s=this.bitmap.data[i+2];this.bitmap.data[i+0]=n(a,r.r[0],r.r[1]),this.bitmap.data[i+1]=n(o,r.g[0],r.g[1]),this.bitmap.data[i+2]=n(s,r.b[0],r.b[1])}),(0,i.isNodePattern)(t)&&t.call(this,null,this),this}}},e.exports=r.default},{\"@jimp/utils\":70}],57:[function(t,e,r){(function(i,n){(function(){\"use strict\";var a=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var o=a(t(\"@babel/runtime/helpers/typeof\")),s=a(t(\"@babel/runtime/helpers/toConsumableArray\")),u=a(t(\"path\")),l=a(t(\"load-bmfont\")),h=t(\"@jimp/utils\"),f=t(\"./measure-text\");function c(t,e,r,i,n){if(n.width>0&&n.height>0){var a=e.pages[n.page];t.blit(a,r+n.xoffset,i+n.yoffset,n.x,n.y,n.width,n.height)}return t}var d=i.env.DIRNAME||\"\".concat(n,\"/../\");r.default=function(){return{constants:{measureText:f.measureText,measureTextHeight:f.measureTextHeight,FONT_SANS_8_BLACK:u.default.join(d,\"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt\"),FONT_SANS_10_BLACK:u.default.join(d,\"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt\"),FONT_SANS_12_BLACK:u.default.join(d,\"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt\"),FONT_SANS_14_BLACK:u.default.join(d,\"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt\"),FONT_SANS_16_BLACK:u.default.join(d,\"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt\"),FONT_SANS_32_BLACK:u.default.join(d,\"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt\"),FONT_SANS_64_BLACK:u.default.join(d,\"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt\"),FONT_SANS_128_BLACK:u.default.join(d,\"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt\"),FONT_SANS_8_WHITE:u.default.join(d,\"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt\"),FONT_SANS_16_WHITE:u.default.join(d,\"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt\"),FONT_SANS_32_WHITE:u.default.join(d,\"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt\"),FONT_SANS_64_WHITE:u.default.join(d,\"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt\"),FONT_SANS_128_WHITE:u.default.join(d,\"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt\"),loadFont:function(t,e){var r=this;return\"string\"!=typeof t?h.throwError.call(this,\"file must be a string\",e):new Promise(function(i,n){e=e||function(t,e){t?n(t):i(e)},(0,l.default)(t,function(i,n){var a,o,s,l,f={},c={};if(i)return h.throwError.call(r,i,e);for(var d=0;d<n.chars.length;d++)f[String.fromCharCode(n.chars[d].id)]=n.chars[d];for(var p=0;p<n.kernings.length;p++){var m=String.fromCharCode(n.kernings[p].first);c[m]=c[m]||{},c[m][String.fromCharCode(n.kernings[p].second)]=n.kernings[p].amount}(a=r,o=u.default.dirname(t),s=n.pages,l=s.map(function(t){return a.read(o+\"/\"+t)}),Promise.all(l)).then(function(t){e(null,{chars:f,kernings:c,pages:t,common:n.common,info:n.info})})})})}},class:{print:function(t,e,r,i,n,a,u){var l,d,p=this;if(\"function\"==typeof n&&void 0===u&&(u=n,n=1/0),void 0===n&&(n=1/0),\"function\"==typeof a&&void 0===u&&(u=a,a=1/0),void 0===a&&(a=1/0),\"object\"!==(0,o.default)(t))return h.throwError.call(this,\"font must be a Jimp loadFont\",u);if(\"number\"!=typeof e||\"number\"!=typeof r||\"number\"!=typeof n)return h.throwError.call(this,\"x, y and maxWidth must be numbers\",u);if(\"number\"!=typeof n)return h.throwError.call(this,\"maxWidth must be a number\",u);if(\"number\"!=typeof a)return h.throwError.call(this,\"maxHeight must be a number\",u);\"object\"===(0,o.default)(i)&&null!==i.text&&void 0!==i.text?(l=i.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,d=i.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,i=i.text):(l=this.constructor.HORIZONTAL_ALIGN_LEFT,d=this.constructor.VERTICAL_ALIGN_TOP,i=i.toString()),a!==1/0&&d===this.constructor.VERTICAL_ALIGN_BOTTOM?r+=a-(0,f.measureTextHeight)(t,i,n):a!==1/0&&d===this.constructor.VERTICAL_ALIGN_MIDDLE&&(r+=a/2-(0,f.measureTextHeight)(t,i,n)/2);var m=Object.entries(t.chars)[0][1].xadvance,b=function(t,e,r){var i=e.split(\" \"),n=[],a=[],o=0;return i.forEach(function(e){var i=[].concat((0,s.default)(a),[e]).join(\" \"),u=(0,f.measureText)(t,i);u<=r?(u>o&&(o=u),a.push(e)):(n.push(a),a=[e])}),n.push(a),{lines:n,longestLine:o}}(t,i,n),g=b.lines,_=b.longestLine;return g.forEach(function(i){var a=i.join(\" \"),o=function(t,e,r,i,n){return n===t.HORIZONTAL_ALIGN_LEFT?0:n===t.HORIZONTAL_ALIGN_CENTER?(i-(0,f.measureText)(e,r))/2:i-(0,f.measureText)(e,r)}(p.constructor,t,a,n,l);(function(t,e,r,i,n){for(var a=0;a<i.length;a++){var o=void 0;o=t.chars[i[a]]?i[a]:/\\s/.test(i[a])?\"\":\"?\";var s=t.chars[o]||{},u=t.kernings[o];c(this,t,e,r,s||{}),e+=(u&&u[i[a+1]]?u[i[a+1]]:0)+(s.xadvance||n)}}).call(p,t,e+o,r,a,m),r+=t.common.lineHeight}),(0,h.isNodePattern)(u)&&u.call(this,null,this,{x:e+_,y:r}),this}}}},e.exports=r.default}).call(this)}).call(this,t(\"_process\"),\"/node_modules/@jimp/plugin-print/dist\")},{\"./measure-text\":58,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/helpers/toConsumableArray\":24,\"@babel/runtime/helpers/typeof\":25,\"@jimp/utils\":70,_process:184,\"load-bmfont\":132,path:159}],58:[function(t,e,r){\"use strict\";function i(t,e){for(var r=0,i=0;i<e.length;i++)if(t.chars[e[i]]){var n=t.kernings[e[i]]&&t.kernings[e[i]][e[i+1]]?t.kernings[e[i]][e[i+1]]:0;r+=(t.chars[e[i]].xadvance||0)+n}return r}Object.defineProperty(r,\"__esModule\",{value:!0}),r.measureText=i,r.measureTextHeight=function(t,e,r){for(var n=e.split(\" \"),a=\"\",o=t.common.lineHeight,s=0;s<n.length;s++){var u=a+n[s]+\" \",l=i(t,u);l>r&&s>0?(o+=t.common.lineHeight,a=n[s]+\" \"):a=u}return o}},{}],59:[function(t,e,r){(function(i){(function(){\"use strict\";var n=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var a=t(\"@jimp/utils\"),o=n(t(\"./modules/resize\")),s=n(t(\"./modules/resize2\"));r.default=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:\"nearestNeighbor\",RESIZE_BILINEAR:\"bilinearInterpolation\",RESIZE_BICUBIC:\"bicubicInterpolation\",RESIZE_HERMITE:\"hermiteInterpolation\",RESIZE_BEZIER:\"bezierInterpolation\"},class:{resize:function(t,e,r,n){if(\"number\"!=typeof t||\"number\"!=typeof e)return a.throwError.call(this,\"w and h must be numbers\",n);if(\"function\"==typeof r&&void 0===n&&(n=r,r=null),t===this.constructor.AUTO&&e===this.constructor.AUTO)return a.throwError.call(this,\"w and h cannot both be set to auto\",n);if(t===this.constructor.AUTO&&(t=this.bitmap.width*(e/this.bitmap.height)),e===this.constructor.AUTO&&(e=this.bitmap.height*(t/this.bitmap.width)),t<0||e<0)return a.throwError.call(this,\"w and h must be positive numbers\",n);if(t=Math.round(t),e=Math.round(e),\"function\"==typeof s.default[r]){var u={data:i.alloc(t*e*4),width:t,height:e};s.default[r](this.bitmap,u),this.bitmap=u}else{var l=this,h=new o.default(this.bitmap.width,this.bitmap.height,t,e,!0,!0,function(r){l.bitmap.data=i.from(r),l.bitmap.width=t,l.bitmap.height=e});h.resize(this.bitmap.data)}return(0,a.isNodePattern)(n)&&n.call(this,null,this),this}}}},e.exports=r.default}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./modules/resize\":60,\"./modules/resize2\":61,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@jimp/utils\":70,buffer:87}],60:[function(t,e,r){\"use strict\";function i(t,e,r,i,n,a,o){this.widthOriginal=Math.abs(Math.floor(t)||0),this.heightOriginal=Math.abs(Math.floor(e)||0),this.targetWidth=Math.abs(Math.floor(r)||0),this.targetHeight=Math.abs(Math.floor(i)||0),this.colorChannels=n?4:3,this.interpolationPass=Boolean(a),this.resizeCallback=\"function\"==typeof o?o:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}i.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error(\"Invalid settings specified for the resizer.\");this.configurePasses()},i.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},i.prototype._resizeWidthInterpolatedRGBChannels=function(t,e){var r,i,n=e?4:3,a=this.ratioWeightWidthPass,o=this.widthBuffer,s=0,u=0,l=0,h=0,f=0;for(r=0;s<1/3;r+=n,s+=a)for(u=r,l=0;u<this.widthPassResultSize;l+=this.originalWidthMultipliedByChannels,u+=this.targetWidthMultipliedByChannels)o[u]=t[l],o[u+1]=t[l+1],o[u+2]=t[l+2],e&&(o[u+3]=t[l+3]);for(s-=1/3,i=this.widthOriginal-1;s<i;r+=n,s+=a)for(h=1-(f=s%1),u=r,l=Math.floor(s)*n;u<this.widthPassResultSize;l+=this.originalWidthMultipliedByChannels,u+=this.targetWidthMultipliedByChannels)o[u+0]=t[l+0]*h+t[l+n+0]*f,o[u+1]=t[l+1]*h+t[l+n+1]*f,o[u+2]=t[l+2]*h+t[l+n+2]*f,e&&(o[u+3]=t[l+3]*h+t[l+n+3]*f);for(i=this.originalWidthMultipliedByChannels-n;r<this.targetWidthMultipliedByChannels;r+=n)for(u=r,l=i;u<this.widthPassResultSize;l+=this.originalWidthMultipliedByChannels,u+=this.targetWidthMultipliedByChannels)o[u]=t[l],o[u+1]=t[l+1],o[u+2]=t[l+2],e&&(o[u+3]=t[l+3]);return o},i.prototype._resizeWidthRGBChannels=function(t,e){var r=e?4:3,i=this.ratioWeightWidthPass,n=1/i,a=this.originalWidthMultipliedByChannels-r+1,o=this.targetWidthMultipliedByChannels-r+1,s=this.outputWidthWorkBench,u=this.widthBuffer,l=this.outputWidthWorkBenchOpaquePixelsCount,h=0,f=0,c=0,d=0,p=0,m=0,b=0,g=1,_=0,y=0,v=0,w=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)s[p++]=0,s[p++]=0,s[p++]=0,e&&(s[p++]=0,l[p/r-1]=0);h=i;do{for(f=1+c-d,g=Math.min(h,f),p=0,m=c;p<this.originalHeightMultipliedByChannels;m+=a)_=t[m],y=t[++m],v=t[++m],w=e?t[++m]:255,s[p++]+=(w?_:0)*g,s[p++]+=(w?y:0)*g,s[p++]+=(w?v:0)*g,e&&(s[p++]+=w*g,l[p/r-1]+=w?g:0);if(!(h>=f)){d+=h;break}d=c+=r,h-=f}while(h>0&&c<this.originalWidthMultipliedByChannels);for(p=0,m=b;p<this.originalHeightMultipliedByChannels;m+=o)h=e?l[p/r]:1,g=e?h?1/h:0:n,u[m]=s[p++]*g,u[++m]=s[p++]*g,u[++m]=s[p++]*g,e&&(u[++m]=s[p++]*n);b+=r}while(b<this.targetWidthMultipliedByChannels);return u},i.prototype._resizeHeightRGBChannels=function(t,e){var r=this.ratioWeightHeightPass,i=1/r,n=this.outputHeightWorkBench,a=this.heightBuffer,o=this.outputHeightWorkBenchOpaquePixelsCount,s=0,u=0,l=0,h=0,f=0,c=0,d=0,p=1,m=0,b=0,g=0,_=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;)n[f++]=0,n[f++]=0,n[f++]=0,e&&(n[f++]=0,o[f/4-1]=0);s=r;do{for(u=1+l-h,p=Math.min(s,u),d=l,f=0;f<this.targetWidthMultipliedByChannels;)m=t[d++],b=t[d++],g=t[d++],_=e?t[d++]:255,n[f++]+=(_?m:0)*p,n[f++]+=(_?b:0)*p,n[f++]+=(_?g:0)*p,e&&(n[f++]+=_*p,o[f/4-1]+=_?p:0);if(!(s>=u)){h+=s;break}h=l=d,s-=u}while(s>0&&l<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;)s=e?o[f/4]:1,p=e?s?1/s:0:i,a[c++]=Math.round(n[f++]*p),a[c++]=Math.round(n[f++]*p),a[c++]=Math.round(n[f++]*p),e&&(a[c++]=Math.round(n[f++]*i))}while(c<this.finalResultSize);return a},i.prototype.resizeWidthInterpolatedRGB=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!1)},i.prototype.resizeWidthInterpolatedRGBA=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!0)},i.prototype.resizeWidthRGB=function(t){return this._resizeWidthRGBChannels(t,!1)},i.prototype.resizeWidthRGBA=function(t){return this._resizeWidthRGBChannels(t,!0)},i.prototype.resizeHeightInterpolated=function(t){for(var e,r=this.ratioWeightHeightPass,i=this.heightBuffer,n=0,a=0,o=0,s=0,u=0,l=0,h=0;n<1/3;n+=r)for(o=0;o<this.targetWidthMultipliedByChannels;)i[a++]=Math.round(t[o++]);for(n-=1/3,e=this.heightOriginal-1;n<e;n+=r)for(l=1-(h=n%1),u=(s=Math.floor(n)*this.targetWidthMultipliedByChannels)+this.targetWidthMultipliedByChannels,o=0;o<this.targetWidthMultipliedByChannels;++o)i[a++]=Math.round(t[s++]*l+t[u++]*h);for(;a<this.finalResultSize;)for(o=0,s=e*this.targetWidthMultipliedByChannels;o<this.targetWidthMultipliedByChannels;++o)i[a++]=Math.round(t[s++]);return i},i.prototype.resizeHeightRGB=function(t){return this._resizeHeightRGBChannels(t,!1)},i.prototype.resizeHeightRGBA=function(t){return this._resizeHeightRGBChannels(t,!0)},i.prototype.resize=function(t){this.resizeCallback(this.resizeHeight(this.resizeWidth(t)))},i.prototype.bypassResizer=function(t){return t},i.prototype.initializeFirstPassBuffers=function(t){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),t||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},i.prototype.initializeSecondPassBuffers=function(t){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),t||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},i.prototype.generateFloatBuffer=function(t){try{return new Float32Array(t)}catch(t){return[]}},i.prototype.generateFloat64Buffer=function(t){try{return new Float64Array(t)}catch(t){return[]}},i.prototype.generateUint8Buffer=function(t){try{return new Uint8Array(t)}catch(t){return[]}},e.exports=i},{}],61:[function(t,e,r){(function(t){(function(){\"use strict\";e.exports={nearestNeighbor:function(t,e){for(var r=t.width,i=t.height,n=e.width,a=e.height,o=t.data,s=e.data,u=0;u<a;u++)for(var l=0;l<n;l++){var h=4*(u*n+l),f=4*(Math.floor(u*i/a)*r+Math.floor(l*r/n));s[h++]=o[f++],s[h++]=o[f++],s[h++]=o[f++],s[h++]=o[f++]}},bilinearInterpolation:function(t,e){for(var r=t.width,i=t.height,n=e.width,a=e.height,o=t.data,s=e.data,u=function(t,e,r,i,n){return e===i?r:Math.round((t-e)*n+(i-t)*r)},l=function(t,e,i,n,a,l,h,f){var c=4*(h*r+n)+e,d=4*(h*r+a)+e,p=u(i,n,o[c],a,o[d]);if(f===h)s[t+e]=p;else{d=4*(f*r+a)+e;var m=u(i,n,o[c=4*(f*r+n)+e],a,o[d]);s[t+e]=u(l,h,p,f,m)}},h=0;h<a;h++)for(var f=0;f<n;f++){var c=4*(h*n+f),d=f*r/n,p=Math.floor(d),m=Math.min(Math.ceil(d),r-1),b=h*i/a,g=Math.floor(b),_=Math.min(Math.ceil(b),i-1);l(c,0,d,p,m,b,g,_),l(c,1,d,p,m,b,g,_),l(c,2,d,p,m,b,g,_),l(c,3,d,p,m,b,g,_)}},_interpolate2D:function(e,r,i,n){for(var a=e.data,o=r.data,s=e.width,u=e.height,l=r.width,h=r.height,f=Math.max(1,Math.floor(s/l)),c=l*f,d=Math.max(1,Math.floor(u/h)),p=h*d,m=t.alloc(c*u*4),b=0;b<u;b++)for(var g=0;g<c;g++)for(var _=g*(s-1)/c,y=Math.floor(_),v=_-y,w=4*(b*s+y),E=4*(b*c+g),x=0;x<4;x++){var I=w+x,S=y>0?a[I-4]:2*a[I]-a[I+4],A=a[I],M=a[I+4],C=y<s-2?a[I+8]:2*a[I+4]-a[I];m[E+x]=n(S,A,M,C,v)}for(var T=t.alloc(c*p*4),k=0;k<p;k++)for(var P=0;P<c;P++)for(var R=k*(u-1)/p,L=Math.floor(R),O=R-L,B=4*(L*c+P),N=4*(k*c+P),D=0;D<4;D++){var U=B+D,j=L>0?m[U-4*c]:2*m[U]-m[U+4*c],F=m[U],z=m[U+4*c],G=L<u-2?m[U+8*c]:2*m[U+4*c]-m[U];T[N+D]=n(j,F,z,G,O)}var H=f*d;if(H>1)for(var q=0;q<h;q++)for(var W=0;W<l;W++){for(var Z=0,V=0,Y=0,K=0,X=0,J=0;J<d;J++)for(var Q=q*d+J,$=0;$<f;$++){var tt=4*(Q*c+(W*f+$)),et=T[tt+3];et&&(Z+=T[tt],V+=T[tt+1],Y+=T[tt+2],X++),K+=et}var rt=4*(q*l+W);o[rt]=X?Math.round(Z/X):0,o[rt+1]=X?Math.round(V/X):0,o[rt+2]=X?Math.round(Y/X):0,o[rt+3]=Math.round(K/H)}else r.data=T},bicubicInterpolation:function(t,e,r){return this._interpolate2D(t,e,r,function(t,e,r,i,n){var a=i-r-t+e,o=t-e-a,s=r-t,u=e;return Math.max(0,Math.min(255,a*(n*n*n)+o*(n*n)+s*n+u))})},hermiteInterpolation:function(t,e,r){return this._interpolate2D(t,e,r,function(t,e,r,i,n){var a=e,o=.5*(r-t),s=t-2.5*e+2*r-.5*i,u=.5*(i-t)+1.5*(e-r);return Math.max(0,Math.min(255,Math.round(((u*n+s)*n+o)*n+a)))})},bezierInterpolation:function(t,e,r){return this._interpolate2D(t,e,r,function(t,e,r,i,n){var a=1-n,o=e*a*a*a,s=3*(e+(r-t)/4)*a*a*n,u=3*(r-(i-e)/4)*a*n*n,l=r*n*n*n;return Math.max(0,Math.min(255,Math.round(o+s+u+l)))})}}}).call(this)}).call(this,t(\"buffer\").Buffer)},{buffer:87}],62:[function(t,e,r){(function(i){(function(){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=t(\"@jimp/utils\");r.default=function(){return{rotate:function(t,e,r){return null==e&&(e=!0),\"function\"==typeof e&&void 0===r&&(r=e,e=!0),\"number\"!=typeof t?n.throwError.call(this,\"deg must be a number\",r):\"boolean\"!=typeof e&&\"string\"!=typeof e?n.throwError.call(this,\"mode must be a boolean or a string\",r):(function(t,e){var r=(t%=360)*Math.PI/180,n=Math.cos(r),a=Math.sin(r),o=this.bitmap.width,s=this.bitmap.height;if(!0===e||\"string\"==typeof e){(o=Math.ceil(Math.abs(this.bitmap.width*n)+Math.abs(this.bitmap.height*a))+1)%2!=0&&o++,(s=Math.ceil(Math.abs(this.bitmap.width*a)+Math.abs(this.bitmap.height*n))+1)%2!=0&&s++;var u=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,r){this.bitmap.data.writeUInt32BE(this._background,r)});var l=Math.max(o,s,this.bitmap.width,this.bitmap.height);this.resize(l,l,e),this.blit(u,this.bitmap.width/2-u.bitmap.width/2,this.bitmap.height/2-u.bitmap.height/2)}var h=this.bitmap.width,f=this.bitmap.height,c=i.alloc(this.bitmap.data.length);function d(t,e){return function(r,i){return{x:r+t,y:i+e}}}for(var p=d(-h/2,-f/2),m=d(h/2+.5,f/2+.5),b=1;b<=f;b++)for(var g=1;g<=h;g++){var _=p(g,b),y=m(n*_.x-a*_.y,n*_.y+a*_.x),v=h*(b-1)+g-1<<2;if(y.x>=0&&y.x<h&&y.y>=0&&y.y<f){var w=(h*(0|y.y)+y.x|0)<<2,E=this.bitmap.data.readUInt32BE(w);c.writeUInt32BE(E,v)}else c.writeUInt32BE(this._background,v)}if(this.bitmap.data=c,!0===e||\"string\"==typeof e){var x=h/2-o/2,I=f/2-s/2;this.crop(x,I,o,s)}}.call(this,t,e,r),(0,n.isNodePattern)(r)&&r.call(this,null,this),this)}}},e.exports=r.default}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"@jimp/utils\":70,buffer:87}],63:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");r.default=function(){return{scale:function(t,e,r){if(\"number\"!=typeof t)return i.throwError.call(this,\"f must be a number\",r);if(t<0)return i.throwError.call(this,\"f must be a positive number\",r);\"function\"==typeof e&&void 0===r&&(r=e,e=null);var n=this.bitmap.width*t,a=this.bitmap.height*t;return this.resize(n,a,e),(0,i.isNodePattern)(r)&&r.call(this,null,this),this},scaleToFit:function(t,e,r,n){if(\"number\"!=typeof t||\"number\"!=typeof e)return i.throwError.call(this,\"w and h must be numbers\",n);\"function\"==typeof r&&void 0===n&&(n=r,r=null);var a=t/e>this.bitmap.width/this.bitmap.height?e/this.bitmap.height:t/this.bitmap.width;return this.scale(a,r),(0,i.isNodePattern)(n)&&n.call(this,null,this),this}}},e.exports=r.default},{\"@jimp/utils\":70}],64:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");r.default=function(){return{shadow:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;\"function\"==typeof e&&(r=e,e={});var n=e,a=n.opacity,o=void 0===a?.7:a,s=n.size,u=void 0===s?1.1:s,l=n.x,h=void 0===l?-25:l,f=n.y,c=void 0===f?25:f,d=n.blur,p=void 0===d?5:d,m=this.clone(),b=this.clone();return b.scan(0,0,b.bitmap.width,b.bitmap.height,function(e,r,i){b.bitmap.data[i]=0,b.bitmap.data[i+1]=0,b.bitmap.data[i+2]=0,b.bitmap.data[i+3]=b.constructor.limit255(b.bitmap.data[i+3]*o),t.bitmap.data[i]=0,t.bitmap.data[i+1]=0,t.bitmap.data[i+2]=0,t.bitmap.data[i+3]=0}),b.resize(b.bitmap.width*u,b.bitmap.height*u).blur(p),this.composite(b,h,c),this.composite(m,0,0),(0,i.isNodePattern)(r)&&r.call(this,null,this),this}}},e.exports=r.default},{\"@jimp/utils\":70}],65:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var i=t(\"@jimp/utils\");r.default=function(){return{threshold:function(t,e){var r=this,n=t.max,a=t.replace,o=void 0===a?255:a,s=t.autoGreyscale,u=void 0===s||s;return\"number\"!=typeof n?i.throwError.call(this,\"max must be a number\",e):\"number\"!=typeof o?i.throwError.call(this,\"replace must be a number\",e):\"boolean\"!=typeof u?i.throwError.call(this,\"autoGreyscale must be a boolean\",e):(n=this.constructor.limit255(n),o=this.constructor.limit255(o),u&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,i){var a=r.bitmap.data[i]<n?r.bitmap.data[i]:o;r.bitmap.data[i]=a,r.bitmap.data[i+1]=a,r.bitmap.data[i+2]=a}),(0,i.isNodePattern)(e)&&e.call(this,null,this),this)}}},e.exports=r.default},{\"@jimp/utils\":70}],66:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=i(t(\"@babel/runtime/helpers/toConsumableArray\")),a=t(\"timm\"),o=i(t(\"@jimp/plugin-blit\")),s=i(t(\"@jimp/plugin-blur\")),u=i(t(\"@jimp/plugin-circle\")),l=i(t(\"@jimp/plugin-color\")),h=i(t(\"@jimp/plugin-contain\")),f=i(t(\"@jimp/plugin-cover\")),c=i(t(\"@jimp/plugin-crop\")),d=i(t(\"@jimp/plugin-displace\")),p=i(t(\"@jimp/plugin-dither\")),m=i(t(\"@jimp/plugin-fisheye\")),b=i(t(\"@jimp/plugin-flip\")),g=i(t(\"@jimp/plugin-gaussian\")),_=i(t(\"@jimp/plugin-invert\")),y=i(t(\"@jimp/plugin-mask\")),v=i(t(\"@jimp/plugin-normalize\")),w=i(t(\"@jimp/plugin-print\")),E=i(t(\"@jimp/plugin-resize\")),x=i(t(\"@jimp/plugin-rotate\")),I=i(t(\"@jimp/plugin-scale\")),S=i(t(\"@jimp/plugin-shadow\")),A=i(t(\"@jimp/plugin-threshold\")),M=[o.default,s.default,u.default,l.default,h.default,f.default,c.default,d.default,p.default,m.default,b.default,g.default,_.default,y.default,v.default,w.default,E.default,x.default,I.default,S.default,A.default];r.default=function(t){var e=M.map(function(e){var r=e(t)||{};return r.class||r.constants||(r={class:r}),r});return a.mergeDeep.apply(void 0,(0,n.default)(e))},e.exports=r.default},{\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/helpers/toConsumableArray\":24,\"@jimp/plugin-blit\":41,\"@jimp/plugin-blur\":43,\"@jimp/plugin-circle\":44,\"@jimp/plugin-color\":45,\"@jimp/plugin-contain\":46,\"@jimp/plugin-cover\":47,\"@jimp/plugin-crop\":48,\"@jimp/plugin-displace\":49,\"@jimp/plugin-dither\":50,\"@jimp/plugin-fisheye\":51,\"@jimp/plugin-flip\":52,\"@jimp/plugin-gaussian\":53,\"@jimp/plugin-invert\":54,\"@jimp/plugin-mask\":55,\"@jimp/plugin-normalize\":56,\"@jimp/plugin-print\":57,\"@jimp/plugin-resize\":59,\"@jimp/plugin-rotate\":62,\"@jimp/plugin-scale\":63,\"@jimp/plugin-shadow\":64,\"@jimp/plugin-threshold\":65,timm:227}],67:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=i(t(\"@babel/runtime/helpers/defineProperty\")),a=t(\"pngjs\"),o=t(\"@jimp/utils\");r.default=function(){return{mime:(0,n.default)({},\"image/png\",[\"png\"]),constants:{MIME_PNG:\"image/png\",PNG_FILTER_AUTO:-1,PNG_FILTER_NONE:0,PNG_FILTER_SUB:1,PNG_FILTER_UP:2,PNG_FILTER_AVERAGE:3,PNG_FILTER_PATH:4},hasAlpha:(0,n.default)({},\"image/png\",!0),decoders:(0,n.default)({},\"image/png\",a.PNG.sync.read),encoders:(0,n.default)({},\"image/png\",function(t){var e=new a.PNG({width:t.bitmap.width,height:t.bitmap.height});return e.data=t.bitmap.data,a.PNG.sync.write(e,{width:t.bitmap.width,height:t.bitmap.height,deflateLevel:t._deflateLevel,deflateStrategy:t._deflateStrategy,filterType:t._filterType,colorType:\"number\"==typeof t._colorType?t._colorType:t._rgba?6:2,inputHasAlpha:t._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:-1,_colorType:null,deflateLevel:function(t,e){return\"number\"!=typeof t?o.throwError.call(this,\"l must be a number\",e):t<0||t>9?o.throwError.call(this,\"l must be a number 0 - 9\",e):(this._deflateLevel=Math.round(t),(0,o.isNodePattern)(e)&&e.call(this,null,this),this)},deflateStrategy:function(t,e){return\"number\"!=typeof t?o.throwError.call(this,\"s must be a number\",e):t<0||t>3?o.throwError.call(this,\"s must be a number 0 - 3\",e):(this._deflateStrategy=Math.round(t),(0,o.isNodePattern)(e)&&e.call(this,null,this),this)},filterType:function(t,e){return\"number\"!=typeof t?o.throwError.call(this,\"n must be a number\",e):t<-1||t>4?o.throwError.call(this,\"n must be -1 (auto) or a number 0 - 4\",e):(this._filterType=Math.round(t),(0,o.isNodePattern)(e)&&e.call(this,null,this),this)},colorType:function(t,e){return\"number\"!=typeof t?o.throwError.call(this,\"s must be a number\",e):0!==t&&2!==t&&4!==t&&6!==t?o.throwError.call(this,\"s must be a number 0, 2, 4, 6.\",e):(this._colorType=Math.round(t),(0,o.isNodePattern)(e)&&e.call(this,null,this),this)}}}},e.exports=r.default},{\"@babel/runtime/helpers/defineProperty\":9,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@jimp/utils\":70,pngjs:181}],68:[function(t,e,r){(function(i){(function(){\"use strict\";var n=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var a=n(t(\"@babel/runtime/helpers/defineProperty\")),o=n(t(\"utif\"));r.default=function(){return{mime:(0,a.default)({},\"image/tiff\",[\"tiff\",\"tif\"]),constants:{MIME_TIFF:\"image/tiff\"},decoders:(0,a.default)({},\"image/tiff\",function(t){var e=o.default.decode(t),r=e[0];o.default.decodeImages(t,e);var n=o.default.toRGBA8(r);return{data:i.from(n),width:r.t256[0],height:r.t257[0]}}),encoders:(0,a.default)({},\"image/tiff\",function(t){var e=o.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return i.from(e)})}},e.exports=r.default}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"@babel/runtime/helpers/defineProperty\":9,\"@babel/runtime/helpers/interopRequireDefault\":13,buffer:87,utif:231}],69:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=t(\"timm\"),a=i(t(\"@jimp/jpeg\")),o=i(t(\"@jimp/png\")),s=i(t(\"@jimp/bmp\")),u=i(t(\"@jimp/tiff\")),l=i(t(\"@jimp/gif\"));r.default=function(){return(0,n.mergeDeep)((0,a.default)(),(0,o.default)(),(0,s.default)(),(0,u.default)(),(0,l.default)())},e.exports=r.default},{\"@babel/runtime/helpers/interopRequireDefault\":13,\"@jimp/bmp\":28,\"@jimp/gif\":39,\"@jimp/jpeg\":40,\"@jimp/png\":67,\"@jimp/tiff\":68,timm:227}],70:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.isNodePattern=function(t){if(void 0===t)return!1;if(\"function\"!=typeof t)throw new TypeError(\"Callback must be a function\");return!0},r.throwError=function(t,e){\"string\"==typeof t&&(t=new Error(t));if(\"function\"==typeof e)return e.call(this,t);throw t},r.scan=function(t,e,r,i,n,a){e=Math.round(e),r=Math.round(r),i=Math.round(i),n=Math.round(n);for(var o=r;o<r+n;o++)for(var s=e;s<e+i;s++){var u=t.bitmap.width*o+s<<2;a.call(t,s,o,u)}return t},r.scanIterator=o;var n=i(t(\"@babel/runtime/regenerator\")),a=n.default.mark(o);function o(t,e,r,i,o){var s,u,l;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=Math.round(e),r=Math.round(r),i=Math.round(i),o=Math.round(o),s=r;case 5:if(!(s<r+o)){n.next=17;break}u=e;case 7:if(!(u<e+i)){n.next=14;break}return l=t.bitmap.width*s+u<<2,n.next=11,{x:u,y:s,idx:l,image:t};case 11:u++,n.next=7;break;case 14:s++,n.next=5;break;case 17:case\"end\":return n.stop()}},a)}},{\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/regenerator\":27}],71:[function(t,e,r){var i=t(\"./src/converter\");function n(t,e){var r=new i(t,e);return function(t){return r.convert(t)}}n.BIN=\"01\",n.OCT=\"01234567\",n.DEC=\"0123456789\",n.HEX=\"0123456789abcdef\",e.exports=n},{\"./src/converter\":72}],72:[function(t,e,r){\"use strict\";function i(t,e){if(!(t&&e&&t.length&&e.length))throw new Error(\"Bad alphabet\");this.srcAlphabet=t,this.dstAlphabet=e}i.prototype.convert=function(t){var e,r,i,n={},a=this.srcAlphabet.length,o=this.dstAlphabet.length,s=t.length,u=\"string\"==typeof t?\"\":[];if(!this.isValid(t))throw new Error('Number \"'+t+'\" contains of non-alphabetic digits ('+this.srcAlphabet+\")\");if(this.srcAlphabet===this.dstAlphabet)return t;for(e=0;e<s;e++)n[e]=this.srcAlphabet.indexOf(t[e]);do{for(r=0,i=0,e=0;e<s;e++)(r=r*a+n[e])>=o?(n[i++]=parseInt(r/o,10),r%=o):i>0&&(n[i++]=0);s=i,u=this.dstAlphabet.slice(r,r+1).concat(u)}while(0!==i);return u},i.prototype.isValid=function(t){for(var e=0;e<t.length;++e)if(-1===this.srcAlphabet.indexOf(t[e]))return!1;return!0},e.exports=i},{}],73:[function(t,e,r){(function(r){(function(){\"use strict\";var i=t(\"object-assign\");function n(t,e){if(t===e)return 0;for(var r=t.length,i=e.length,n=0,a=Math.min(r,i);n<a;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0}function a(t){return r.Buffer&&\"function\"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=t(\"util/\"),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l=\"foo\"===function(){}.name;function h(t){return Object.prototype.toString.call(t)}function f(t){return!a(t)&&(\"function\"==typeof r.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var c=e.exports=_,d=/\\s*function\\s+([^\\(\\s]*)\\s*/;function p(t){if(o.isFunction(t)){if(l)return t.name;var e=t.toString().match(d);return e&&e[1]}}function m(t,e){return\"string\"==typeof t?t.length<e?t:t.slice(0,e):t}function b(t){if(l||!o.isFunction(t))return o.inspect(t);var e=p(t);return\"[Function\"+(e?\": \"+e:\"\")+\"]\"}function g(t,e,r,i,n){throw new c.AssertionError({message:r,actual:t,expected:e,operator:i,stackStartFunction:n})}function _(t,e){t||g(t,!0,e,\"==\",c.ok)}function y(t,e,r,i){if(t===e)return!0;if(a(t)&&a(e))return 0===n(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&\"object\"==typeof t||null!==e&&\"object\"==typeof e){if(f(t)&&f(e)&&h(t)===h(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(a(t)!==a(e))return!1;var s=(i=i||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===i.expected.indexOf(e)||(i.actual.push(t),i.expected.push(e),function(t,e,r,i){if(null==t||null==e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var n=v(t),a=v(e);if(n&&!a||!n&&a)return!1;if(n)return t=u.call(t),e=u.call(e),y(t,e,r);var s,l,h=x(t),f=x(e);if(h.length!==f.length)return!1;for(h.sort(),f.sort(),l=h.length-1;l>=0;l--)if(h[l]!==f[l])return!1;for(l=h.length-1;l>=0;l--)if(s=h[l],!y(t[s],e[s],r,i))return!1;return!0}(t,e,r,i))}return r?t===e:t==e}function v(t){return\"[object Arguments]\"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function E(t,e,r,i){var n;if(\"function\"!=typeof e)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof r&&(i=r,r=null),n=function(t){var e;try{t()}catch(t){e=t}return e}(e),i=(r&&r.name?\" (\"+r.name+\").\":\".\")+(i?\" \"+i:\".\"),t&&!n&&g(n,r,\"Missing expected exception\"+i);var a=\"string\"==typeof i,s=!t&&n&&!r;if((!t&&o.isError(n)&&a&&w(n,r)||s)&&g(n,r,\"Got unwanted exception\"+i),t&&n&&r&&!w(n,r)||!t&&n)throw n}c.AssertionError=function(t){var e;this.name=\"AssertionError\",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=m(b((e=this).actual),128)+\" \"+e.operator+\" \"+m(b(e.expected),128),this.generatedMessage=!0);var r=t.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var i=new Error;if(i.stack){var n=i.stack,a=p(r),o=n.indexOf(\"\\n\"+a);if(o>=0){var s=n.indexOf(\"\\n\",o+1);n=n.substring(s+1)}this.stack=n}}},o.inherits(c.AssertionError,Error),c.fail=g,c.ok=_,c.equal=function(t,e,r){t!=e&&g(t,e,r,\"==\",c.equal)},c.notEqual=function(t,e,r){t==e&&g(t,e,r,\"!=\",c.notEqual)},c.deepEqual=function(t,e,r){y(t,e,!1)||g(t,e,r,\"deepEqual\",c.deepEqual)},c.deepStrictEqual=function(t,e,r){y(t,e,!0)||g(t,e,r,\"deepStrictEqual\",c.deepStrictEqual)},c.notDeepEqual=function(t,e,r){y(t,e,!1)&&g(t,e,r,\"notDeepEqual\",c.notDeepEqual)},c.notDeepStrictEqual=function t(e,r,i){y(e,r,!0)&&g(e,r,i,\"notDeepStrictEqual\",t)},c.strictEqual=function(t,e,r){t!==e&&g(t,e,r,\"===\",c.strictEqual)},c.notStrictEqual=function(t,e,r){t===e&&g(t,e,r,\"!==\",c.notStrictEqual)},c.throws=function(t,e,r){E(!0,t,e,r)},c.doesNotThrow=function(t,e,r){E(!1,t,e,r)},c.ifError=function(t){if(t)throw t},c.strict=i(function t(e,r){e||g(e,!0,r,\"==\",t)},c,{equal:c.strictEqual,deepEqual:c.deepStrictEqual,notEqual:c.notStrictEqual,notDeepEqual:c.notDeepStrictEqual}),c.strict.strict=c.strict;var x=Object.keys||function(t){var e=[];for(var r in t)s.call(t,r)&&e.push(r);return e}}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"object-assign\":136,\"util/\":76}],74:[function(t,e,r){\"function\"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],75:[function(t,e,r){e.exports=function(t){return t&&\"object\"==typeof t&&\"function\"==typeof t.copy&&\"function\"==typeof t.fill&&\"function\"==typeof t.readUInt8}},{}],76:[function(t,e,r){(function(e,i){(function(){var n=/%[sdj%]/g;r.format=function(t){if(!g(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(s(arguments[r]));return e.join(\" \")}r=1;for(var i=arguments,a=i.length,o=String(t).replace(n,function(t){if(\"%%\"===t)return\"%\";if(r>=a)return t;switch(t){case\"%s\":return String(i[r++]);case\"%d\":return Number(i[r++]);case\"%j\":try{return JSON.stringify(i[r++])}catch(t){return\"[Circular]\"}default:return t}}),u=i[r];r<a;u=i[++r])m(u)||!v(u)?o+=\" \"+u:o+=\" \"+s(u);return o},r.deprecate=function(t,n){if(_(i.process))return function(){return r.deprecate(t,n).apply(this,arguments)};if(!0===e.noDeprecation)return t;var a=!1;return function(){if(!a){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),a=!0}return t.apply(this,arguments)}};var a,o={};function s(t,e){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(e)?i.showHidden=e:e&&r._extend(i,e),_(i.showHidden)&&(i.showHidden=!1),_(i.depth)&&(i.depth=2),_(i.colors)&&(i.colors=!1),_(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),h(i,t,i.depth)}function u(t,e){var r=s.styles[e];return r?\"\u001b[\"+s.colors[r][0]+\"m\"+t+\"\u001b[\"+s.colors[r][1]+\"m\":t}function l(t,e){return t}function h(t,e,i){if(t.customInspect&&e&&x(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(i,t);return g(n)||(n=h(t,n,i)),n}var a=function(t,e){if(_(e))return t.stylize(\"undefined\",\"undefined\");if(g(e)){var r=\"'\"+JSON.stringify(e).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return t.stylize(r,\"string\")}if(b(e))return t.stylize(\"\"+e,\"number\");if(p(e))return t.stylize(\"\"+e,\"boolean\");if(m(e))return t.stylize(\"null\",\"null\")}(t,e);if(a)return a;var o=Object.keys(e),s=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),E(e)&&(o.indexOf(\"message\")>=0||o.indexOf(\"description\")>=0))return f(e);if(0===o.length){if(x(e)){var u=e.name?\": \"+e.name:\"\";return t.stylize(\"[Function\"+u+\"]\",\"special\")}if(y(e))return t.stylize(RegExp.prototype.toString.call(e),\"regexp\");if(w(e))return t.stylize(Date.prototype.toString.call(e),\"date\");if(E(e))return f(e)}var l,v=\"\",I=!1,S=[\"{\",\"}\"];(d(e)&&(I=!0,S=[\"[\",\"]\"]),x(e))&&(v=\" [Function\"+(e.name?\": \"+e.name:\"\")+\"]\");return y(e)&&(v=\" \"+RegExp.prototype.toString.call(e)),w(e)&&(v=\" \"+Date.prototype.toUTCString.call(e)),E(e)&&(v=\" \"+f(e)),0!==o.length||I&&0!=e.length?i<0?y(e)?t.stylize(RegExp.prototype.toString.call(e),\"regexp\"):t.stylize(\"[Object]\",\"special\"):(t.seen.push(e),l=I?function(t,e,r,i,n){for(var a=[],o=0,s=e.length;o<s;++o)M(e,String(o))?a.push(c(t,e,r,i,String(o),!0)):a.push(\"\");return n.forEach(function(n){n.match(/^\\d+$/)||a.push(c(t,e,r,i,n,!0))}),a}(t,e,i,s,o):o.map(function(r){return c(t,e,i,s,r,I)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf(\"\\n\")>=0&&0,t+e.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60)return r[0]+(\"\"===e?\"\":e+\"\\n \")+\" \"+t.join(\",\\n  \")+\" \"+r[1];return r[0]+e+\" \"+t.join(\", \")+\" \"+r[1]}(l,v,S)):S[0]+v+S[1]}function f(t){return\"[\"+Error.prototype.toString.call(t)+\"]\"}function c(t,e,r,i,n,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]}).get?s=u.set?t.stylize(\"[Getter/Setter]\",\"special\"):t.stylize(\"[Getter]\",\"special\"):u.set&&(s=t.stylize(\"[Setter]\",\"special\")),M(i,n)||(o=\"[\"+n+\"]\"),s||(t.seen.indexOf(u.value)<0?(s=m(r)?h(t,u.value,null):h(t,u.value,r-1)).indexOf(\"\\n\")>-1&&(s=a?s.split(\"\\n\").map(function(t){return\"  \"+t}).join(\"\\n\").substr(2):\"\\n\"+s.split(\"\\n\").map(function(t){return\"   \"+t}).join(\"\\n\")):s=t.stylize(\"[Circular]\",\"special\")),_(o)){if(a&&n.match(/^\\d+$/))return s;(o=JSON.stringify(\"\"+n)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,\"name\")):(o=o.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),o=t.stylize(o,\"string\"))}return o+\": \"+s}function d(t){return Array.isArray(t)}function p(t){return\"boolean\"==typeof t}function m(t){return null===t}function b(t){return\"number\"==typeof t}function g(t){return\"string\"==typeof t}function _(t){return void 0===t}function y(t){return v(t)&&\"[object RegExp]\"===I(t)}function v(t){return\"object\"==typeof t&&null!==t}function w(t){return v(t)&&\"[object Date]\"===I(t)}function E(t){return v(t)&&(\"[object Error]\"===I(t)||t instanceof Error)}function x(t){return\"function\"==typeof t}function I(t){return Object.prototype.toString.call(t)}function S(t){return t<10?\"0\"+t.toString(10):t.toString(10)}r.debuglog=function(t){if(_(a)&&(a=e.env.NODE_DEBUG||\"\"),t=t.toUpperCase(),!o[t])if(new RegExp(\"\\\\b\"+t+\"\\\\b\",\"i\").test(a)){var i=e.pid;o[t]=function(){var e=r.format.apply(r,arguments);console.error(\"%s %d: %s\",t,i,e)}}else o[t]=function(){};return o[t]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},r.isArray=d,r.isBoolean=p,r.isNull=m,r.isNullOrUndefined=function(t){return null==t},r.isNumber=b,r.isString=g,r.isSymbol=function(t){return\"symbol\"==typeof t},r.isUndefined=_,r.isRegExp=y,r.isObject=v,r.isDate=w,r.isError=E,r.isFunction=x,r.isPrimitive=function(t){return null===t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||\"symbol\"==typeof t||void 0===t},r.isBuffer=t(\"./support/isBuffer\");var A=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}r.log=function(){var t,e;console.log(\"%s - %s\",(t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(\":\"),[t.getDate(),A[t.getMonth()],e].join(\" \")),r.format.apply(r,arguments))},r.inherits=t(\"inherits\"),r._extend=function(t,e){if(!e||!v(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}}).call(this)}).call(this,t(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./support/isBuffer\":75,_process:184,inherits:74}],77:[function(t,e,r){(function(t){(function(){\"use strict\";var r=[\"BigInt64Array\",\"BigUint64Array\",\"Float32Array\",\"Float64Array\",\"Int16Array\",\"Int32Array\",\"Int8Array\",\"Uint16Array\",\"Uint32Array\",\"Uint8Array\",\"Uint8ClampedArray\"],i=\"undefined\"==typeof globalThis?t:globalThis;e.exports=function(){for(var t=[],e=0;e<r.length;e++)\"function\"==typeof i[r[e]]&&(t[t.length]=r[e]);return t}}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],78:[function(t,e,r){\"use strict\";r.byteLength=function(t){var e=l(t),r=e[0],i=e[1];return 3*(r+i)/4-i},r.toByteArray=function(t){var e,r,i=l(t),o=i[0],s=i[1],u=new a(function(t,e,r){return 3*(e+r)/4-r}(0,o,s)),h=0,f=s>0?o-4:o;for(r=0;r<f;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;2===s&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[h++]=255&e);1===s&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e);return u},r.fromByteArray=function(t){for(var e,r=t.length,n=r%3,a=[],o=0,s=r-n;o<s;o+=16383)a.push(h(t,o,o+16383>s?s:o+16383));1===n?(e=t[r-1],a.push(i[e>>2]+i[e<<4&63]+\"==\")):2===n&&(e=(t[r-2]<<8)+t[r-1],a.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+\"=\"));return a.join(\"\")};for(var i=[],n=[],a=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",s=0,u=o.length;s<u;++s)i[s]=o[s],n[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=t.indexOf(\"=\");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,r){for(var n,a,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(i[(a=n)>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return o.join(\"\")}n[\"-\".charCodeAt(0)]=62,n[\"_\".charCodeAt(0)]=63},{}],79:[function(t,e,r){var i=t(\"./lib/encoder\"),n=t(\"./lib/decoder\");e.exports={encode:i,decode:n}},{\"./lib/decoder\":80,\"./lib/encoder\":81}],80:[function(t,e,r){(function(t){(function(){function r(t,e){if(this.pos=0,this.buffer=t,this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=this.buffer.toString(\"utf-8\",0,this.pos+=2),\"BM\"!=this.flag)throw new Error(\"Invalid BMP File\");this.parseHeader(),this.parseRGBA()}r.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.palette[e]={red:n,green:i,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},r.prototype.parseRGBA=function(){var e=\"bit\"+this.bitPP,r=this.width*this.height*4;this.data=new t(r),this[e]()},r.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,r=this.height>=0?this.height-1:-this.height;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<t;n++)for(var a=this.buffer.readUInt8(this.pos++),o=i*this.width*4+8*n*4,s=0;s<8&&8*n+s<this.width;s++){var u=this.palette[a>>7-s&1];this.data[o+4*s]=0,this.data[o+4*s+1]=u.blue,this.data[o+4*s+2]=u.green,this.data[o+4*s+3]=u.red}0!=e&&(this.pos+=4-e)}},r.prototype.bit4=function(){if(2==this.compress){this.data.fill(255);for(var t=0,e=this.bottom_up?this.height-1:0,r=!1;t<this.data.length;){var i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);if(0==i){if(0==n){this.bottom_up?e--:e++,t=e*this.width*4,r=!1;continue}if(1==n)break;if(2==n){var a=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.bottom_up?e-=o:e+=o,t+=o*this.width*4+4*a}else{for(var s=this.buffer.readUInt8(this.pos++),u=0;u<n;u++)r?l.call(this,15&s):l.call(this,(240&s)>>4),1&u&&u+1<n&&(s=this.buffer.readUInt8(this.pos++)),r=!r;1==(n+1>>1&1)&&this.pos++}}else for(u=0;u<i;u++)r?l.call(this,15&n):l.call(this,(240&n)>>4),r=!r}function l(e){var r=this.palette[e];this.data[t]=0,this.data[t+1]=r.blue,this.data[t+2]=r.green,this.data[t+3]=r.red,t+=4}}else{var h=Math.ceil(this.width/2),f=h%4;for(o=this.height-1;o>=0;o--){var c=this.bottom_up?o:this.height-1-o;for(a=0;a<h;a++){n=this.buffer.readUInt8(this.pos++),t=c*this.width*4+2*a*4;var d=n>>4,p=15&n,m=this.palette[d];if(this.data[t]=0,this.data[t+1]=m.blue,this.data[t+2]=m.green,this.data[t+3]=m.red,2*a+1>=this.width)break;m=this.palette[p],this.data[t+4]=0,this.data[t+4+1]=m.blue,this.data[t+4+2]=m.green,this.data[t+4+3]=m.red}0!=f&&(this.pos+=4-f)}}},r.prototype.bit8=function(){if(1==this.compress){this.data.fill(255);for(var t=0,e=this.bottom_up?this.height-1:0;t<this.data.length;){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(0==r){if(0==i){this.bottom_up?e--:e++,t=e*this.width*4;continue}if(1==i)break;if(2==i){var n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.bottom_up?e-=a:e+=a,t+=a*this.width*4+4*n}else{for(var o=0;o<i;o++){var s=this.buffer.readUInt8(this.pos++);u.call(this,s)}!0&i&&this.pos++}}else for(o=0;o<r;o++)u.call(this,i)}function u(e){var r=this.palette[e];this.data[t]=0,this.data[t+1]=r.blue,this.data[t+2]=r.green,this.data[t+3]=r.red,t+=4}}else{var l=this.width%4;for(a=this.height-1;a>=0;a--){var h=this.bottom_up?a:this.height-1-a;for(n=0;n<this.width;n++){i=this.buffer.readUInt8(this.pos++),t=h*this.width*4+4*n;if(i<this.palette.length){var f=this.palette[i];this.data[t]=0,this.data[t+1]=f.blue,this.data[t+2]=f.green,this.data[t+3]=f.red}else this.data[t]=0,this.data[t+1]=255,this.data[t+2]=255,this.data[t+3]=255}0!=l&&(this.pos+=4-l)}}},r.prototype.bit15=function(){for(var t=this.width%3,e=parseInt(\"11111\",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,u=(a>>10&e)/e*255|0,l=a>>15?255:0,h=i*this.width*4+4*n;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=s,this.data[h+3]=u}this.pos+=t}},r.prototype.bit16=function(){var t=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,3==this.compress&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var e=[0,0,0],r=0;r<16;r++)this.maskRed>>r&1&&e[0]++,this.maskGreen>>r&1&&e[1]++,this.maskBlue>>r&1&&e[2]++;e[1]+=e[0],e[2]+=e[1],e[0]=8-e[0],e[1]-=8,e[2]-=8;for(var i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var o=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(o&this.maskBlue)<<e[0],u=(o&this.maskGreen)>>e[1],l=(o&this.maskRed)>>e[2],h=n*this.width*4+4*a;this.data[h]=0,this.data[h+1]=s,this.data[h+2]=u,this.data[h+3]=l}this.pos+=t}},r.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=e*this.width*4+4*r;this.data[o]=0,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}this.pos+=this.width%4}},r.prototype.bit32=function(){if(3==this.compress){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=n,this.data[s+2]=a,this.data[s+3]=o}}else for(t=this.height-1;t>=0;t--)for(e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){n=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=n,this.data[s+2]=a,this.data[s+3]=o}},r.prototype.getData=function(){return this.data},e.exports=function(t){return new r(t)}}).call(this)}).call(this,t(\"buffer\").Buffer)},{buffer:87}],81:[function(t,e,r){(function(t){(function(){function r(t){this.buffer=t.data,this.width=t.width,this.height=t.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag=\"BM\",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}r.prototype.encode=function(){var e=new t(this.offset+this.rgbSize);this.pos=0,e.write(this.flag,this.pos,2),this.pos+=2,e.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,e.writeUInt32LE(this.reserved,this.pos),this.pos+=4,e.writeUInt32LE(this.offset,this.pos),this.pos+=4,e.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,e.writeUInt32LE(this.width,this.pos),this.pos+=4,e.writeInt32LE(-this.height,this.pos),this.pos+=4,e.writeUInt16LE(this.planes,this.pos),this.pos+=2,e.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,e.writeUInt32LE(this.compress,this.pos),this.pos+=4,e.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,e.writeUInt32LE(this.hr,this.pos),this.pos+=4,e.writeUInt32LE(this.vr,this.pos),this.pos+=4,e.writeUInt32LE(this.colors,this.pos),this.pos+=4,e.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var r=0,i=3*this.width+this.extraBytes,n=0;n<this.height;n++){for(var a=0;a<this.width;a++){var o=this.pos+n*i+3*a;r++,e[o]=this.buffer[r++],e[o+1]=this.buffer[r++],e[o+2]=this.buffer[r++]}if(this.extraBytes>0){var s=this.pos+n*i+3*this.width;e.fill(0,s,s+this.extraBytes)}}return e},e.exports=function(t,e){return void 0===e&&(e=100),{data:new r(t).encode(),width:t.width,height:t.height}}}).call(this)}).call(this,t(\"buffer\").Buffer)},{buffer:87}],82:[function(t,e,r){},{}],83:[function(t,e,r){(function(e,i){(function(){\"use strict\";var n=t(\"assert\"),a=t(\"pako/lib/zlib/zstream\"),o=t(\"pako/lib/zlib/deflate.js\"),s=t(\"pako/lib/zlib/inflate.js\"),u=t(\"pako/lib/zlib/constants\");for(var l in u)r[l]=u[l];r.NONE=0,r.DEFLATE=1,r.INFLATE=2,r.GZIP=3,r.GUNZIP=4,r.DEFLATERAW=5,r.INFLATERAW=6,r.UNZIP=7;function h(t){if(\"number\"!=typeof t||t<r.DEFLATE||t>r.UNZIP)throw new TypeError(\"Bad argument\");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,n(this.init_done,\"close before init\"),n(this.mode<=r.UNZIP),this.mode===r.DEFLATE||this.mode===r.GZIP||this.mode===r.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==r.INFLATE&&this.mode!==r.GUNZIP&&this.mode!==r.INFLATERAW&&this.mode!==r.UNZIP||s.inflateEnd(this.strm),this.mode=r.NONE,this.dictionary=null)},h.prototype.write=function(t,e,r,i,n,a,o){return this._write(!0,t,e,r,i,n,a,o)},h.prototype.writeSync=function(t,e,r,i,n,a,o){return this._write(!1,t,e,r,i,n,a,o)},h.prototype._write=function(t,a,o,s,u,l,h,f){if(n.equal(arguments.length,8),n(this.init_done,\"write before init\"),n(this.mode!==r.NONE,\"already finalized\"),n.equal(!1,this.write_in_progress,\"write already in progress\"),n.equal(!1,this.pending_close,\"close is pending\"),this.write_in_progress=!0,n.equal(!1,void 0===a,\"must provide flush value\"),this.write_in_progress=!0,a!==r.Z_NO_FLUSH&&a!==r.Z_PARTIAL_FLUSH&&a!==r.Z_SYNC_FLUSH&&a!==r.Z_FULL_FLUSH&&a!==r.Z_FINISH&&a!==r.Z_BLOCK)throw new Error(\"Invalid flush value\");if(null==o&&(o=i.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=l,this.strm.next_out=h,this.flush=a,!t)return this._process(),this._checkError()?this._afterSync():void 0;var c=this;return e.nextTick(function(){c._process(),c._after()}),this},h.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},h.prototype._process=function(){var t=null;switch(this.mode){case r.DEFLATE:case r.GZIP:case r.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case r.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=r.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=r.GUNZIP):this.mode=r.INFLATE;break;default:throw new Error(\"invalid number of gzip magic number bytes read\")}case r.INFLATE:case r.GUNZIP:case r.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===r.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===r.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===r.Z_DATA_ERROR&&(this.err=r.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===r.GUNZIP&&this.err===r.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error(\"Unknown mode \"+this.mode)}},h.prototype._checkError=function(){switch(this.err){case r.Z_OK:case r.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===r.Z_FINISH)return this._error(\"unexpected end of file\"),!1;break;case r.Z_STREAM_END:break;case r.Z_NEED_DICT:return null==this.dictionary?this._error(\"Missing dictionary\"):this._error(\"Bad dictionary\"),!1;default:return this._error(\"Zlib error\"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},h.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(t,e,i,a,o){n(4===arguments.length||5===arguments.length,\"init(windowBits, level, memLevel, strategy, [dictionary])\"),n(t>=8&&t<=15,\"invalid windowBits\"),n(e>=-1&&e<=9,\"invalid compression level\"),n(i>=1&&i<=9,\"invalid memlevel\"),n(a===r.Z_FILTERED||a===r.Z_HUFFMAN_ONLY||a===r.Z_RLE||a===r.Z_FIXED||a===r.Z_DEFAULT_STRATEGY,\"invalid strategy\"),this._init(e,t,i,a,o),this._setDictionary()},h.prototype.params=function(){throw new Error(\"deflateParams Not supported\")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(t,e,i,n,u){switch(this.level=t,this.windowBits=e,this.memLevel=i,this.strategy=n,this.flush=r.Z_NO_FLUSH,this.err=r.Z_OK,this.mode!==r.GZIP&&this.mode!==r.GUNZIP||(this.windowBits+=16),this.mode===r.UNZIP&&(this.windowBits+=32),this.mode!==r.DEFLATERAW&&this.mode!==r.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case r.DEFLATE:case r.GZIP:case r.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,r.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case r.INFLATE:case r.GUNZIP:case r.INFLATERAW:case r.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error(\"Unknown mode \"+this.mode)}this.err!==r.Z_OK&&this._error(\"Init error\"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=r.Z_OK,this.mode){case r.DEFLATE:case r.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==r.Z_OK&&this._error(\"Failed to set dictionary\")}},h.prototype._reset=function(){switch(this.err=r.Z_OK,this.mode){case r.DEFLATE:case r.DEFLATERAW:case r.GZIP:this.err=o.deflateReset(this.strm);break;case r.INFLATE:case r.INFLATERAW:case r.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==r.Z_OK&&this._error(\"Failed to reset stream\")},r.Zlib=h}).call(this)}).call(this,t(\"_process\"),t(\"buffer\").Buffer)},{_process:184,assert:73,buffer:87,\"pako/lib/zlib/constants\":144,\"pako/lib/zlib/deflate.js\":146,\"pako/lib/zlib/inflate.js\":149,\"pako/lib/zlib/zstream\":153}],84:[function(t,e,r){(function(e){(function(){\"use strict\";var i=t(\"buffer\").Buffer,n=t(\"stream\").Transform,a=t(\"./binding\"),o=t(\"util\"),s=t(\"assert\").ok,u=t(\"buffer\").kMaxLength,l=\"Cannot create final Buffer. It would be larger than 0x\"+u.toString(16)+\" bytes\";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(a),f=0;f<h.length;f++){var c=h[f];c.match(/^Z/)&&Object.defineProperty(r,c,{enumerable:!0,value:a[c],writable:!1})}for(var d={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},p=Object.keys(d),m=0;m<p.length;m++){var b=p[m];d[d[b]]=b}function g(t,e,r){var n=[],a=0;function o(){for(var e;null!==(e=t.read());)n.push(e),a+=e.length;t.once(\"readable\",o)}function s(){var e,o=null;a>=u?o=new RangeError(l):e=i.concat(n,a),n=[],t.close(),r(o,e)}t.on(\"error\",function(e){t.removeListener(\"end\",s),t.removeListener(\"readable\",o),r(e)}),t.on(\"end\",s),t.end(e),o()}function _(t,e){if(\"string\"==typeof e&&(e=i.from(e)),!i.isBuffer(e))throw new TypeError(\"Not a string or buffer\");var r=t._finishFlushFlag;return t._processChunk(e,r)}function y(t){if(!(this instanceof y))return new y(t);M.call(this,t,a.DEFLATE)}function v(t){if(!(this instanceof v))return new v(t);M.call(this,t,a.INFLATE)}function w(t){if(!(this instanceof w))return new w(t);M.call(this,t,a.GZIP)}function E(t){if(!(this instanceof E))return new E(t);M.call(this,t,a.GUNZIP)}function x(t){if(!(this instanceof x))return new x(t);M.call(this,t,a.DEFLATERAW)}function I(t){if(!(this instanceof I))return new I(t);M.call(this,t,a.INFLATERAW)}function S(t){if(!(this instanceof S))return new S(t);M.call(this,t,a.UNZIP)}function A(t){return t===a.Z_NO_FLUSH||t===a.Z_PARTIAL_FLUSH||t===a.Z_SYNC_FLUSH||t===a.Z_FULL_FLUSH||t===a.Z_FINISH||t===a.Z_BLOCK}function M(t,e){var o=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||r.Z_DEFAULT_CHUNK,n.call(this,t),t.flush&&!A(t.flush))throw new Error(\"Invalid flush flag: \"+t.flush);if(t.finishFlush&&!A(t.finishFlush))throw new Error(\"Invalid flush flag: \"+t.finishFlush);if(this._flushFlag=t.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:a.Z_FINISH,t.chunkSize&&(t.chunkSize<r.Z_MIN_CHUNK||t.chunkSize>r.Z_MAX_CHUNK))throw new Error(\"Invalid chunk size: \"+t.chunkSize);if(t.windowBits&&(t.windowBits<r.Z_MIN_WINDOWBITS||t.windowBits>r.Z_MAX_WINDOWBITS))throw new Error(\"Invalid windowBits: \"+t.windowBits);if(t.level&&(t.level<r.Z_MIN_LEVEL||t.level>r.Z_MAX_LEVEL))throw new Error(\"Invalid compression level: \"+t.level);if(t.memLevel&&(t.memLevel<r.Z_MIN_MEMLEVEL||t.memLevel>r.Z_MAX_MEMLEVEL))throw new Error(\"Invalid memLevel: \"+t.memLevel);if(t.strategy&&t.strategy!=r.Z_FILTERED&&t.strategy!=r.Z_HUFFMAN_ONLY&&t.strategy!=r.Z_RLE&&t.strategy!=r.Z_FIXED&&t.strategy!=r.Z_DEFAULT_STRATEGY)throw new Error(\"Invalid strategy: \"+t.strategy);if(t.dictionary&&!i.isBuffer(t.dictionary))throw new Error(\"Invalid dictionary: it should be a Buffer instance\");this._handle=new a.Zlib(e);var s=this;this._hadError=!1,this._handle.onerror=function(t,e){C(s),s._hadError=!0;var i=new Error(t);i.errno=e,i.code=r.codes[e],s.emit(\"error\",i)};var u=r.Z_DEFAULT_COMPRESSION;\"number\"==typeof t.level&&(u=t.level);var l=r.Z_DEFAULT_STRATEGY;\"number\"==typeof t.strategy&&(l=t.strategy),this._handle.init(t.windowBits||r.Z_DEFAULT_WINDOWBITS,u,t.memLevel||r.Z_DEFAULT_MEMLEVEL,l,t.dictionary),this._buffer=i.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=l,this.once(\"end\",this.close),Object.defineProperty(this,\"_closed\",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function C(t,r){r&&e.nextTick(r),t._handle&&(t._handle.close(),t._handle=null)}function T(t){t.emit(\"close\")}Object.defineProperty(r,\"codes\",{enumerable:!0,value:Object.freeze(d),writable:!1}),r.Deflate=y,r.Inflate=v,r.Gzip=w,r.Gunzip=E,r.DeflateRaw=x,r.InflateRaw=I,r.Unzip=S,r.createDeflate=function(t){return new y(t)},r.createInflate=function(t){return new v(t)},r.createDeflateRaw=function(t){return new x(t)},r.createInflateRaw=function(t){return new I(t)},r.createGzip=function(t){return new w(t)},r.createGunzip=function(t){return new E(t)},r.createUnzip=function(t){return new S(t)},r.deflate=function(t,e,r){return\"function\"==typeof e&&(r=e,e={}),g(new y(e),t,r)},r.deflateSync=function(t,e){return _(new y(e),t)},r.gzip=function(t,e,r){return\"function\"==typeof e&&(r=e,e={}),g(new w(e),t,r)},r.gzipSync=function(t,e){return _(new w(e),t)},r.deflateRaw=function(t,e,r){return\"function\"==typeof e&&(r=e,e={}),g(new x(e),t,r)},r.deflateRawSync=function(t,e){return _(new x(e),t)},r.unzip=function(t,e,r){return\"function\"==typeof e&&(r=e,e={}),g(new S(e),t,r)},r.unzipSync=function(t,e){return _(new S(e),t)},r.inflate=function(t,e,r){return\"function\"==typeof e&&(r=e,e={}),g(new v(e),t,r)},r.inflateSync=function(t,e){return _(new v(e),t)},r.gunzip=function(t,e,r){return\"function\"==typeof e&&(r=e,e={}),g(new E(e),t,r)},r.gunzipSync=function(t,e){return _(new E(e),t)},r.inflateRaw=function(t,e,r){return\"function\"==typeof e&&(r=e,e={}),g(new I(e),t,r)},r.inflateRawSync=function(t,e){return _(new I(e),t)},o.inherits(M,n),M.prototype.params=function(t,i,n){if(t<r.Z_MIN_LEVEL||t>r.Z_MAX_LEVEL)throw new RangeError(\"Invalid compression level: \"+t);if(i!=r.Z_FILTERED&&i!=r.Z_HUFFMAN_ONLY&&i!=r.Z_RLE&&i!=r.Z_FIXED&&i!=r.Z_DEFAULT_STRATEGY)throw new TypeError(\"Invalid strategy: \"+i);if(this._level!==t||this._strategy!==i){var o=this;this.flush(a.Z_SYNC_FLUSH,function(){s(o._handle,\"zlib binding closed\"),o._handle.params(t,i),o._hadError||(o._level=t,o._strategy=i,n&&n())})}else e.nextTick(n)},M.prototype.reset=function(){return s(this._handle,\"zlib binding closed\"),this._handle.reset()},M.prototype._flush=function(t){this._transform(i.alloc(0),\"\",t)},M.prototype.flush=function(t,r){var n=this,o=this._writableState;(\"function\"==typeof t||void 0===t&&!r)&&(r=t,t=a.Z_FULL_FLUSH),o.ended?r&&e.nextTick(r):o.ending?r&&this.once(\"end\",r):o.needDrain?r&&this.once(\"drain\",function(){return n.flush(t,r)}):(this._flushFlag=t,this.write(i.alloc(0),\"\",r))},M.prototype.close=function(t){C(this,t),e.nextTick(T,this)},M.prototype._transform=function(t,e,r){var n,o=this._writableState,s=(o.ending||o.ended)&&(!t||o.length===t.length);return null===t||i.isBuffer(t)?this._handle?(s?n=this._finishFlushFlag:(n=this._flushFlag,t.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(t,n,r)):r(new Error(\"zlib binding closed\")):r(new Error(\"invalid input\"))},M.prototype._processChunk=function(t,e,r){var n=t&&t.length,a=this._chunkSize-this._offset,o=0,h=this,f=\"function\"==typeof r;if(!f){var c,d=[],p=0;this.on(\"error\",function(t){c=t}),s(this._handle,\"zlib binding closed\");do{var m=this._handle.writeSync(e,t,o,n,this._buffer,this._offset,a)}while(!this._hadError&&_(m[0],m[1]));if(this._hadError)throw c;if(p>=u)throw C(this),new RangeError(l);var b=i.concat(d,p);return C(this),b}s(this._handle,\"zlib binding closed\");var g=this._handle.write(e,t,o,n,this._buffer,this._offset,a);function _(u,l){if(this&&(this.buffer=null,this.callback=null),!h._hadError){var c=a-l;if(s(c>=0,\"have should not go down\"),c>0){var m=h._buffer.slice(h._offset,h._offset+c);h._offset+=c,f?h.push(m):(d.push(m),p+=m.length)}if((0===l||h._offset>=h._chunkSize)&&(a=h._chunkSize,h._offset=0,h._buffer=i.allocUnsafe(h._chunkSize)),0===l){if(o+=n-u,n=u,!f)return!0;var b=h._handle.write(e,t,o,n,h._buffer,h._offset,h._chunkSize);return b.callback=_,void(b.buffer=t)}if(!f)return!1;r()}}g.buffer=t,g.callback=_},o.inherits(y,M),o.inherits(v,M),o.inherits(w,M),o.inherits(E,M),o.inherits(x,M),o.inherits(I,M),o.inherits(S,M)}).call(this)}).call(this,t(\"_process\"))},{\"./binding\":83,_process:184,assert:73,buffer:87,stream:191,util:235}],85:[function(t,e,r){},{}],86:[function(t,e,r){var i=t(\"buffer\").Buffer;e.exports=function(t,e){if(i.isBuffer(t)&&i.isBuffer(e)){if(\"function\"==typeof t.equals)return t.equals(e);if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}}},{buffer:87}],87:[function(t,e,r){(function(e){(function(){\"use strict\";var e=t(\"base64-js\"),i=t(\"ieee754\");r.Buffer=o,r.SlowBuffer=function(t){+t!=t&&(t=0);return o.alloc(+t)},r.INSPECT_MAX_BYTES=50;var n=2147483647;function a(t){if(t>n)throw new RangeError('The value \"'+t+'\" is invalid for option \"size\"');var e=new Uint8Array(t);return e.__proto__=o.prototype,e}function o(t,e,r){if(\"number\"==typeof t){if(\"string\"==typeof e)throw new TypeError('The \"string\" argument must be of type string. Received type number');return l(t)}return s(t,e,r)}function s(t,e,r){if(\"string\"==typeof t)return function(t,e){\"string\"==typeof e&&\"\"!==e||(e=\"utf8\");if(!o.isEncoding(e))throw new TypeError(\"Unknown encoding: \"+e);var r=0|c(t,e),i=a(r),n=i.write(t,e);n!==r&&(i=i.slice(0,n));return i}(t,e);if(ArrayBuffer.isView(t))return h(t);if(null==t)throw TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof t);if(j(t,ArrayBuffer)||t&&j(t.buffer,ArrayBuffer))return function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('\"offset\" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('\"length\" is outside of buffer bounds');var i;i=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return i.__proto__=o.prototype,i}(t,e,r);if(\"number\"==typeof t)throw new TypeError('The \"value\" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return o.from(i,e,r);var n=function(t){if(o.isBuffer(t)){var e=0|f(t.length),r=a(e);return 0===r.length?r:(t.copy(r,0,0,e),r)}if(void 0!==t.length)return\"number\"!=typeof t.length||F(t.length)?a(0):h(t);if(\"Buffer\"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(n)return n;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive](\"string\"),e,r);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof t)}function u(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be of type number');if(t<0)throw new RangeError('The value \"'+t+'\" is invalid for option \"size\"')}function l(t){return u(t),a(t<0?0:0|f(t))}function h(t){for(var e=t.length<0?0:0|f(t.length),r=a(e),i=0;i<e;i+=1)r[i]=255&t[i];return r}function f(t){if(t>=n)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+n.toString(16)+\" bytes\");return 0|t}function c(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||j(t,ArrayBuffer))return t.byteLength;if(\"string\"!=typeof t)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":return N(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return D(t).length;default:if(n)return i?-1:N(t).length;e=(\"\"+e).toLowerCase(),n=!0}}function d(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function p(t,e,r,i,n){if(0===t.length)return-1;if(\"string\"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),F(r=+r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if(\"string\"==typeof e&&(e=o.from(e,i)),o.isBuffer(e))return 0===e.length?-1:m(t,e,r,i,n);if(\"number\"==typeof e)return e&=255,\"function\"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,i,n);throw new TypeError(\"val must be string, number or Buffer\")}function m(t,e,r,i,n){var a,o=1,s=t.length,u=e.length;if(void 0!==i&&(\"ucs2\"===(i=String(i).toLowerCase())||\"ucs-2\"===i||\"utf16le\"===i||\"utf-16le\"===i)){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var h=-1;for(a=r;a<s;a++)if(l(t,a)===l(e,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===u)return h*o}else-1!==h&&(a-=a-h),h=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var f=!0,c=0;c<u;c++)if(l(t,a+c)!==l(e,c)){f=!1;break}if(f)return a}return-1}function b(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var a=e.length;i>a/2&&(i=a/2);for(var o=0;o<i;++o){var s=parseInt(e.substr(2*o,2),16);if(F(s))return o;t[r+o]=s}return o}function g(t,e,r,i){return U(N(e,t.length-r),t,r,i)}function _(t,e,r,i){return U(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function y(t,e,r,i){return _(t,e,r,i)}function v(t,e,r,i){return U(D(e),t,r,i)}function w(t,e,r,i){return U(function(t,e){for(var r,i,n,a=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),i=r>>8,n=r%256,a.push(n),a.push(i);return a}(e,t.length-r),t,r,i)}function E(t,r,i){return 0===r&&i===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,i))}function x(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var a,o,s,u,l=t[n],h=null,f=l>239?4:l>223?3:l>191?2:1;if(n+f<=r)switch(f){case 1:l<128&&(h=l);break;case 2:128==(192&(a=t[n+1]))&&(u=(31&l)<<6|63&a)>127&&(h=u);break;case 3:a=t[n+1],o=t[n+2],128==(192&a)&&128==(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:a=t[n+1],o=t[n+2],s=t[n+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(h=u)}null===h?(h=65533,f=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),n+=f}return function(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);var r=\"\",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=I));return r}(i)}r.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(o.prototype,\"parent\",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,\"offset\",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),\"undefined\"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(t,e,r){return s(t,e,r)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(t,e,r){return function(t,e,r){return u(t),t<=0?a(t):void 0!==e?\"string\"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},o.allocUnsafe=function(t){return l(t)},o.allocUnsafeSlow=function(t){return l(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,e){if(j(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),j(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,i=e.length,n=0,a=Math.min(r,i);n<a;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=o.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var a=t[r];if(j(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('\"list\" argument must be an Array of Buffers');a.copy(i,n),n+=a.length}return i},o.byteLength=c,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?\"\":0===arguments.length?x(this,0,t):function(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(e>>>=0))return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return M(this,e,r);case\"utf8\":case\"utf-8\":return x(this,e,r);case\"ascii\":return S(this,e,r);case\"latin1\":case\"binary\":return A(this,e,r);case\"base64\":return E(this,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return C(this,e,r);default:if(i)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),i=!0}}.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t=\"\",e=r.INSPECT_MAX_BYTES;return t=this.toString(\"hex\",0,e).replace(/(.{2})/g,\"$1 \").trim(),this.length>e&&(t+=\" ... \"),\"<Buffer \"+t+\">\"},o.prototype.compare=function(t,e,r,i,n){if(j(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError(\"out of range index\");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(this===t)return 0;for(var a=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(e>>>=0),u=Math.min(a,s),l=this.slice(i,n),h=t.slice(e,r),f=0;f<u;++f)if(l[f]!==h[f]){a=l[f],s=h[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},o.prototype.indexOf=function(t,e,r){return p(this,t,e,r,!0)},o.prototype.lastIndexOf=function(t,e,r){return p(this,t,e,r,!1)},o.prototype.write=function(t,e,r,i){if(void 0===e)i=\"utf8\",r=this.length,e=0;else if(void 0===r&&\"string\"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");e>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i=\"utf8\")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");i||(i=\"utf8\");for(var a=!1;;)switch(i){case\"hex\":return b(this,t,e,r);case\"utf8\":case\"utf-8\":return g(this,t,e,r);case\"ascii\":return _(this,t,e,r);case\"latin1\":case\"binary\":return y(this,t,e,r);case\"base64\":return v(this,t,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return w(this,t,e,r);default:if(a)throw new TypeError(\"Unknown encoding: \"+i);i=(\"\"+i).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function S(t,e,r){var i=\"\";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function A(t,e,r){var i=\"\";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function M(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n=\"\",a=e;a<r;++a)n+=B(t[a]);return n}function C(t,e,r){for(var i=t.slice(e,r),n=\"\",a=0;a<i.length;a+=2)n+=String.fromCharCode(i[a]+256*i[a+1]);return n}function T(t,e,r){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>r)throw new RangeError(\"Trying to access beyond buffer length\")}function k(t,e,r,i,n,a){if(!o.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>n||e<a)throw new RangeError('\"value\" argument is out of bounds');if(r+i>t.length)throw new RangeError(\"Index out of range\")}function P(t,e,r,i,n,a){if(r+i>t.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function R(t,e,r,n,a){return e=+e,r>>>=0,a||P(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,a){return e=+e,r>>>=0,a||P(t,0,r,8),i.write(t,e,r,n,52,8),r+8}o.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var i=this.subarray(t,e);return i.__proto__=o.prototype,i},o.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);for(var i=this[t],n=1,a=0;++a<e&&(n*=256);)i+=this[t+a]*n;return i},o.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},o.prototype.readUInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);for(var i=this[t],n=1,a=0;++a<e&&(n*=256);)i+=this[t+a]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||T(t,e,this.length);for(var i=e,n=1,a=this[t+--i];i>0&&(n*=256);)a+=this[t+--i]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*e)),a},o.prototype.readInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){t>>>=0,e||T(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(t,e){t>>>=0,e||T(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return t>>>=0,e||T(t,4,this.length),i.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t>>>=0,e||T(t,4,this.length),i.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t>>>=0,e||T(t,8,this.length),i.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t>>>=0,e||T(t,8,this.length),i.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,r,i){(t=+t,e>>>=0,r>>>=0,i)||k(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,a=0;for(this[e]=255&t;++a<r&&(n*=256);)this[e+a]=t/n&255;return e+r},o.prototype.writeUIntBE=function(t,e,r,i){(t=+t,e>>>=0,r>>>=0,i)||k(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,a=1;for(this[e+n]=255&t;--n>=0&&(a*=256);)this[e+n]=t/a&255;return e+r},o.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,1,255,0),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},o.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);k(this,t,e,r,n-1,-n)}var a=0,o=1,s=0;for(this[e]=255&t;++a<r&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},o.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);k(this,t,e,r,n-1,-n)}var a=r-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},o.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeFloatLE=function(t,e,r){return R(this,t,e,!0,r)},o.prototype.writeFloatBE=function(t,e,r){return R(this,t,e,!1,r)},o.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},o.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},o.prototype.copy=function(t,e,r,i){if(!o.isBuffer(t))throw new TypeError(\"argument should be a Buffer\");if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"Index out of range\");if(i<0)throw new RangeError(\"sourceEnd out of bounds\");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n=i-r;if(this===t&&\"function\"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,i);else if(this===t&&r<e&&e<i)for(var a=n-1;a>=0;--a)t[a+e]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,i),e);return n},o.prototype.fill=function(t,e,r,i){if(\"string\"==typeof t){if(\"string\"==typeof e?(i=e,e=0,r=this.length):\"string\"==typeof r&&(i=r,r=this.length),void 0!==i&&\"string\"!=typeof i)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof i&&!o.isEncoding(i))throw new TypeError(\"Unknown encoding: \"+i);if(1===t.length){var n=t.charCodeAt(0);(\"utf8\"===i&&n<128||\"latin1\"===i)&&(t=n)}}else\"number\"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError(\"Out of range index\");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),\"number\"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var s=o.isBuffer(t)?t:o.from(t,i),u=s.length;if(0===u)throw new TypeError('The value \"'+t+'\" is invalid for argument \"value\"');for(a=0;a<r-e;++a)this[a+e]=s[a%u]}return this};var O=/[^+/0-9A-Za-z-_]/g;function B(t){return t<16?\"0\"+t.toString(16):t.toString(16)}function N(t,e){var r;e=e||1/0;for(var i=t.length,n=null,a=[],o=0;o<i;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&a.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&a.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function D(t){return e.toByteArray(function(t){if((t=(t=t.split(\"=\")[0]).trim().replace(O,\"\")).length<2)return\"\";for(;t.length%4!=0;)t+=\"=\";return t}(t))}function U(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function j(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function F(t){return t!=t}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"base64-js\":78,buffer:87,ieee754:119}],88:[function(t,e,r){e.exports={100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",208:\"Already Reported\",226:\"IM Used\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Found\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",307:\"Temporary Redirect\",308:\"Permanent Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Timeout\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Payload Too Large\",414:\"URI Too Long\",415:\"Unsupported Media Type\",416:\"Range Not Satisfiable\",417:\"Expectation Failed\",418:\"I'm a teapot\",421:\"Misdirected Request\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",425:\"Unordered Collection\",426:\"Upgrade Required\",428:\"Precondition Required\",429:\"Too Many Requests\",431:\"Request Header Fields Too Large\",451:\"Unavailable For Legal Reasons\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Timeout\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",508:\"Loop Detected\",509:\"Bandwidth Limit Exceeded\",510:\"Not Extended\",511:\"Network Authentication Required\"}},{}],89:[function(t,e,r){\"use strict\";var i=t(\"get-intrinsic\"),n=t(\"./\"),a=n(i(\"String.prototype.indexOf\"));e.exports=function(t,e){var r=i(t,!!e);return\"function\"==typeof r&&a(t,\".prototype.\")>-1?n(r):r}},{\"./\":90,\"get-intrinsic\":106}],90:[function(t,e,r){\"use strict\";var i=t(\"function-bind\"),n=t(\"get-intrinsic\"),a=n(\"%Function.prototype.apply%\"),o=n(\"%Function.prototype.call%\"),s=n(\"%Reflect.apply%\",!0)||i.call(o,a),u=n(\"%Object.getOwnPropertyDescriptor%\",!0),l=n(\"%Object.defineProperty%\",!0),h=n(\"%Math.max%\");if(l)try{l({},\"a\",{value:1})}catch(t){l=null}e.exports=function(t){var e=s(i,o,arguments);u&&l&&(u(e,\"length\").configurable&&l(e,\"length\",{value:1+h(0,t.length-(arguments.length-1))}));return e};var f=function(){return s(i,a,arguments)};l?l(e.exports,\"apply\",{value:f}):e.exports.apply=f},{\"function-bind\":105,\"get-intrinsic\":106}],91:[function(t,e,r){\"use strict\";var i=t(\"get-intrinsic\")(\"%Object.getOwnPropertyDescriptor%\",!0);if(i)try{i([],\"length\")}catch(t){i=null}e.exports=i},{\"get-intrinsic\":106}],92:[function(t,e,r){\"use strict\";var i,n=\"object\"==typeof Reflect?Reflect:null,a=n&&\"function\"==typeof n.apply?n.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};i=n&&\"function\"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(t,e){return new Promise(function(r,i){function n(r){t.removeListener(e,a),i(r)}function a(){\"function\"==typeof t.removeListener&&t.removeListener(\"error\",n),r([].slice.call(arguments))}b(t,e,a,{once:!0}),\"error\"!==e&&function(t,e,r){\"function\"==typeof t.on&&b(t,\"error\",e,r)}(t,n,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,r,i){var n,a,o,s;if(l(r),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit(\"newListener\",e,r.listener?r.listener:r),a=t._events),o=a[e]),void 0===o)o=a[e]=r,++t._eventsCount;else if(\"function\"==typeof o?o=a[e]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=h(t))>0&&o.length>n&&!o.warned){o.warned=!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+o.length+\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExceededWarning\",u.emitter=t,u.type=e,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return t}function c(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(i);return n.listener=r,i.wrapFn=n,n}function d(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:\"function\"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):m(n,n.length)}function p(t){var e=this._events;if(void 0!==e){var r=e[t];if(\"function\"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function b(t,e,r,i){if(\"function\"==typeof t.on)i.once?t.once(e,r):t.on(e,r);else{if(\"function\"!=typeof t.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function n(a){i.once&&t.removeEventListener(e,n),r(a)})}}Object.defineProperty(s,\"defaultMaxListeners\",{enumerable:!0,get:function(){return u},set:function(t){if(\"number\"!=typeof t||t<0||o(t))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+t+\".\");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||o(t))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+t+\".\");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i=\"error\"===t,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw s.context=o,s}var u=n[t];if(void 0===u)return!1;if(\"function\"==typeof u)a(u,this,e);else{var l=u.length,h=m(u,l);for(r=0;r<l;++r)a(h[r],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return l(e),this.on(t,c(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,c(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,i,n,a,o;if(l(e),void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit(\"removeListener\",t,r.listener||e));else if(\"function\"!=typeof r){for(n=-1,a=r.length-1;a>=0;a--)if(r[a]===e||r[a].listener===e){o=r[a].listener,n=a;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit(\"removeListener\",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,a=Object.keys(r);for(i=0;i<a.length;++i)\"removeListener\"!==(n=a[i])&&this.removeAllListeners(n);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return\"function\"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},{}],93:[function(t,e,r){var i=t(\"./lib/parser\");e.exports={create:function(e,r){if(e instanceof(r=r||(0,eval)(\"this\")).ArrayBuffer){var n=t(\"./lib/dom-bufferstream\");return new i(new n(e,0,e.byteLength,!0,r))}var a=t(\"./lib/bufferstream\");return new i(new a(e,0,e.length,!0))}}},{\"./lib/bufferstream\":94,\"./lib/dom-bufferstream\":96,\"./lib/parser\":100}],94:[function(t,e,r){function i(t,e,r,i){this.buffer=t,this.offset=e||0,r=\"number\"==typeof r?r:t.length,this.endPosition=this.offset+r,this.setBigEndian(i)}i.prototype={setBigEndian:function(t){this.bigEndian=!!t},nextUInt8:function(){var t=this.buffer.readUInt8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.buffer.readInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,t},nextUInt32:function(){var t=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,t},nextInt16:function(){var t=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,t},nextInt32:function(){var t=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,t},nextFloat:function(){var t=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,t},nextDouble:function(){var t=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,t},nextBuffer:function(t){var e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.endPosition-this.offset},nextString:function(t){var e=this.buffer.toString(\"utf8\",this.offset,this.offset+t);return this.offset+=t,e},mark:function(){var t=this;return{openWithOffset:function(e){return e=(e||0)+this.offset,new i(t.buffer,e,t.endPosition-e,t.bigEndian)},offset:this.offset}},offsetFrom:function(t){return this.offset-t.offset},skip:function(t){this.offset+=t},branch:function(t,e){return e=\"number\"==typeof e?e:this.endPosition-(this.offset+t),new i(this.buffer,this.offset+t,e,this.bigEndian)}},e.exports=i},{}],95:[function(t,e,r){function i(t){return parseInt(t,10)}var n=3600,a=60;function o(t,e){t=t.map(i),e=e.map(i);var r=t[0],n=t[1]-1,a=t[2],o=e[0],s=e[1],u=e[2];return Date.UTC(r,n,a,o,s,u,0)/1e3}function s(t){var e=t.substr(0,10).split(\"-\"),r=t.substr(11,8).split(\":\"),s=t.substr(19,6).split(\":\").map(i),u=s[0]*n+s[1]*a,l=o(e,r);if(\"number\"==typeof(l-=u)&&!isNaN(l))return l}function u(t){var e=t.split(\" \"),r=o(e[0].split(\":\"),e[1].split(\":\"));if(\"number\"==typeof r&&!isNaN(r))return r}e.exports={parseDateWithSpecFormat:u,parseDateWithTimezoneFormat:s,parseExifDate:function(t){var e=19===t.length&&\":\"===t.charAt(4);return 25===t.length&&\"T\"===t.charAt(10)?s(t):e?u(t):void 0}}},{}],96:[function(t,e,r){function i(t,e,r,i,n,a){this.global=n,e=e||0,r=r||t.byteLength-e,this.arrayBuffer=t.slice(e,e+r),this.view=new n.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(i),this.offset=0,this.parentOffset=(a||0)+e}i.prototype={setBigEndian:function(t){this.littleEndian=!t},nextUInt8:function(){var t=this.view.getUint8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.view.getInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},nextUInt32:function(){var t=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},nextInt16:function(){var t=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},nextInt32:function(){var t=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},nextFloat:function(){var t=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},nextDouble:function(){var t=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},nextBuffer:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return e=String.fromCharCode.apply(null,new this.global.Uint8Array(e)),this.offset+=t,e},mark:function(){var t=this;return{openWithOffset:function(e){return e=(e||0)+this.offset,new i(t.arrayBuffer,e,t.arrayBuffer.byteLength-e,!t.littleEndian,t.global,t.parentOffset)},offset:this.offset,getParentOffset:function(){return t.parentOffset}}},offsetFrom:function(t){return this.parentOffset+this.offset-(t.offset+t.getParentOffset())},skip:function(t){this.offset+=t},branch:function(t,e){return e=\"number\"==typeof e?e:this.arrayBuffer.byteLength-(this.offset+t),new i(this.arrayBuffer,this.offset+t,e,!this.littleEndian,this.global,this.parentOffset)}},e.exports=i},{}],97:[function(t,e,r){e.exports={exif:{1:\"InteropIndex\",2:\"InteropVersion\",11:\"ProcessingSoftware\",254:\"SubfileType\",255:\"OldSubfileType\",256:\"ImageWidth\",257:\"ImageHeight\",258:\"BitsPerSample\",259:\"Compression\",262:\"PhotometricInterpretation\",263:\"Thresholding\",264:\"CellWidth\",265:\"CellLength\",266:\"FillOrder\",269:\"DocumentName\",270:\"ImageDescription\",271:\"Make\",272:\"Model\",273:\"StripOffsets\",274:\"Orientation\",277:\"SamplesPerPixel\",278:\"RowsPerStrip\",279:\"StripByteCounts\",280:\"MinSampleValue\",281:\"MaxSampleValue\",282:\"XResolution\",283:\"YResolution\",284:\"PlanarConfiguration\",285:\"PageName\",286:\"XPosition\",287:\"YPosition\",288:\"FreeOffsets\",289:\"FreeByteCounts\",290:\"GrayResponseUnit\",291:\"GrayResponseCurve\",292:\"T4Options\",293:\"T6Options\",296:\"ResolutionUnit\",297:\"PageNumber\",300:\"ColorResponseUnit\",301:\"TransferFunction\",305:\"Software\",306:\"ModifyDate\",315:\"Artist\",316:\"HostComputer\",317:\"Predictor\",318:\"WhitePoint\",319:\"PrimaryChromaticities\",320:\"ColorMap\",321:\"HalftoneHints\",322:\"TileWidth\",323:\"TileLength\",324:\"TileOffsets\",325:\"TileByteCounts\",326:\"BadFaxLines\",327:\"CleanFaxData\",328:\"ConsecutiveBadFaxLines\",330:\"SubIFD\",332:\"InkSet\",333:\"InkNames\",334:\"NumberofInks\",336:\"DotRange\",337:\"TargetPrinter\",338:\"ExtraSamples\",339:\"SampleFormat\",340:\"SMinSampleValue\",341:\"SMaxSampleValue\",342:\"TransferRange\",343:\"ClipPath\",344:\"XClipPathUnits\",345:\"YClipPathUnits\",346:\"Indexed\",347:\"JPEGTables\",351:\"OPIProxy\",400:\"GlobalParametersIFD\",401:\"ProfileType\",402:\"FaxProfile\",403:\"CodingMethods\",404:\"VersionYear\",405:\"ModeNumber\",433:\"Decode\",434:\"DefaultImageColor\",435:\"T82Options\",437:\"JPEGTables\",512:\"JPEGProc\",513:\"ThumbnailOffset\",514:\"ThumbnailLength\",515:\"JPEGRestartInterval\",517:\"JPEGLosslessPredictors\",518:\"JPEGPointTransforms\",519:\"JPEGQTables\",520:\"JPEGDCTables\",521:\"JPEGACTables\",529:\"YCbCrCoefficients\",530:\"YCbCrSubSampling\",531:\"YCbCrPositioning\",532:\"ReferenceBlackWhite\",559:\"StripRowCounts\",700:\"ApplicationNotes\",999:\"USPTOMiscellaneous\",4096:\"RelatedImageFileFormat\",4097:\"RelatedImageWidth\",4098:\"RelatedImageHeight\",18246:\"Rating\",18247:\"XP_DIP_XML\",18248:\"StitchInfo\",18249:\"RatingPercent\",32781:\"ImageID\",32931:\"WangTag1\",32932:\"WangAnnotation\",32933:\"WangTag3\",32934:\"WangTag4\",32995:\"Matteing\",32996:\"DataType\",32997:\"ImageDepth\",32998:\"TileDepth\",33405:\"Model2\",33421:\"CFARepeatPatternDim\",33422:\"CFAPattern2\",33423:\"BatteryLevel\",33424:\"KodakIFD\",33432:\"Copyright\",33434:\"ExposureTime\",33437:\"FNumber\",33445:\"MDFileTag\",33446:\"MDScalePixel\",33447:\"MDColorTable\",33448:\"MDLabName\",33449:\"MDSampleInfo\",33450:\"MDPrepDate\",33451:\"MDPrepTime\",33452:\"MDFileUnits\",33550:\"PixelScale\",33589:\"AdventScale\",33590:\"AdventRevision\",33628:\"UIC1Tag\",33629:\"UIC2Tag\",33630:\"UIC3Tag\",33631:\"UIC4Tag\",33723:\"IPTC-NAA\",33918:\"IntergraphPacketData\",33919:\"IntergraphFlagRegisters\",33920:\"IntergraphMatrix\",33921:\"INGRReserved\",33922:\"ModelTiePoint\",34016:\"Site\",34017:\"ColorSequence\",34018:\"IT8Header\",34019:\"RasterPadding\",34020:\"BitsPerRunLength\",34021:\"BitsPerExtendedRunLength\",34022:\"ColorTable\",34023:\"ImageColorIndicator\",34024:\"BackgroundColorIndicator\",34025:\"ImageColorValue\",34026:\"BackgroundColorValue\",34027:\"PixelIntensityRange\",34028:\"TransparencyIndicator\",34029:\"ColorCharacterization\",34030:\"HCUsage\",34031:\"TrapIndicator\",34032:\"CMYKEquivalent\",34118:\"SEMInfo\",34152:\"AFCP_IPTC\",34232:\"PixelMagicJBIGOptions\",34264:\"ModelTransform\",34306:\"WB_GRGBLevels\",34310:\"LeafData\",34377:\"PhotoshopSettings\",34665:\"ExifOffset\",34675:\"ICC_Profile\",34687:\"TIFF_FXExtensions\",34688:\"MultiProfiles\",34689:\"SharedData\",34690:\"T88Options\",34732:\"ImageLayer\",34735:\"GeoTiffDirectory\",34736:\"GeoTiffDoubleParams\",34737:\"GeoTiffAsciiParams\",34850:\"ExposureProgram\",34852:\"SpectralSensitivity\",34853:\"GPSInfo\",34855:\"ISO\",34856:\"Opto-ElectricConvFactor\",34857:\"Interlace\",34858:\"TimeZoneOffset\",34859:\"SelfTimerMode\",34864:\"SensitivityType\",34865:\"StandardOutputSensitivity\",34866:\"RecommendedExposureIndex\",34867:\"ISOSpeed\",34868:\"ISOSpeedLatitudeyyy\",34869:\"ISOSpeedLatitudezzz\",34908:\"FaxRecvParams\",34909:\"FaxSubAddress\",34910:\"FaxRecvTime\",34954:\"LeafSubIFD\",36864:\"ExifVersion\",36867:\"DateTimeOriginal\",36868:\"CreateDate\",37121:\"ComponentsConfiguration\",37122:\"CompressedBitsPerPixel\",37377:\"ShutterSpeedValue\",37378:\"ApertureValue\",37379:\"BrightnessValue\",37380:\"ExposureCompensation\",37381:\"MaxApertureValue\",37382:\"SubjectDistance\",37383:\"MeteringMode\",37384:\"LightSource\",37385:\"Flash\",37386:\"FocalLength\",37387:\"FlashEnergy\",37388:\"SpatialFrequencyResponse\",37389:\"Noise\",37390:\"FocalPlaneXResolution\",37391:\"FocalPlaneYResolution\",37392:\"FocalPlaneResolutionUnit\",37393:\"ImageNumber\",37394:\"SecurityClassification\",37395:\"ImageHistory\",37396:\"SubjectArea\",37397:\"ExposureIndex\",37398:\"TIFF-EPStandardID\",37399:\"SensingMethod\",37434:\"CIP3DataFile\",37435:\"CIP3Sheet\",37436:\"CIP3Side\",37439:\"StoNits\",37500:\"MakerNote\",37510:\"UserComment\",37520:\"SubSecTime\",37521:\"SubSecTimeOriginal\",37522:\"SubSecTimeDigitized\",37679:\"MSDocumentText\",37680:\"MSPropertySetStorage\",37681:\"MSDocumentTextPosition\",37724:\"ImageSourceData\",40091:\"XPTitle\",40092:\"XPComment\",40093:\"XPAuthor\",40094:\"XPKeywords\",40095:\"XPSubject\",40960:\"FlashpixVersion\",40961:\"ColorSpace\",40962:\"ExifImageWidth\",40963:\"ExifImageHeight\",40964:\"RelatedSoundFile\",40965:\"InteropOffset\",41483:\"FlashEnergy\",41484:\"SpatialFrequencyResponse\",41485:\"Noise\",41486:\"FocalPlaneXResolution\",41487:\"FocalPlaneYResolution\",41488:\"FocalPlaneResolutionUnit\",41489:\"ImageNumber\",41490:\"SecurityClassification\",41491:\"ImageHistory\",41492:\"SubjectLocation\",41493:\"ExposureIndex\",41494:\"TIFF-EPStandardID\",41495:\"SensingMethod\",41728:\"FileSource\",41729:\"SceneType\",41730:\"CFAPattern\",41985:\"CustomRendered\",41986:\"ExposureMode\",41987:\"WhiteBalance\",41988:\"DigitalZoomRatio\",41989:\"FocalLengthIn35mmFormat\",41990:\"SceneCaptureType\",41991:\"GainControl\",41992:\"Contrast\",41993:\"Saturation\",41994:\"Sharpness\",41995:\"DeviceSettingDescription\",41996:\"SubjectDistanceRange\",42016:\"ImageUniqueID\",42032:\"OwnerName\",42033:\"SerialNumber\",42034:\"LensInfo\",42035:\"LensMake\",42036:\"LensModel\",42037:\"LensSerialNumber\",42112:\"GDALMetadata\",42113:\"GDALNoData\",42240:\"Gamma\",44992:\"ExpandSoftware\",44993:\"ExpandLens\",44994:\"ExpandFilm\",44995:\"ExpandFilterLens\",44996:\"ExpandScanner\",44997:\"ExpandFlashLamp\",48129:\"PixelFormat\",48130:\"Transformation\",48131:\"Uncompressed\",48132:\"ImageType\",48256:\"ImageWidth\",48257:\"ImageHeight\",48258:\"WidthResolution\",48259:\"HeightResolution\",48320:\"ImageOffset\",48321:\"ImageByteCount\",48322:\"AlphaOffset\",48323:\"AlphaByteCount\",48324:\"ImageDataDiscard\",48325:\"AlphaDataDiscard\",50215:\"OceScanjobDesc\",50216:\"OceApplicationSelector\",50217:\"OceIDNumber\",50218:\"OceImageLogic\",50255:\"Annotations\",50341:\"PrintIM\",50560:\"USPTOOriginalContentType\",50706:\"DNGVersion\",50707:\"DNGBackwardVersion\",50708:\"UniqueCameraModel\",50709:\"LocalizedCameraModel\",50710:\"CFAPlaneColor\",50711:\"CFALayout\",50712:\"LinearizationTable\",50713:\"BlackLevelRepeatDim\",50714:\"BlackLevel\",50715:\"BlackLevelDeltaH\",50716:\"BlackLevelDeltaV\",50717:\"WhiteLevel\",50718:\"DefaultScale\",50719:\"DefaultCropOrigin\",50720:\"DefaultCropSize\",50721:\"ColorMatrix1\",50722:\"ColorMatrix2\",50723:\"CameraCalibration1\",50724:\"CameraCalibration2\",50725:\"ReductionMatrix1\",50726:\"ReductionMatrix2\",50727:\"AnalogBalance\",50728:\"AsShotNeutral\",50729:\"AsShotWhiteXY\",50730:\"BaselineExposure\",50731:\"BaselineNoise\",50732:\"BaselineSharpness\",50733:\"BayerGreenSplit\",50734:\"LinearResponseLimit\",50735:\"CameraSerialNumber\",50736:\"DNGLensInfo\",50737:\"ChromaBlurRadius\",50738:\"AntiAliasStrength\",50739:\"ShadowScale\",50740:\"DNGPrivateData\",50741:\"MakerNoteSafety\",50752:\"RawImageSegmentation\",50778:\"CalibrationIlluminant1\",50779:\"CalibrationIlluminant2\",50780:\"BestQualityScale\",50781:\"RawDataUniqueID\",50784:\"AliasLayerMetadata\",50827:\"OriginalRawFileName\",50828:\"OriginalRawFileData\",50829:\"ActiveArea\",50830:\"MaskedAreas\",50831:\"AsShotICCProfile\",50832:\"AsShotPreProfileMatrix\",50833:\"CurrentICCProfile\",50834:\"CurrentPreProfileMatrix\",50879:\"ColorimetricReference\",50898:\"PanasonicTitle\",50899:\"PanasonicTitle2\",50931:\"CameraCalibrationSig\",50932:\"ProfileCalibrationSig\",50933:\"ProfileIFD\",50934:\"AsShotProfileName\",50935:\"NoiseReductionApplied\",50936:\"ProfileName\",50937:\"ProfileHueSatMapDims\",50938:\"ProfileHueSatMapData1\",50939:\"ProfileHueSatMapData2\",50940:\"ProfileToneCurve\",50941:\"ProfileEmbedPolicy\",50942:\"ProfileCopyright\",50964:\"ForwardMatrix1\",50965:\"ForwardMatrix2\",50966:\"PreviewApplicationName\",50967:\"PreviewApplicationVersion\",50968:\"PreviewSettingsName\",50969:\"PreviewSettingsDigest\",50970:\"PreviewColorSpace\",50971:\"PreviewDateTime\",50972:\"RawImageDigest\",50973:\"OriginalRawFileDigest\",50974:\"SubTileBlockSize\",50975:\"RowInterleaveFactor\",50981:\"ProfileLookTableDims\",50982:\"ProfileLookTableData\",51008:\"OpcodeList1\",51009:\"OpcodeList2\",51022:\"OpcodeList3\",51041:\"NoiseProfile\",51043:\"TimeCodes\",51044:\"FrameRate\",51058:\"TStop\",51081:\"ReelName\",51089:\"OriginalDefaultFinalSize\",51090:\"OriginalBestQualitySize\",51091:\"OriginalDefaultCropSize\",51105:\"CameraLabel\",51107:\"ProfileHueSatMapEncoding\",51108:\"ProfileLookTableEncoding\",51109:\"BaselineExposureOffset\",51110:\"DefaultBlackRender\",51111:\"NewRawImageDigest\",51112:\"RawToPreviewGain\",51125:\"DefaultUserCrop\",59932:\"Padding\",59933:\"OffsetSchema\",65000:\"OwnerName\",65001:\"SerialNumber\",65002:\"Lens\",65024:\"KDC_IFD\",65100:\"RawFile\",65101:\"Converter\",65102:\"WhiteBalance\",65105:\"Exposure\",65106:\"Shadows\",65107:\"Brightness\",65108:\"Contrast\",65109:\"Saturation\",65110:\"Sharpness\",65111:\"Smoothness\",65112:\"MoireFilter\"},gps:{0:\"GPSVersionID\",1:\"GPSLatitudeRef\",2:\"GPSLatitude\",3:\"GPSLongitudeRef\",4:\"GPSLongitude\",5:\"GPSAltitudeRef\",6:\"GPSAltitude\",7:\"GPSTimeStamp\",8:\"GPSSatellites\",9:\"GPSStatus\",10:\"GPSMeasureMode\",11:\"GPSDOP\",12:\"GPSSpeedRef\",13:\"GPSSpeed\",14:\"GPSTrackRef\",15:\"GPSTrack\",16:\"GPSImgDirectionRef\",17:\"GPSImgDirection\",18:\"GPSMapDatum\",19:\"GPSDestLatitudeRef\",20:\"GPSDestLatitude\",21:\"GPSDestLongitudeRef\",22:\"GPSDestLongitude\",23:\"GPSDestBearingRef\",24:\"GPSDestBearing\",25:\"GPSDestDistanceRef\",26:\"GPSDestDistance\",27:\"GPSProcessingMethod\",28:\"GPSAreaInformation\",29:\"GPSDateStamp\",30:\"GPSDifferential\",31:\"GPSHPositioningError\"}}},{}],98:[function(t,e,r){function i(t,e){switch(t){case 1:return e.nextUInt8();case 3:return e.nextUInt16();case 4:return e.nextUInt32();case 5:return[e.nextUInt32(),e.nextUInt32()];case 6:return e.nextInt8();case 8:return e.nextUInt16();case 9:return e.nextUInt32();case 10:return[e.nextInt32(),e.nextInt32()];case 11:return e.nextFloat();case 12:return e.nextDouble();default:throw new Error(\"Invalid format while decoding: \"+t)}}function n(t,e){var r,n,a=e.nextUInt16(),o=e.nextUInt16(),s=function(t){switch(t){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}(o),u=e.nextUInt32(),l=s*u;if(l>4&&(e=t.openWithOffset(e.nextUInt32())),2===o){var h=(r=e.nextString(u)).indexOf(\"\\0\");-1!==h&&(r=r.substr(0,h))}else if(7===o)r=e.nextBuffer(u);else if(0!==o)for(r=[],n=0;n<u;++n)r.push(i(o,e));return l<4&&e.skip(4-l),[a,r,o]}function a(t,e,r){var i,a,o=e.nextUInt16();for(a=0;a<o;++a)r((i=n(t,e))[0],i[1],i[2])}e.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(t,e){var r,i,n,o;try{r=function(t){if(\"Exif\\0\\0\"!==t.nextString(6))throw new Error(\"Invalid EXIF header\");var e=t.mark(),r=t.nextUInt16();if(18761===r)t.setBigEndian(!1);else{if(19789!==r)throw new Error(\"Invalid TIFF header\");t.setBigEndian(!0)}if(42!==t.nextUInt16())throw new Error(\"Invalid TIFF data\");return e}(t)}catch(t){return!1}var s=r.openWithOffset(t.nextUInt32()),u=this.IFD0;a(r,s,function(t,r,a){switch(t){case 34853:n=r[0];break;case 34665:i=r[0];break;default:e(u,t,r,a)}});var l=s.nextUInt32();if(0!==l){var h=r.openWithOffset(l);a(r,h,e.bind(null,this.IFD1))}if(n){var f=r.openWithOffset(n);a(r,f,e.bind(null,this.GPSIFD))}if(i){var c=r.openWithOffset(i),d=this.InteropIFD;a(r,c,function(t,r,i){40965===t?o=r[0]:e(d,t,r,i)})}if(o){var p=r.openWithOffset(o);a(r,p,e.bind(null,this.InteropIFD))}return!0}}},{}],99:[function(t,e,r){e.exports={parseSections:function(t,e){var r,i;for(t.setBigEndian(!0);t.remainingLength()>0&&218!==i;){if(255!==t.nextUInt8())throw new Error(\"Invalid JPEG section offset\");r=(i=t.nextUInt8())>=208&&i<=217||218===i?0:t.nextUInt16()-2,e(i,t.branch(0,r)),t.skip(r)}},getSizeFromSOFSection:function(t){return t.skip(1),{height:t.nextUInt16(),width:t.nextUInt16()}},getSectionName:function(t){var e,r;switch(t){case 216:e=\"SOI\";break;case 196:e=\"DHT\";break;case 219:e=\"DQT\";break;case 221:e=\"DRI\";break;case 218:e=\"SOS\";break;case 254:e=\"COM\";break;case 217:e=\"EOI\";break;default:t>=224&&t<=239?(e=\"APP\",r=t-224):t>=192&&t<=207&&196!==t&&200!==t&&204!==t?(e=\"SOF\",r=t-192):t>=208&&t<=215&&(e=\"RST\",r=t-208)}var i={name:e};return\"number\"==typeof r&&(i.index=r),i}}},{}],100:[function(t,e,r){var i=t(\"./jpeg\"),n=t(\"./exif\"),a=t(\"./simplify\");function o(t,e,r,i,n,a,o){this.startMarker=t,this.tags=e,this.imageSize=r,this.thumbnailOffset=i,this.thumbnailLength=n,this.thumbnailType=a,this.app1Offset=o}function s(t){this.stream=t,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}o.prototype={hasThumbnail:function(t){return!(!this.thumbnailOffset||!this.thumbnailLength)&&(\"string\"!=typeof t||(\"image/jpeg\"===t.toLowerCase().trim()?6===this.thumbnailType:\"image/tiff\"===t.toLowerCase().trim()&&1===this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var t,e=this._getThumbnailStream();return i.parseSections(e,function(e,r){\"SOF\"===i.getSectionName(e).name&&(t=i.getSizeFromSOFSection(r))}),t}},s.prototype={enableBinaryFields:function(t){return this.flags.readBinaryTags=!!t,this},enablePointers:function(t){return this.flags.hidePointers=!t,this},enableTagNames:function(t){return this.flags.resolveTagNames=!!t,this},enableImageSize:function(t){return this.flags.imageSize=!!t,this},enableReturnTags:function(t){return this.flags.returnTags=!!t,this},enableSimpleValues:function(t){return this.flags.simplifyValues=!!t,this},parse:function(){var e,r,s,u,l,h,f,c,d,p=this.stream.mark(),m=p.openWithOffset(0),b=this.flags;return b.resolveTagNames&&(f=t(\"./exif-tags\")),b.resolveTagNames?(e={},c=function(t){return e[t.name]},d=function(t,r){e[t.name]=r}):(e=[],c=function(t){var r;for(r=0;r<e.length;++r)if(e[r].type===t.type&&e[r].section===t.section)return e.value},d=function(t,r){var i;for(i=0;i<e.length;++i)if(e[i].type===t.type&&e[i].section===t.section)return void(e.value=r)}),i.parseSections(m,function(t,o){var c=o.offsetFrom(p);225===t?n.parseTags(o,function(t,r,i,o){if(b.readBinaryTags||7!==o){if(513===r){if(s=i[0],b.hidePointers)return}else if(514===r){if(u=i[0],b.hidePointers)return}else if(259===r&&(l=i[0],b.hidePointers))return;if(b.returnTags)if(b.simplifyValues&&(i=a.simplifyValue(i,o)),b.resolveTagNames){var h=(t===n.GPSIFD?f.gps:f.exif)[r];h||(h=f.exif[r]),e.hasOwnProperty(h)||(e[h]=i)}else e.push({section:t,type:r,value:i})}})&&(h=c):b.imageSize&&\"SOF\"===i.getSectionName(t).name&&(r=i.getSizeFromSOFSection(o))}),b.simplifyValues&&(a.castDegreeValues(c,d),a.castDateValues(c,d)),new o(p,e,r,s,u,l,h)}},e.exports=s},{\"./exif\":98,\"./exif-tags\":97,\"./jpeg\":99,\"./simplify\":101}],101:[function(t,e,r){var i=t(\"./exif\"),n=t(\"./date\"),a=[{section:i.GPSIFD,type:2,name:\"GPSLatitude\",refType:1,refName:\"GPSLatitudeRef\",posVal:\"N\"},{section:i.GPSIFD,type:4,name:\"GPSLongitude\",refType:3,refName:\"GPSLongitudeRef\",posVal:\"E\"}],o=[{section:i.SubIFD,type:306,name:\"ModifyDate\"},{section:i.SubIFD,type:36867,name:\"DateTimeOriginal\"},{section:i.SubIFD,type:36868,name:\"CreateDate\"},{section:i.SubIFD,type:306,name:\"ModifyDate\"}];e.exports={castDegreeValues:function(t,e){a.forEach(function(r){var i=t(r);if(i){var n=t({section:r.section,type:r.refType,name:r.refName})===r.posVal?1:-1,a=(i[0]+i[1]/60+i[2]/3600)*n;e(r,a)}})},castDateValues:function(t,e){o.forEach(function(r){var i=t(r);if(i){var a=n.parseExifDate(i);void 0!==a&&e(r,a)}})},simplifyValue:function(t,e){return Array.isArray(t)&&1===(t=t.map(function(t){return 10===e||5===e?t[0]/t[1]:t})).length&&(t=t[0]),t}}},{\"./date\":95,\"./exif\":98}],102:[function(t,e,r){\"use strict\";const i=t=>[...t].map(t=>t.charCodeAt(0)),n=i(\"META-INF/mozilla.rsa\"),a=i(\"[Content_Types].xml\"),o=i(\"_rels/.rels\");e.exports=(t=>{const e=t instanceof Uint8Array?t:new Uint8Array(t);if(!(e&&e.length>1))return null;const r=(t,r)=>{r=Object.assign({offset:0},r);for(let i=0;i<t.length;i++)if(r.mask){if(t[i]!==(r.mask[i]&e[i+r.offset]))return!1}else if(t[i]!==e[i+r.offset])return!1;return!0},s=(t,e)=>r(i(t),e);if(r([255,216,255]))return{ext:\"jpg\",mime:\"image/jpeg\"};if(r([137,80,78,71,13,10,26,10]))return{ext:\"png\",mime:\"image/png\"};if(r([71,73,70]))return{ext:\"gif\",mime:\"image/gif\"};if(r([87,69,66,80],{offset:8}))return{ext:\"webp\",mime:\"image/webp\"};if(r([70,76,73,70]))return{ext:\"flif\",mime:\"image/flif\"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:\"cr2\",mime:\"image/x-canon-cr2\"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:\"tif\",mime:\"image/tiff\"};if(r([66,77]))return{ext:\"bmp\",mime:\"image/bmp\"};if(r([73,73,188]))return{ext:\"jxr\",mime:\"image/vnd.ms-photo\"};if(r([56,66,80,83]))return{ext:\"psd\",mime:\"image/vnd.adobe.photoshop\"};if(r([80,75,3,4])){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:\"epub\",mime:\"application/epub+zip\"};if(r(n,{offset:30}))return{ext:\"xpi\",mime:\"application/x-xpinstall\"};if(s(\"mimetypeapplication/vnd.oasis.opendocument.text\",{offset:30}))return{ext:\"odt\",mime:\"application/vnd.oasis.opendocument.text\"};if(s(\"mimetypeapplication/vnd.oasis.opendocument.spreadsheet\",{offset:30}))return{ext:\"ods\",mime:\"application/vnd.oasis.opendocument.spreadsheet\"};if(s(\"mimetypeapplication/vnd.oasis.opendocument.presentation\",{offset:30}))return{ext:\"odp\",mime:\"application/vnd.oasis.opendocument.presentation\"};const t=(t,e=0)=>t.findIndex((t,r,i)=>r>=e&&80===i[r]&&75===i[r+1]&&3===i[r+2]&&4===i[r+3]);let i=0,u=!1,l=null;do{const n=i+30;if(u||(u=r(a,{offset:n})||r(o,{offset:n})),l||(s(\"word/\",{offset:n})?l={ext:\"docx\",mime:\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"}:s(\"ppt/\",{offset:n})?l={ext:\"pptx\",mime:\"application/vnd.openxmlformats-officedocument.presentationml.presentation\"}:s(\"xl/\",{offset:n})&&(l={ext:\"xlsx\",mime:\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"})),u&&l)return l;i=t(e,n)}while(i>=0);if(l)return l}if(r([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:\"zip\",mime:\"application/zip\"};if(r([117,115,116,97,114],{offset:257}))return{ext:\"tar\",mime:\"application/x-tar\"};if(r([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:\"rar\",mime:\"application/x-rar-compressed\"};if(r([31,139,8]))return{ext:\"gz\",mime:\"application/gzip\"};if(r([66,90,104]))return{ext:\"bz2\",mime:\"application/x-bzip2\"};if(r([55,122,188,175,39,28]))return{ext:\"7z\",mime:\"application/x-7z-compressed\"};if(r([120,1]))return{ext:\"dmg\",mime:\"application/x-apple-diskimage\"};if(r([51,103,112,53])||r([0,0,0])&&r([102,116,121,112],{offset:4})&&(r([109,112,52,49],{offset:8})||r([109,112,52,50],{offset:8})||r([105,115,111,109],{offset:8})||r([105,115,111,50],{offset:8})||r([109,109,112,52],{offset:8})||r([77,52,86],{offset:8})||r([100,97,115,104],{offset:8})))return{ext:\"mp4\",mime:\"video/mp4\"};if(r([77,84,104,100]))return{ext:\"mid\",mime:\"audio/midi\"};if(r([26,69,223,163])){const t=e.subarray(4,4100),r=t.findIndex((t,e,r)=>66===r[e]&&130===r[e+1]);if(-1!==r){const e=r+3,i=r=>[...r].every((r,i)=>t[e+i]===r.charCodeAt(0));if(i(\"matroska\"))return{ext:\"mkv\",mime:\"video/x-matroska\"};if(i(\"webm\"))return{ext:\"webm\",mime:\"video/webm\"}}}if(r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:\"mov\",mime:\"video/quicktime\"};if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:\"avi\",mime:\"video/vnd.avi\"};if(r([87,65,86,69],{offset:8}))return{ext:\"wav\",mime:\"audio/vnd.wave\"};if(r([81,76,67,77],{offset:8}))return{ext:\"qcp\",mime:\"audio/qcelp\"}}if(r([48,38,178,117,142,102,207,17,166,217]))return{ext:\"wmv\",mime:\"video/x-ms-wmv\"};if(r([0,0,1,186])||r([0,0,1,179]))return{ext:\"mpg\",mime:\"video/mpeg\"};if(r([102,116,121,112,51,103],{offset:4}))return{ext:\"3gp\",mime:\"video/3gpp\"};for(let t=0;t<2&&t<e.length-16;t++){if(r([73,68,51],{offset:t})||r([255,226],{offset:t,mask:[255,226]}))return{ext:\"mp3\",mime:\"audio/mpeg\"};if(r([255,228],{offset:t,mask:[255,228]}))return{ext:\"mp2\",mime:\"audio/mpeg\"};if(r([255,248],{offset:t,mask:[255,252]}))return{ext:\"mp2\",mime:\"audio/mpeg\"};if(r([255,240],{offset:t,mask:[255,252]}))return{ext:\"mp4\",mime:\"audio/mpeg\"}}if(r([102,116,121,112,77,52,65],{offset:4})||r([77,52,65,32]))return{ext:\"m4a\",mime:\"audio/mp4\"};if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:\"opus\",mime:\"audio/opus\"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:\"ogv\",mime:\"video/ogg\"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:\"ogm\",mime:\"video/ogg\"}:r([127,70,76,65,67],{offset:28})?{ext:\"oga\",mime:\"audio/ogg\"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:\"spx\",mime:\"audio/ogg\"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:\"ogg\",mime:\"audio/ogg\"}:{ext:\"ogx\",mime:\"application/ogg\"};if(r([102,76,97,67]))return{ext:\"flac\",mime:\"audio/x-flac\"};if(r([77,65,67,32]))return{ext:\"ape\",mime:\"audio/ape\"};if(r([119,118,112,107]))return{ext:\"wv\",mime:\"audio/wavpack\"};if(r([35,33,65,77,82,10]))return{ext:\"amr\",mime:\"audio/amr\"};if(r([37,80,68,70]))return{ext:\"pdf\",mime:\"application/pdf\"};if(r([77,90]))return{ext:\"exe\",mime:\"application/x-msdownload\"};if((67===e[0]||70===e[0])&&r([87,83],{offset:1}))return{ext:\"swf\",mime:\"application/x-shockwave-flash\"};if(r([123,92,114,116,102]))return{ext:\"rtf\",mime:\"application/rtf\"};if(r([0,97,115,109]))return{ext:\"wasm\",mime:\"application/wasm\"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:\"woff\",mime:\"font/woff\"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:\"woff2\",mime:\"font/woff2\"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:\"eot\",mime:\"application/vnd.ms-fontobject\"};if(r([0,1,0,0,0]))return{ext:\"ttf\",mime:\"font/ttf\"};if(r([79,84,84,79,0]))return{ext:\"otf\",mime:\"font/otf\"};if(r([0,0,1,0]))return{ext:\"ico\",mime:\"image/x-icon\"};if(r([0,0,2,0]))return{ext:\"cur\",mime:\"image/x-icon\"};if(r([70,76,86,1]))return{ext:\"flv\",mime:\"video/x-flv\"};if(r([37,33]))return{ext:\"ps\",mime:\"application/postscript\"};if(r([253,55,122,88,90,0]))return{ext:\"xz\",mime:\"application/x-xz\"};if(r([83,81,76,105]))return{ext:\"sqlite\",mime:\"application/x-sqlite3\"};if(r([78,69,83,26]))return{ext:\"nes\",mime:\"application/x-nintendo-nes-rom\"};if(r([67,114,50,52]))return{ext:\"crx\",mime:\"application/x-google-chrome-extension\"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:\"cab\",mime:\"application/vnd.ms-cab-compressed\"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:\"deb\",mime:\"application/x-deb\"};if(r([33,60,97,114,99,104,62]))return{ext:\"ar\",mime:\"application/x-unix-archive\"};if(r([237,171,238,219]))return{ext:\"rpm\",mime:\"application/x-rpm\"};if(r([31,160])||r([31,157]))return{ext:\"Z\",mime:\"application/x-compress\"};if(r([76,90,73,80]))return{ext:\"lz\",mime:\"application/x-lzip\"};if(r([208,207,17,224,161,177,26,225]))return{ext:\"msi\",mime:\"application/x-msi\"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:\"mxf\",mime:\"application/mxf\"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:\"mts\",mime:\"video/mp2t\"};if(r([66,76,69,78,68,69,82]))return{ext:\"blend\",mime:\"application/x-blender\"};if(r([66,80,71,251]))return{ext:\"bpg\",mime:\"image/bpg\"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:\"jp2\",mime:\"image/jp2\"};if(r([106,112,120,32],{offset:20}))return{ext:\"jpx\",mime:\"image/jpx\"};if(r([106,112,109,32],{offset:20}))return{ext:\"jpm\",mime:\"image/jpm\"};if(r([109,106,112,50],{offset:20}))return{ext:\"mj2\",mime:\"image/mj2\"}}if(r([70,79,82,77,0]))return{ext:\"aif\",mime:\"audio/aiff\"};if(s(\"<?xml \"))return{ext:\"xml\",mime:\"application/xml\"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:\"mobi\",mime:\"application/x-mobipocket-ebook\"};if(r([102,116,121,112],{offset:4})){if(r([109,105,102,49],{offset:8}))return{ext:\"heic\",mime:\"image/heif\"};if(r([109,115,102,49],{offset:8}))return{ext:\"heic\",mime:\"image/heif-sequence\"};if(r([104,101,105,99],{offset:8})||r([104,101,105,120],{offset:8}))return{ext:\"heic\",mime:\"image/heic\"};if(r([104,101,118,99],{offset:8})||r([104,101,118,120],{offset:8}))return{ext:\"heic\",mime:\"image/heic-sequence\"}}return r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:\"ktx\",mime:\"image/ktx\"}:null})},{}],103:[function(t,e,r){\"use strict\";var i=t(\"is-callable\"),n=Object.prototype.toString,a=Object.prototype.hasOwnProperty;e.exports=function(t,e,r){if(!i(e))throw new TypeError(\"iterator must be a function\");var o;arguments.length>=3&&(o=r),\"[object Array]\"===n.call(t)?function(t,e,r){for(var i=0,n=t.length;i<n;i++)a.call(t,i)&&(null==r?e(t[i],i,t):e.call(r,t[i],i,t))}(t,e,o):\"string\"==typeof t?function(t,e,r){for(var i=0,n=t.length;i<n;i++)null==r?e(t.charAt(i),i,t):e.call(r,t.charAt(i),i,t)}(t,e,o):function(t,e,r){for(var i in t)a.call(t,i)&&(null==r?e(t[i],i,t):e.call(r,t[i],i,t))}(t,e,o)}},{\"is-callable\":124}],104:[function(t,e,r){\"use strict\";var i=Array.prototype.slice,n=Object.prototype.toString;e.exports=function(t){var e=this;if(\"function\"!=typeof e||\"[object Function]\"!==n.call(e))throw new TypeError(\"Function.prototype.bind called on incompatible \"+e);for(var r,a=i.call(arguments,1),o=Math.max(0,e.length-a.length),s=[],u=0;u<o;u++)s.push(\"$\"+u);if(r=Function(\"binder\",\"return function (\"+s.join(\",\")+\"){ return binder.apply(this,arguments); }\")(function(){if(this instanceof r){var n=e.apply(this,a.concat(i.call(arguments)));return Object(n)===n?n:this}return e.apply(t,a.concat(i.call(arguments)))}),e.prototype){var l=function(){};l.prototype=e.prototype,r.prototype=new l,l.prototype=null}return r}},{}],105:[function(t,e,r){\"use strict\";var i=t(\"./implementation\");e.exports=Function.prototype.bind||i},{\"./implementation\":104}],106:[function(t,e,r){\"use strict\";var i=SyntaxError,n=Function,a=TypeError,o=function(t){try{return n('\"use strict\"; return ('+t+\").constructor;\")()}catch(t){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},\"\")}catch(t){s=null}var u=function(){throw new a},l=s?function(){try{return arguments.callee,u}catch(t){try{return s(arguments,\"callee\").get}catch(t){return u}}}():u,h=t(\"has-symbols\")(),f=Object.getPrototypeOf||function(t){return t.__proto__},c={},d=\"undefined\"==typeof Uint8Array?void 0:f(Uint8Array),p={\"%AggregateError%\":\"undefined\"==typeof AggregateError?void 0:AggregateError,\"%Array%\":Array,\"%ArrayBuffer%\":\"undefined\"==typeof ArrayBuffer?void 0:ArrayBuffer,\"%ArrayIteratorPrototype%\":h?f([][Symbol.iterator]()):void 0,\"%AsyncFromSyncIteratorPrototype%\":void 0,\"%AsyncFunction%\":c,\"%AsyncGenerator%\":c,\"%AsyncGeneratorFunction%\":c,\"%AsyncIteratorPrototype%\":c,\"%Atomics%\":\"undefined\"==typeof Atomics?void 0:Atomics,\"%BigInt%\":\"undefined\"==typeof BigInt?void 0:BigInt,\"%Boolean%\":Boolean,\"%DataView%\":\"undefined\"==typeof DataView?void 0:DataView,\"%Date%\":Date,\"%decodeURI%\":decodeURI,\"%decodeURIComponent%\":decodeURIComponent,\"%encodeURI%\":encodeURI,\"%encodeURIComponent%\":encodeURIComponent,\"%Error%\":Error,\"%eval%\":eval,\"%EvalError%\":EvalError,\"%Float32Array%\":\"undefined\"==typeof Float32Array?void 0:Float32Array,\"%Float64Array%\":\"undefined\"==typeof Float64Array?void 0:Float64Array,\"%FinalizationRegistry%\":\"undefined\"==typeof FinalizationRegistry?void 0:FinalizationRegistry,\"%Function%\":n,\"%GeneratorFunction%\":c,\"%Int8Array%\":\"undefined\"==typeof Int8Array?void 0:Int8Array,\"%Int16Array%\":\"undefined\"==typeof Int16Array?void 0:Int16Array,\"%Int32Array%\":\"undefined\"==typeof Int32Array?void 0:Int32Array,\"%isFinite%\":isFinite,\"%isNaN%\":isNaN,\"%IteratorPrototype%\":h?f(f([][Symbol.iterator]())):void 0,\"%JSON%\":\"object\"==typeof JSON?JSON:void 0,\"%Map%\":\"undefined\"==typeof Map?void 0:Map,\"%MapIteratorPrototype%\":\"undefined\"!=typeof Map&&h?f((new Map)[Symbol.iterator]()):void 0,\"%Math%\":Math,\"%Number%\":Number,\"%Object%\":Object,\"%parseFloat%\":parseFloat,\"%parseInt%\":parseInt,\"%Promise%\":\"undefined\"==typeof Promise?void 0:Promise,\"%Proxy%\":\"undefined\"==typeof Proxy?void 0:Proxy,\"%RangeError%\":RangeError,\"%ReferenceError%\":ReferenceError,\"%Reflect%\":\"undefined\"==typeof Reflect?void 0:Reflect,\"%RegExp%\":RegExp,\"%Set%\":\"undefined\"==typeof Set?void 0:Set,\"%SetIteratorPrototype%\":\"undefined\"!=typeof Set&&h?f((new Set)[Symbol.iterator]()):void 0,\"%SharedArrayBuffer%\":\"undefined\"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,\"%String%\":String,\"%StringIteratorPrototype%\":h?f(\"\"[Symbol.iterator]()):void 0,\"%Symbol%\":h?Symbol:void 0,\"%SyntaxError%\":i,\"%ThrowTypeError%\":l,\"%TypedArray%\":d,\"%TypeError%\":a,\"%Uint8Array%\":\"undefined\"==typeof Uint8Array?void 0:Uint8Array,\"%Uint8ClampedArray%\":\"undefined\"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,\"%Uint16Array%\":\"undefined\"==typeof Uint16Array?void 0:Uint16Array,\"%Uint32Array%\":\"undefined\"==typeof Uint32Array?void 0:Uint32Array,\"%URIError%\":URIError,\"%WeakMap%\":\"undefined\"==typeof WeakMap?void 0:WeakMap,\"%WeakRef%\":\"undefined\"==typeof WeakRef?void 0:WeakRef,\"%WeakSet%\":\"undefined\"==typeof WeakSet?void 0:WeakSet},m={\"%ArrayBufferPrototype%\":[\"ArrayBuffer\",\"prototype\"],\"%ArrayPrototype%\":[\"Array\",\"prototype\"],\"%ArrayProto_entries%\":[\"Array\",\"prototype\",\"entries\"],\"%ArrayProto_forEach%\":[\"Array\",\"prototype\",\"forEach\"],\"%ArrayProto_keys%\":[\"Array\",\"prototype\",\"keys\"],\"%ArrayProto_values%\":[\"Array\",\"prototype\",\"values\"],\"%AsyncFunctionPrototype%\":[\"AsyncFunction\",\"prototype\"],\"%AsyncGenerator%\":[\"AsyncGeneratorFunction\",\"prototype\"],\"%AsyncGeneratorPrototype%\":[\"AsyncGeneratorFunction\",\"prototype\",\"prototype\"],\"%BooleanPrototype%\":[\"Boolean\",\"prototype\"],\"%DataViewPrototype%\":[\"DataView\",\"prototype\"],\"%DatePrototype%\":[\"Date\",\"prototype\"],\"%ErrorPrototype%\":[\"Error\",\"prototype\"],\"%EvalErrorPrototype%\":[\"EvalError\",\"prototype\"],\"%Float32ArrayPrototype%\":[\"Float32Array\",\"prototype\"],\"%Float64ArrayPrototype%\":[\"Float64Array\",\"prototype\"],\"%FunctionPrototype%\":[\"Function\",\"prototype\"],\"%Generator%\":[\"GeneratorFunction\",\"prototype\"],\"%GeneratorPrototype%\":[\"GeneratorFunction\",\"prototype\",\"prototype\"],\"%Int8ArrayPrototype%\":[\"Int8Array\",\"prototype\"],\"%Int16ArrayPrototype%\":[\"Int16Array\",\"prototype\"],\"%Int32ArrayPrototype%\":[\"Int32Array\",\"prototype\"],\"%JSONParse%\":[\"JSON\",\"parse\"],\"%JSONStringify%\":[\"JSON\",\"stringify\"],\"%MapPrototype%\":[\"Map\",\"prototype\"],\"%NumberPrototype%\":[\"Number\",\"prototype\"],\"%ObjectPrototype%\":[\"Object\",\"prototype\"],\"%ObjProto_toString%\":[\"Object\",\"prototype\",\"toString\"],\"%ObjProto_valueOf%\":[\"Object\",\"prototype\",\"valueOf\"],\"%PromisePrototype%\":[\"Promise\",\"prototype\"],\"%PromiseProto_then%\":[\"Promise\",\"prototype\",\"then\"],\"%Promise_all%\":[\"Promise\",\"all\"],\"%Promise_reject%\":[\"Promise\",\"reject\"],\"%Promise_resolve%\":[\"Promise\",\"resolve\"],\"%RangeErrorPrototype%\":[\"RangeError\",\"prototype\"],\"%ReferenceErrorPrototype%\":[\"ReferenceError\",\"prototype\"],\"%RegExpPrototype%\":[\"RegExp\",\"prototype\"],\"%SetPrototype%\":[\"Set\",\"prototype\"],\"%SharedArrayBufferPrototype%\":[\"SharedArrayBuffer\",\"prototype\"],\"%StringPrototype%\":[\"String\",\"prototype\"],\"%SymbolPrototype%\":[\"Symbol\",\"prototype\"],\"%SyntaxErrorPrototype%\":[\"SyntaxError\",\"prototype\"],\"%TypedArrayPrototype%\":[\"TypedArray\",\"prototype\"],\"%TypeErrorPrototype%\":[\"TypeError\",\"prototype\"],\"%Uint8ArrayPrototype%\":[\"Uint8Array\",\"prototype\"],\"%Uint8ClampedArrayPrototype%\":[\"Uint8ClampedArray\",\"prototype\"],\"%Uint16ArrayPrototype%\":[\"Uint16Array\",\"prototype\"],\"%Uint32ArrayPrototype%\":[\"Uint32Array\",\"prototype\"],\"%URIErrorPrototype%\":[\"URIError\",\"prototype\"],\"%WeakMapPrototype%\":[\"WeakMap\",\"prototype\"],\"%WeakSetPrototype%\":[\"WeakSet\",\"prototype\"]},b=t(\"function-bind\"),g=t(\"has\"),_=b.call(Function.call,Array.prototype.concat),y=b.call(Function.apply,Array.prototype.splice),v=b.call(Function.call,String.prototype.replace),w=b.call(Function.call,String.prototype.slice),E=b.call(Function.call,RegExp.prototype.exec),x=/[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g,I=/\\\\(\\\\)?/g,S=function(t,e){var r,n=t;if(g(m,n)&&(n=\"%\"+(r=m[n])[0]+\"%\"),g(p,n)){var s=p[n];if(s===c&&(s=function t(e){var r;if(\"%AsyncFunction%\"===e)r=o(\"async function () {}\");else if(\"%GeneratorFunction%\"===e)r=o(\"function* () {}\");else if(\"%AsyncGeneratorFunction%\"===e)r=o(\"async function* () {}\");else if(\"%AsyncGenerator%\"===e){var i=t(\"%AsyncGeneratorFunction%\");i&&(r=i.prototype)}else if(\"%AsyncIteratorPrototype%\"===e){var n=t(\"%AsyncGenerator%\");n&&(r=f(n.prototype))}return p[e]=r,r}(n)),void 0===s&&!e)throw new a(\"intrinsic \"+t+\" exists, but is not available. Please file an issue!\");return{alias:r,name:n,value:s}}throw new i(\"intrinsic \"+t+\" does not exist!\")};e.exports=function(t,e){if(\"string\"!=typeof t||0===t.length)throw new a(\"intrinsic name must be a non-empty string\");if(arguments.length>1&&\"boolean\"!=typeof e)throw new a('\"allowMissing\" argument must be a boolean');if(null===E(/^%?[^%]*%?$/g,t))throw new i(\"`%` may not be present anywhere but at the beginning and end of the intrinsic name\");var r=function(t){var e=w(t,0,1),r=w(t,-1);if(\"%\"===e&&\"%\"!==r)throw new i(\"invalid intrinsic syntax, expected closing `%`\");if(\"%\"===r&&\"%\"!==e)throw new i(\"invalid intrinsic syntax, expected opening `%`\");var n=[];return v(t,x,function(t,e,r,i){n[n.length]=r?v(i,I,\"$1\"):e||t}),n}(t),n=r.length>0?r[0]:\"\",o=S(\"%\"+n+\"%\",e),u=o.name,l=o.value,h=!1,f=o.alias;f&&(n=f[0],y(r,_([0,1],f)));for(var c=1,d=!0;c<r.length;c+=1){var m=r[c],b=w(m,0,1),A=w(m,-1);if(('\"'===b||\"'\"===b||\"`\"===b||'\"'===A||\"'\"===A||\"`\"===A)&&b!==A)throw new i(\"property names with quotes must have matching quotes\");if(\"constructor\"!==m&&d||(h=!0),g(p,u=\"%\"+(n+=\".\"+m)+\"%\"))l=p[u];else if(null!=l){if(!(m in l)){if(!e)throw new a(\"base intrinsic for \"+t+\" exists, but the property is not available.\");return}if(s&&c+1>=r.length){var M=s(l,m);l=(d=!!M)&&\"get\"in M&&!(\"originalValue\"in M.get)?M.get:l[m]}else d=g(l,m),l=l[m];d&&!h&&(p[u]=l)}}return l}},{\"function-bind\":105,has:117,\"has-symbols\":114}],107:[function(t,e,r){(function(t){(function(){\"use strict\";class r{constructor(...e){if(0===e.length)throw new Error(\"constructor requires parameters\");const i=e[0];if(null!==i&&\"object\"==typeof i)if(i instanceof r){const e=i.bitmap;this.bitmap={width:e.width,height:e.height,data:new t(e.width*e.height*4)},e.data.copy(this.bitmap.data)}else{if(!(i.width&&i.height&&i.data))throw new Error(\"unrecognized constructor parameters\");this.bitmap=i}else{if(\"number\"!=typeof i||\"number\"!=typeof e[1])throw new Error(\"unrecognized constructor parameters\");{const r=i,n=e[1],a=e[2];this.bitmap={width:r,height:n},t.isBuffer(a)?this.bitmap.data=a:(this.bitmap.data=new t(r*n*4),\"number\"==typeof a&&this.fillRGBA(a))}}}blit(t,e,r,i,n,a,o){if(i+a>this.bitmap.width)throw new Error(\"copy exceeds width of source bitmap\");if(e+a>t.bitmap.width)throw new Error(\"copy exceeds width of target bitmap\");if(n+o>this.bitmap.height)throw new Error(\"copy exceeds height of source bitmap\");if(r+o>t.bitmap.height)throw new Erro(\"copy exceeds height of target bitmap\");const s=this.bitmap.data,u=t.bitmap.data,l=4*this.bitmap.width,h=4*t.bitmap.width,f=4*a;let c=n*l+4*i,d=r*h+4*e;for(;--o>=0;)s.copy(u,d,c,c+f),c+=l,d+=h;return this}fillRGBA(t){const e=this.bitmap.data,r=4*this.bitmap.height;let i=0;for(;i<r;)e.writeUInt32BE(t,i),i+=4;for(;i<e.length;)e.copy(e,i,0,r),i+=r;return this}getRGBA(t,e){const r=4*(e*this.bitmap.width+t);return this.bitmap.data.readUInt32BE(r)}getRGBASet(){const t=new Set,e=this.bitmap.data;for(let r=0;r<e.length;r+=4)t.add(e.readUInt32BE(r,!0));return t}greyscale(){const t=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(e,r,i)=>{const n=Math.round(.299*t[i]+.587*t[i+1]+.114*t[i+2]);t[i]=n,t[i+1]=n,t[i+2]=n}),this}reframe(t,e,i,n,a){const o=t<0?0:t,s=e<0?0:e,u=i+o>this.bitmap.width?this.bitmap.width-o:i,l=n+s>this.bitmap.height?this.bitmap.height-s:n,h=t<0?-t:0,f=e<0?-e:0;let c;if(void 0===a){if(o!==t||s!=e||u!==i||l!==n)throw new GifError(\"fillRGBA required for this reframing\");c=new r(i,n)}else c=new r(i,n,a);return this.blit(c,h,f,o,s,u,l),this.bitmap=c.bitmap,this}scale(e){if(1===e)return;if(!Number.isInteger(e)||e<1)throw new Error(\"the scale must be an integer >= 1\");const r=this.bitmap.width,i=this.bitmap.height,n=r*e*4,a=this.bitmap.data,o=new t(i*n*e);let s,u=0,l=0;for(let t=0;t<i;++t){s=l;for(let t=0;t<r;++t){const t=a.readUInt32BE(u,!0);for(let r=0;r<e;++r)o.writeUInt32BE(t,l),l+=4;u+=4}for(let t=1;t<e;++t)o.copy(o,l,s,l),l+=n,s+=n}return this.bitmap={width:r*e,height:i*e,data:o},this}scanAllCoords(t){const e=this.bitmap.width,r=this.bitmap.data.length;let i=0,n=0;for(let a=0;a<r;a+=4)t(i,n,a),++i===e&&(i=0,++n)}scanAllIndexes(t){const e=this.bitmap.data.length;for(let r=0;r<e;r+=4)t(r)}}e.exports=r}).call(this)}).call(this,t(\"buffer\").Buffer)},{buffer:87}],108:[function(t,e,r){\"use strict\";class i{constructor(t,e,r){this.width=r.width,this.height=r.height,this.loops=r.loops,this.usesTransparency=r.usesTransparency,this.colorScope=r.colorScope,this.frames=e,this.buffer=t}}i.GlobalColorsPreferred=0,i.GlobalColorsOnly=1,i.LocalColorsOnly=2;r.Gif=i,r.GifError=class extends Error{constructor(t){super(t),t instanceof Error&&(this.stack=\"Gif\"+t.stack)}}},{}],109:[function(t,e,r){(function(e){(function(){\"use strict\";const i=t(\"omggif\"),{Gif:n,GifError:a}=t(\"./gif\");function o(){const e=t(\"./gifutil\");return o=function(){return e},e}const{GifFrame:s}=t(\"./gifframe\"),u=200,l=100;function h(t,e){const r=t.indexOf(e);return-1===r?null:r}function f(t,e){for(var r,i=0,n=t.length-1;i<=n;)if(t[r=Math.floor((i+n)/2)]>e)n=r-1;else{if(!(t[r]<e))return r;i=r+1}return null}function c(t){const e=t.colors;t.usesTransparency&&e.push(0);const r=e.length;let i=2;for(;r>i;)i<<=1;e.length=i,e.fill(0,r)}function d(t,e){let r=t.bitmap.width*t.bitmap.height;return r=Math.ceil(r*e/8),r+=Math.ceil(r/255),l+r+768}function p(t){let e=t.indexCount,r=0;for(--e;e;)++r,e>>=1;return r>0?r:1}function m(t,r,i,n,o){if(i.interlaced)throw new a(\"writing interlaced GIFs is not supported\");const s=function(t,r,i){const n=i.colors,o=n.length<=8?h:f,s=r.bitmap.data,u=new e(s.length/4);let l=n.length,c=0,d=0;for(;c<s.length;){if(0!==s[c+3]){const t=s.readUInt32BE(c,!0)>>8&16777215;u[d]=o(n,t)}else u[d]=l;c+=4,++d}if(i.usesTransparency){if(256===l)throw new a(`Frame ${t} already has 256 colors`+\"and so can't use transparency\")}else l=null;return{buffer:u,transparentIndex:l}}(r,i,n),u={delay:i.delayCentisecs,disposal:i.disposalMethod,transparent:s.transparentIndex};o&&(c(n),u.palette=n.colors);try{let r,n=t.getOutputBuffer(),o=t.getOutputBufferPosition(),l=!0;for(;l;)if(r=t.addFrame(i.xOffset,i.yOffset,i.bitmap.width,i.bitmap.height,s.buffer,u),l=!1,r>=n.length-1){const r=new e(1.5*n.length);n.copy(r),t.setOutputBuffer(r),t.setOutputBufferPosition(o),n=r,l=!0}return n}catch(t){throw new a(t)}}r.GifCodec=class{constructor(t={}){this._transparentRGB=null,\"number\"==typeof t.transparentRGB&&0!==t.transparentRGB&&(this._transparentRGBA=256*t.transparentRGB),this._testInitialBufferSize=0}decodeGif(t){try{let e;try{e=new i.GifReader(t)}catch(t){throw new a(t)}const r=e.numFrames(),o=[],s={width:e.width,height:e.height,loops:e.loopCount(),usesTransparency:!1};for(let t=0;t<r;++t){const r=this._decodeFrame(e,t,s.usesTransparency);o.push(r.frame),r.usesTransparency&&(s.usesTransparency=!0)}return Promise.resolve(new n(t,o,s))}catch(t){return Promise.reject(t)}}encodeGif(t,e={}){try{if(null===t||0===t.length)throw new a(\"there are no frames\");const r=o().getMaxDimensions(t);return(e=Object.assign({},e)).width=r.maxWidth,e.height=r.maxHeight,e.loops=e.loops||0,e.colorScope=e.colorScope||n.GlobalColorsPreferred,Promise.resolve(this._encodeGif(t,e))}catch(t){return Promise.reject(t)}}_decodeFrame(t,r,i){let n,o;try{if(n=t.frameInfo(r),o=new e(t.width*t.height*4),t.decodeAndBlitFrameRGBA(r,o),n.width!==t.width||n.height!==t.height){if(n.y&&(o=o.slice(n.y*t.width*4)),t.width>n.width)for(let e=0;e<n.height;++e)o.copy(o,e*n.width*4,4*(n.x+e*t.width),4*(n.x+e*t.width)+4*n.width);o=o.slice(0,n.width*n.height*4)}}catch(t){throw new a(t)}let u=!1;if(null===this._transparentRGBA){if(!i)for(let t=3;t<o.length;t+=4)0===o[t]&&(u=!0,t=o.length)}else for(let t=3;t<o.length;t+=4)0===o[t]&&(o.writeUInt32BE(this._transparentRGBA,t-3),u=!0);return{frame:new s(n.width,n.height,o,{xOffset:n.x,yOffset:n.y,disposalMethod:n.disposal,interlaced:n.interlaced,delayCentisecs:n.delay}),usesTransparency:u}}_encodeGif(t,r){let s;if(r.colorScope===n.LocalColorsOnly)s=o().getColorInfo(t,0);else if(!(s=o().getColorInfo(t,256)).colors){if(r.colorScope===n.GlobalColorsOnly)throw new a(\"Too many color indexes for global color table\");r.colorScope=n.LocalColorsOnly}r.usesTransparency=s.usesTransparency;const u=s.palettes;return r.colorScope===n.LocalColorsOnly?function(t,r,o,s){const u={loop:r.loops};let l,h=new e(o);try{l=new i.GifWriter(h,r.width,r.height,u)}catch(t){throw new a(t)}for(let e=0;e<t.length;++e)h=m(l,e,t[e],s[e],!0);return new n(h.slice(0,l.end()),t,r)}(t,r,2e3,u):function(t,r,o,s){const u={colors:s.colors.slice(),usesTransparency:s.usesTransparency};c(u);const l={palette:u.colors,loop:r.loops};let h,f=new e(o);try{h=new i.GifWriter(f,r.width,r.height,l)}catch(t){throw new a(t)}for(let e=0;e<t.length;++e)f=m(h,e,t[e],s,!1);return new n(f.slice(0,h.end()),t,r)}(t,r,2e3,s)}_getSizeEstimateGlobal(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=u+768;const i=p(t);return e.forEach(t=>{r+=d(t,i)}),r}_getSizeEstimateLocal(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=u;for(let i=0;i<e.length;++i){const n=p(t[i]);r+=d(e[i],n)}return r}}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./gif\":108,\"./gifframe\":110,\"./gifutil\":111,buffer:87,omggif:137}],110:[function(t,e,r){\"use strict\";const i=t(\"./bitmapimage\"),{GifError:n}=t(\"./gif\");class a extends i{constructor(...t){if(super(...t),t[0]instanceof a){const e=t[0];this.xOffset=e.xOffset,this.yOffset=e.yOffset,this.disposalMethod=e.disposalMethod,this.delayCentisecs=e.delayCentisecs,this.interlaced=e.interlaced}else{const e=t[t.length-1];let r={};\"object\"!=typeof e||e instanceof i||(r=e),this.xOffset=r.xOffset||0,this.yOffset=r.yOffset||0,this.disposalMethod=void 0!==r.disposalMethod?r.disposalMethod:a.DisposeToBackgroundColor,this.delayCentisecs=r.delayCentisecs||8,this.interlaced=r.interlaced||!1}}getPalette(){const t=new Set,e=this.bitmap.data;let r=0,i=!1;for(;r<e.length;){if(0===e[r+3])i=!0;else{const i=e.readUInt32BE(r,!0)>>8&16777215;t.add(i)}r+=4}const n=new Array(t.size),a=t.values();for(r=0;r<n.length;++r)n[r]=a.next().value;n.sort((t,e)=>t-e);let o=n.length;return i&&++o,{colors:n,usesTransparency:i,indexCount:o}}}a.DisposeToAnything=0,a.DisposeNothing=1,a.DisposeToBackgroundColor=2,a.DisposeToPrevious=3,r.GifFrame=a},{\"./bitmapimage\":107,\"./gif\":108}],111:[function(t,e,r){(function(e){(function(){\"use strict\";const i=t(\"fs\"),n=t(\"image-q\"),a=t(\"./bitmapimage\"),{GifFrame:o}=t(\"./gifframe\"),{GifError:s}=t(\"./gif\"),{GifCodec:u}=t(\"./gifcodec\"),l=[\".jpg\",\".jpeg\",\".png\",\".bmp\"],h=new u;function f(t,e,r,i,a){const o=Array.isArray(t)?t:[t];if(a){if([\"FloydSteinberg\",\"FalseFloydSteinberg\",\"Stucki\",\"Atkinson\",\"Jarvis\",\"Burkes\",\"Sierra\",\"TwoSierra\",\"SierraLite\"].indexOf(a.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${a.ditherAlgorithm}'`);void 0===a.serpentine&&(a.serpentine=!0),void 0===a.minimumColorDistanceToDither&&(a.minimumColorDistanceToDither=0),void 0===a.calculateErrorLikeGIMP&&(a.calculateErrorLikeGIMP=!1)}const s=new n.distance.Euclidean,u=new n.palette[e](s,r,i);let l;l=a?new n.image.ErrorDiffusionArray(s,n.image.ErrorDiffusionArrayKernel[a.ditherAlgorithm],a.serpentine,a.minimumColorDistanceToDither,a.calculateErrorLikeGIMP):new n.image.NearestColor(s);const h=[];o.forEach(t=>{const e=t.bitmap.data,r=new ArrayBuffer(e.length),i=new Uint32Array(r);for(let t=0,r=0;t<e.length;t+=4,++r)i[r]=e.readUInt32LE(t,!0);const a=n.utils.PointContainer.fromUint32Array(i,t.bitmap.width,t.bitmap.height);u.sample(a),h.push(a)});const f=u.quantizeSync();for(let t=0;t<o.length;++t){const e=o[t].bitmap.data,r=l.quantizeSync(h[t],f).toUint32Array();for(let t=0,i=0;t<e.length;t+=4,++i)e.writeUInt32LE(r[i],t)}}r.cloneFrames=function(t){let e=[];return t.forEach(t=>{e.push(new o(t))}),e},r.getColorInfo=function(t,e){let r=!1;const i=[];for(let e=0;e<t.length;++e){let n=t[e].getPalette();if(n.usesTransparency&&(r=!0),n.indexCount>256)throw new s(`Frame ${e} uses more than 256 color indexes`);i.push(n)}if(0===e)return{usesTransparency:r,palettes:i};const n=new Set;i.forEach(t=>{t.colors.forEach(t=>{n.add(t)})});let a=n.size;if(r&&++a,e&&a>e)return{usesTransparency:r,palettes:i};const o=new Array(n.size),u=n.values();for(let t=0;t<o.length;++t)o[t]=u.next().value;return o.sort((t,e)=>t-e),{colors:o,indexCount:a,usesTransparency:r,palettes:i}},r.copyAsJimp=function(t,e){return r.shareAsJimp(t,new a(e))},r.getMaxDimensions=function(t){let e=0,r=0;return t.forEach(t=>{const i=t.xOffset+t.bitmap.width;i>e&&(e=i);const n=t.yOffset+t.bitmap.height;n>r&&(r=n)}),{maxWidth:e,maxHeight:r}},r.quantizeDekker=function(t,e,r){f(t,\"NeuQuantFloat\",e=e||256,0,r)},r.quantizeSorokin=function(t,e,r,i){let n;switch(e=e||256,r=r||\"min-pop\"){case\"min-pop\":n=2;break;case\"top-pop\":n=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${r}'`)}f(t,\"RGBQuant\",e,n,i)},r.quantizeWu=function(t,e,r,i){if(e=e||256,(r=r||5)<1||r>8)throw new Error(\"Invalid quantization quality\");f(t,\"WuQuant\",e,r,i)},r.read=function(t,r){return r=r||h,e.isBuffer(t)?r.decodeGif(t):(n=t,new Promise((t,e)=>{i.readFile(n,(r,i)=>r?e(r):t(i))})).then(t=>r.decodeGif(t));var n},r.shareAsJimp=function(t,e){const r=new t(e.bitmap.width,e.bitmap.height,0);return r.bitmap.data=e.bitmap.data,r},r.write=function(t,e,r,n){n=n||h;const a=t.match(/\\.[a-zA-Z]+$/);if(null!==a&&l.includes(a[0].toLowerCase()))throw new Error(`GIF '${t}' has an unexpected suffix`);return n.encodeGif(e,r).then(e=>(function(t,e){return new Promise((r,n)=>{i.writeFile(t,e,t=>t?n(t):r())})})(t,e.buffer).then(()=>e))}}).call(this)}).call(this,{isBuffer:t(\"../../is-buffer/index.js\")})},{\"../../is-buffer/index.js\":123,\"./bitmapimage\":107,\"./gif\":108,\"./gifcodec\":109,\"./gifframe\":110,fs:85,\"image-q\":120}],112:[function(t,e,r){\"use strict\";const i=t(\"./bitmapimage\"),{Gif:n,GifError:a}=t(\"./gif\"),{GifCodec:o}=t(\"./gifcodec\"),{GifFrame:s}=t(\"./gifframe\"),u=t(\"./gifutil\");e.exports={BitmapImage:i,Gif:n,GifCodec:o,GifFrame:s,GifUtil:u,GifError:a}},{\"./bitmapimage\":107,\"./gif\":108,\"./gifcodec\":109,\"./gifframe\":110,\"./gifutil\":111}],113:[function(t,e,r){(function(t){(function(){var r;r=\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:{},e.exports=r}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],114:[function(t,e,r){\"use strict\";var i=\"undefined\"!=typeof Symbol&&Symbol,n=t(\"./shams\");e.exports=function(){return\"function\"==typeof i&&(\"function\"==typeof Symbol&&(\"symbol\"==typeof i(\"foo\")&&(\"symbol\"==typeof Symbol(\"bar\")&&n())))}},{\"./shams\":115}],115:[function(t,e,r){\"use strict\";e.exports=function(){if(\"function\"!=typeof Symbol||\"function\"!=typeof Object.getOwnPropertySymbols)return!1;if(\"symbol\"==typeof Symbol.iterator)return!0;var t={},e=Symbol(\"test\"),r=Object(e);if(\"string\"==typeof e)return!1;if(\"[object Symbol]\"!==Object.prototype.toString.call(e))return!1;if(\"[object Symbol]\"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if(\"function\"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if(\"function\"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(\"function\"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(t,e);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},{}],116:[function(t,e,r){\"use strict\";var i=t(\"has-symbols/shams\");e.exports=function(){return i()&&!!Symbol.toStringTag}},{\"has-symbols/shams\":115}],117:[function(t,e,r){\"use strict\";var i=t(\"function-bind\");e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},{\"function-bind\":105}],118:[function(t,e,r){var i=t(\"http\"),n=t(\"url\"),a=e.exports;for(var o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);function s(t){if(\"string\"==typeof t&&(t=n.parse(t)),t.protocol||(t.protocol=\"https:\"),\"https:\"!==t.protocol)throw new Error('Protocol \"'+t.protocol+'\" not supported. Expected \"https:\"');return t}a.request=function(t,e){return t=s(t),i.request.call(this,t,e)},a.get=function(t,e){return t=s(t),i.get.call(this,t,e)}},{http:206,url:229}],119:[function(t,e,r){r.read=function(t,e,r,i,n){var a,o,s=8*n-i-1,u=(1<<s)-1,l=u>>1,h=-7,f=r?n-1:0,c=r?-1:1,d=t[e+f];for(f+=c,a=d&(1<<-h)-1,d>>=-h,h+=s;h>0;a=256*a+t[e+f],f+=c,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=i;h>0;o=256*o+t[e+f],f+=c,h-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),a-=l}return(d?-1:1)*o*Math.pow(2,a-i)},r.write=function(t,e,r,i,n,a){var o,s,u,l=8*a-n-1,h=(1<<l)-1,f=h>>1,c=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+f>=1?c/u:c*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=h?(s=0,o=h):o+f>=1?(s=(e*u-1)*Math.pow(2,n),o+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,n),o=0));n>=8;t[r+d]=255&s,d+=p,s/=256,n-=8);for(o=o<<n|s,l+=n;l>0;t[r+d]=255&o,d+=p,o/=256,l-=8);t[r+d-p]|=128*m}},{}],120:[function(t,e,r){(function(t,r){(function(){var i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s=(t,e)=>{for(var r in e)i(t,r,{get:e[r],enumerable:!0})},u=(t=>(e,r)=>t&&t.get(e)||(r=((t,e,r,s)=>{if(e&&\"object\"==typeof e||\"function\"==typeof e)for(let u of a(e))o.call(t,u)||!r&&\"default\"===u||i(t,u,{get:()=>e[u],enumerable:!(s=n(e,u))||s.enumerable});return t})((t=>i(t,\"__esModule\",{value:!0}))({}),e,1),t&&t.set(e,r),r))(\"undefined\"!=typeof WeakMap?new WeakMap:0),l=(t,e,r)=>(((t,e,r)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r)(t,\"symbol\"!=typeof e?e+\"\":e,r),r),h={};s(h,{applyPalette:()=>Kt,applyPaletteSync:()=>Yt,buildPalette:()=>Vt,buildPaletteSync:()=>Zt,constants:()=>f,conversion:()=>b,distance:()=>F,image:()=>Rt,palette:()=>it,quality:()=>Ft,utils:()=>lt});var f={};s(f,{bt709:()=>c});var c={};s(c,{Y:()=>d,x:()=>p,y:()=>m});var d=(t=>(t[t.RED=.2126]=\"RED\",t[t.GREEN=.7152]=\"GREEN\",t[t.BLUE=.0722]=\"BLUE\",t[t.WHITE=1]=\"WHITE\",t))(d||{}),p=(t=>(t[t.RED=.64]=\"RED\",t[t.GREEN=.3]=\"GREEN\",t[t.BLUE=.15]=\"BLUE\",t[t.WHITE=.3127]=\"WHITE\",t))(p||{}),m=(t=>(t[t.RED=.33]=\"RED\",t[t.GREEN=.6]=\"GREEN\",t[t.BLUE=.06]=\"BLUE\",t[t.WHITE=.329]=\"WHITE\",t))(m||{}),b={};function g(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}function _(t,e,r){return{x:.4124*(t=g(t/255))+.3576*(e=g(e/255))+.1805*(r=g(r/255)),y:.2126*t+.7152*e+.0722*r,z:.0193*t+.1192*e+.9505*r}}s(b,{lab2rgb:()=>(function(t,e,r){const i=D(t,e,r);return j(i.x,i.y,i.z)}),lab2xyz:()=>D,rgb2hsl:()=>A,rgb2lab:()=>R,rgb2xyz:()=>_,xyz2lab:()=>P,xyz2rgb:()=>j});var y={};function v(t){return t*(Math.PI/180)}function w(t,e,r){let i=t;return i<e&&(i=e),i<r&&(i=r),i}function E(t,e,r){let i=t;return i>e&&(i=e),i>r&&(i=r),i}function x(t){return(t=Math.round(t))>255?t=255:t<0&&(t=0),t}function I(t){return t>255?t=255:t<0&&(t=0),t}function S(t,e){const r=typeof t[0];let i;if(\"number\"===r||\"string\"===r){const r=Object.create(null);for(let e=0,i=t.length;e<i;e++){const i=t[e];r[i]||0===r[i]||(r[i]=e)}i=t.sort((t,i)=>e(t,i)||r[t]-r[i])}else{const r=t.slice(0);i=t.sort((t,i)=>e(t,i)||r.indexOf(t)-r.indexOf(i))}return i}function A(t,e,r){const i=E(t,e,r),n=w(t,e,r),a=n-i,o=(i+n)/510;let s=0;o>0&&o<1&&(s=a/(o<.5?n+i:510-n-i));let u=0;return a>0&&(u=n===t?(e-r)/a:n===e?2+(r-t)/a:4+(t-e)/a,(u*=60)<0&&(u+=360)),{h:u,s:s,l:o}}s(y,{degrees2radians:()=>v,inRange0to255:()=>I,inRange0to255Rounded:()=>x,intInRange:()=>(function(t,e,r){t>r&&(t=r);t<e&&(t=e);return 0|t}),max3:()=>w,min3:()=>E,stableSort:()=>S});var M=.95047,C=1,T=1.08883;function k(t){return t>.008856?t**(1/3):7.787*t+16/116}function P(t,e,r){if(t=k(t/M),e=k(e/C),r=k(r/T),116*e-16<0)throw new Error(\"xxx\");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-r)}}function R(t,e,r){const i=_(t,e,r);return P(i.x,i.y,i.z)}var L=.95047,O=1,B=1.08883;function N(t){return t>.206893034?t**3:(t-16/116)/7.787}function D(t,e,r){const i=(t+16)/116,n=i-r/200;return{x:L*N(e/500+i),y:O*N(i),z:B*N(n)}}function U(t){return t>.0031308?1.055*t**(1/2.4)-.055:12.92*t}function j(t,e,r){const i=U(3.2406*t+-1.5372*e+-.4986*r),n=U(-.9689*t+1.8758*e+.0415*r),a=U(.0557*t+-.204*e+1.057*r);return{r:x(255*i),g:x(255*n),b:x(255*a)}}var F={};s(F,{AbstractDistanceCalculator:()=>z,AbstractEuclidean:()=>Y,AbstractManhattan:()=>Q,CIE94GraphicArts:()=>q,CIE94Textiles:()=>H,CIEDE2000:()=>Z,CMetric:()=>V,Euclidean:()=>K,EuclideanBT709:()=>X,EuclideanBT709NoAlpha:()=>J,Manhattan:()=>$,ManhattanBT709:()=>et,ManhattanNommyde:()=>tt,PNGQuant:()=>rt});var z=class{constructor(){l(this,\"_maxDistance\"),l(this,\"_whitePoint\"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(t,e,r,i){this._whitePoint={r:t>0?255/t:0,g:e>0?255/e:0,b:r>0?255/r:0,a:i>0?255/i:0},this._maxDistance=this.calculateRaw(t,e,r,i,0,0,0,0)}calculateNormalized(t,e){return this.calculateRaw(t.r,t.g,t.b,t.a,e.r,e.g,e.b,e.a)/this._maxDistance}},G=class extends z{calculateRaw(t,e,r,i,n,a,o,s){const u=R(I(t*this._whitePoint.r),I(e*this._whitePoint.g),I(r*this._whitePoint.b)),l=R(I(n*this._whitePoint.r),I(a*this._whitePoint.g),I(o*this._whitePoint.b)),h=u.L-l.L,f=u.a-l.a,c=u.b-l.b,d=Math.sqrt(u.a*u.a+u.b*u.b),p=d-Math.sqrt(l.a*l.a+l.b*l.b);let m=f*f+c*c-p*p;m=m<0?0:Math.sqrt(m);const b=(s-i)*this._whitePoint.a*this._kA;return Math.sqrt((h/this._Kl)**2+(p/(1+this._K1*d))**2+(m/(1+this._K2*d))**2+b**2)}},H=class extends G{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},q=class extends G{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},W=class extends z{_setDefaults(){}static _calculatehp(t,e){const r=Math.atan2(t,e);return r>=0?r:r+W._deg360InRad}static _calculateRT(t,e){const r=e**7,i=2*Math.sqrt(r/(r+W._pow25to7)),n=W._deg30InRad*Math.exp(-(((t-W._deg275InRad)/W._deg25InRad)**2));return-Math.sin(2*n)*i}static _calculateT(t){return 1-.17*Math.cos(t-W._deg30InRad)+.24*Math.cos(2*t)+.32*Math.cos(3*t+W._deg6InRad)-.2*Math.cos(4*t-W._deg63InRad)}static _calculate_ahp(t,e,r,i){const n=r+i;return 0===t?n:e<=W._deg180InRad?n/2:n<W._deg360InRad?(n+W._deg360InRad)/2:(n-W._deg360InRad)/2}static _calculate_dHp(t,e,r,i){let n;return n=0===t?0:e<=W._deg180InRad?r-i:r<=i?r-i+W._deg360InRad:r-i-W._deg360InRad,2*Math.sqrt(t)*Math.sin(n/2)}calculateRaw(t,e,r,i,n,a,o,s){const u=R(I(t*this._whitePoint.r),I(e*this._whitePoint.g),I(r*this._whitePoint.b)),l=R(I(n*this._whitePoint.r),I(a*this._whitePoint.g),I(o*this._whitePoint.b)),h=(s-i)*this._whitePoint.a*W._kA,f=this.calculateRawInLab(u,l);return Math.sqrt(f+h*h)}calculateRawInLab(t,e){const r=t.L,i=t.a,n=t.b,a=e.L,o=e.a,s=e.b,u=((Math.sqrt(i*i+n*n)+Math.sqrt(o*o+s*s))/2)**7,l=.5*(1-Math.sqrt(u/(u+W._pow25to7))),h=(1+l)*i,f=(1+l)*o,c=Math.sqrt(h*h+n*n),d=Math.sqrt(f*f+s*s),p=c*d,m=W._calculatehp(n,h),b=W._calculatehp(s,f),g=Math.abs(m-b),_=a-r,y=d-c,v=W._calculate_dHp(p,g,b,m),w=W._calculate_ahp(p,g,m,b),E=(c+d)/2,x=((r+a)/2-50)**2,I=y/(1+.045*E),S=v/(1+.015*W._calculateT(w)*E);return(_/(1+.015*x/Math.sqrt(20+x)))**2+I**2+S**2+W._calculateRT(w,E)*I*S}},Z=W;l(Z,\"_kA\",25/255),l(Z,\"_pow25to7\",25**7),l(Z,\"_deg360InRad\",v(360)),l(Z,\"_deg180InRad\",v(180)),l(Z,\"_deg30InRad\",v(30)),l(Z,\"_deg6InRad\",v(6)),l(Z,\"_deg63InRad\",v(63)),l(Z,\"_deg275InRad\",v(275)),l(Z,\"_deg25InRad\",v(25));var V=class extends z{calculateRaw(t,e,r,i,n,a,o,s){const u=(t+n)/2*this._whitePoint.r,l=(t-n)*this._whitePoint.r,h=(e-a)*this._whitePoint.g,f=(r-o)*this._whitePoint.b,c=((512+u)*l*l>>8)+4*h*h+((767-u)*f*f>>8),d=(s-i)*this._whitePoint.a;return Math.sqrt(c+d*d)}_setDefaults(){}},Y=class extends z{calculateRaw(t,e,r,i,n,a,o,s){const u=n-t,l=a-e,h=o-r,f=s-i;return Math.sqrt(this._kR*u*u+this._kG*l*l+this._kB*h*h+this._kA*f*f)}},K=class extends Y{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},X=class extends Y{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},J=class extends Y{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},Q=class extends z{calculateRaw(t,e,r,i,n,a,o,s){let u=n-t,l=a-e,h=o-r,f=s-i;return u<0&&(u=0-u),l<0&&(l=0-l),h<0&&(h=0-h),f<0&&(f=0-f),this._kR*u+this._kG*l+this._kB*h+this._kA*f}},$=class extends Q{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},tt=class extends Q{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},et=class extends Q{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},rt=class extends z{calculateRaw(t,e,r,i,n,a,o,s){const u=(s-i)*this._whitePoint.a;return this._colordifferenceCh(t*this._whitePoint.r,n*this._whitePoint.r,u)+this._colordifferenceCh(e*this._whitePoint.g,a*this._whitePoint.g,u)+this._colordifferenceCh(r*this._whitePoint.b,o*this._whitePoint.b,u)}_colordifferenceCh(t,e,r){const i=t-e,n=i+r;return i*i+n*n}_setDefaults(){}},it={};s(it,{AbstractPaletteQuantizer:()=>nt,ColorHistogram:()=>wt,NeuQuant:()=>bt,NeuQuantFloat:()=>yt,RGBQuant:()=>xt,WuColorCube:()=>Tt,WuQuant:()=>Pt});var nt=class{quantizeSync(){for(const t of this.quantize())if(t.palette)return t.palette;throw new Error(\"unreachable\")}},at=class{constructor(){l(this,\"r\"),l(this,\"g\"),l(this,\"b\"),l(this,\"a\"),l(this,\"uint32\"),l(this,\"rgba\"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(t){const e=new at;return e.r=0|t[0],e.g=0|t[1],e.b=0|t[2],e.a=0|t[3],e._loadUINT32(),e._loadQuadruplet(),e}static createByRGBA(t,e,r,i){const n=new at;return n.r=0|t,n.g=0|e,n.b=0|r,n.a=0|i,n._loadUINT32(),n._loadQuadruplet(),n}static createByUint32(t){const e=new at;return e.uint32=t>>>0,e._loadRGBA(),e._loadQuadruplet(),e}from(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.uint32=t.uint32,this.rgba[0]=t.r,this.rgba[1]=t.g,this.rgba[2]=t.b,this.rgba[3]=t.a}getLuminosity(t){let e=this.r,r=this.g,i=this.b;return t&&(e=Math.min(255,255-this.a+this.a*e/255),r=Math.min(255,255-this.a+this.a*r/255),i=Math.min(255,255-this.a+this.a*i/255)),.2126*e+.7152*r+.0722*i}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},ot=class{constructor(){l(this,\"_pointArray\"),l(this,\"_width\"),l(this,\"_height\"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(t){this._width=t}setHeight(t){this._height=t}getPointArray(){return this._pointArray}clone(){const t=new ot;t._width=this._width,t._height=this._height;for(let e=0,r=this._pointArray.length;e<r;e++)t._pointArray[e]=at.createByUint32(0|this._pointArray[e].uint32);return t}toUint32Array(){const t=this._pointArray.length,e=new Uint32Array(t);for(let r=0;r<t;r++)e[r]=this._pointArray[r].uint32;return e}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(t){const e=t.naturalWidth,r=t.naturalHeight,i=document.createElement(\"canvas\");return i.width=e,i.height=r,i.getContext(\"2d\").drawImage(t,0,0,e,r,0,0,e,r),ot.fromHTMLCanvasElement(i)}static fromHTMLCanvasElement(t){const e=t.width,r=t.height,i=t.getContext(\"2d\").getImageData(0,0,e,r);return ot.fromImageData(i)}static fromImageData(t){const e=t.width,r=t.height;return ot.fromUint8Array(t.data,e,r)}static fromUint8Array(t,e,r){switch(Object.prototype.toString.call(t)){case\"[object Uint8ClampedArray]\":case\"[object Uint8Array]\":break;default:t=new Uint8Array(t)}const i=new Uint32Array(t.buffer);return ot.fromUint32Array(i,e,r)}static fromUint32Array(t,e,r){const i=new ot;i._width=e,i._height=r;for(let e=0,r=t.length;e<r;e++)i._pointArray[e]=at.createByUint32(0|t[e]);return i}static fromBuffer(t,e,r){const i=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/Uint32Array.BYTES_PER_ELEMENT);return ot.fromUint32Array(i,e,r)}};function st(t,e){const r=360/e;for(let i=1,n=r-r/2;i<e;i++,n+=r)if(t>=n&&t<n+r)return i;return 0}var ut=class{constructor(){l(this,\"_pointContainer\"),l(this,\"_pointArray\",[]),l(this,\"_i32idx\",{}),this._pointContainer=new ot,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(t){this._pointArray.push(t),this._pointContainer.setWidth(this._pointArray.length)}has(t){for(let e=this._pointArray.length-1;e>=0;e--)if(t.uint32===this._pointArray[e].uint32)return!0;return!1}getNearestColor(t,e){return this._pointArray[0|this._getNearestIndex(t,e)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(t){return\"number\"==typeof this._i32idx[t]?this._i32idx[t]:-1}_getNearestIndex(t,e){let r=this._nearestPointFromCache(\"\"+e.uint32);if(r>=0)return r;let i=Number.MAX_VALUE;r=0;for(let n=0,a=this._pointArray.length;n<a;n++){const a=this._pointArray[n],o=t.calculateRaw(e.r,e.g,e.b,e.a,a.r,a.g,a.b,a.a);o<i&&(i=o,r=n)}return this._i32idx[e.uint32]=r,r}sort(){this._i32idx={},this._pointArray.sort((t,e)=>{const r=A(t.r,t.g,t.b),i=A(e.r,e.g,e.b),n=t.r===t.g&&t.g===t.b?0:1+st(r.h,10),a=(e.r===e.g&&e.g===e.b?0:1+st(i.h,10))-n;if(a)return-a;const o=t.getLuminosity(!0),s=e.getLuminosity(!0);if(s-o!=0)return s-o;const u=(100*i.s|0)-(100*r.s|0);return u?-u:0})}},lt={};s(lt,{HueStatistics:()=>ft,Palette:()=>ut,Point:()=>at,PointContainer:()=>ot,ProgressTracker:()=>dt,arithmetic:()=>y});var ht=class{constructor(){l(this,\"num\",0),l(this,\"cols\",[])}},ft=class{constructor(t,e){l(this,\"_numGroups\"),l(this,\"_minCols\"),l(this,\"_stats\"),l(this,\"_groupsFull\"),this._numGroups=t,this._minCols=e,this._stats=[];for(let e=0;e<=t;e++)this._stats[e]=new ht;this._groupsFull=0}check(t){this._groupsFull===this._numGroups+1&&(this.check=(()=>{}));const e=255&t,r=t>>>8&255,i=t>>>16&255,n=e===r&&r===i?0:1+st(A(e,r,i).h,this._numGroups),a=this._stats[n],o=this._minCols;a.num++,a.num>o||(a.num===o&&this._groupsFull++,a.num<=o&&this._stats[n].cols.push(t))}injectIntoDictionary(t){for(let e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach(e=>{t[e]?t[e]++:t[e]=1})}injectIntoArray(t){for(let e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach(e=>{-1===t.indexOf(e)&&t.push(e)})}},ct=class{constructor(t,e){l(this,\"progress\"),l(this,\"_step\"),l(this,\"_range\"),l(this,\"_last\"),l(this,\"_progressRange\"),this._range=t,this._progressRange=e,this._step=Math.max(1,this._range/(ct.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(t){return t-this._last>=this._step&&(this._last=t,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},dt=ct;l(dt,\"steps\",100);var pt=class{constructor(t){l(this,\"r\"),l(this,\"g\"),l(this,\"b\"),l(this,\"a\"),this.r=this.g=this.b=this.a=t}toPoint(){return at.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)}subtract(t,e,r,i){this.r-=0|t,this.g-=0|e,this.b-=0|r,this.a-=0|i}},mt=class extends nt{constructor(t,e=256){super(),l(this,\"_pointArray\"),l(this,\"_networkSize\"),l(this,\"_network\"),l(this,\"_sampleFactor\"),l(this,\"_radPower\"),l(this,\"_freq\"),l(this,\"_bias\"),l(this,\"_distance\"),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(2040,2040,2040,2040)}sample(t){this._pointArray=this._pointArray.concat(t.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let t=0;t<this._networkSize;t++)this._network[t]=new pt((t<<11)/this._networkSize|0),this._freq[t]=mt._initialBias/this._networkSize|0,this._bias[t]=0}*_learn(){let t=this._sampleFactor;const e=this._pointArray.length;e<mt._minpicturebytes&&(t=1);const r=30+(t-1)/3|0,i=e/t|0;let n,a=i/mt._nCycles|0,o=mt._initAlpha,s=(this._networkSize>>3)*mt._radiusBias,u=s>>mt._radiusBiasShift;u<=1&&(u=0);for(let t=0;t<u;t++)this._radPower[t]=o*((u*u-t*t)*mt._radBias/(u*u))>>>0;n=e<mt._minpicturebytes?1:e%mt._prime1!=0?mt._prime1:e%mt._prime2!=0?mt._prime2:e%mt._prime3!=0?mt._prime3:mt._prime4;const l=new dt(i,99);for(let t=0,h=0;t<i;){l.shouldNotify(t)&&(yield{progress:l.progress});const i=this._pointArray[h],f=i.b<<3,c=i.g<<3,d=i.r<<3,p=i.a<<3,m=this._contest(f,c,d,p);if(this._alterSingle(o,m,f,c,d,p),0!==u&&this._alterNeighbour(u,m,f,c,d,p),(h+=n)>=e&&(h-=e),0===a&&(a=1),++t%a==0){o-=o/r|0,(u=(s-=s/mt._radiusDecrease|0)>>mt._radiusBiasShift)<=1&&(u=0);for(let t=0;t<u;t++)this._radPower[t]=o*((u*u-t*t)*mt._radBias/(u*u))>>>0}}}_buildPalette(){const t=new ut;return this._network.forEach(e=>{t.add(e.toPoint())}),t.sort(),t}_alterNeighbour(t,e,r,i,n,a){let o=e-t;o<-1&&(o=-1);let s=e+t;s>this._networkSize&&(s=this._networkSize);let u=e+1,l=e-1,h=1;for(;u<s||l>o;){const t=this._radPower[h++]/mt._alphaRadBias;if(u<s){const e=this._network[u++];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}if(l>o){const e=this._network[l--];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}}}_alterSingle(t,e,r,i,n,a){t/=mt._initAlpha;const o=this._network[e];o.subtract(t*(o.r-n),t*(o.g-i),t*(o.b-r),t*(o.a-a))}_contest(t,e,r,i){let n=~(1<<31),a=n,o=-1,s=o;for(let u=0;u<this._networkSize;u++){const l=this._network[u],h=8160*this._distance.calculateNormalized(l,{r:r,g:e,b:t,a:i})|0;h<n&&(n=h,o=u);const f=h-(this._bias[u]>>mt._initialBiasShift-3);f<a&&(a=f,s=u);const c=this._freq[u]>>mt._betaShift;this._freq[u]-=c,this._bias[u]+=c<<mt._gammaShift}return this._freq[o]+=mt._beta,this._bias[o]-=mt._betaGamma,s}},bt=mt;l(bt,\"_prime1\",499),l(bt,\"_prime2\",491),l(bt,\"_prime3\",487),l(bt,\"_prime4\",503),l(bt,\"_minpicturebytes\",mt._prime4),l(bt,\"_nCycles\",100),l(bt,\"_initialBiasShift\",16),l(bt,\"_initialBias\",1<<mt._initialBiasShift),l(bt,\"_gammaShift\",10),l(bt,\"_betaShift\",10),l(bt,\"_beta\",mt._initialBias>>mt._betaShift),l(bt,\"_betaGamma\",mt._initialBias<<mt._gammaShift-mt._betaShift),l(bt,\"_radiusBiasShift\",6),l(bt,\"_radiusBias\",1<<mt._radiusBiasShift),l(bt,\"_radiusDecrease\",30),l(bt,\"_alphaBiasShift\",10),l(bt,\"_initAlpha\",1<<mt._alphaBiasShift),l(bt,\"_radBiasShift\",8),l(bt,\"_radBias\",1<<mt._radBiasShift),l(bt,\"_alphaRadBiasShift\",mt._alphaBiasShift+mt._radBiasShift),l(bt,\"_alphaRadBias\",1<<mt._alphaRadBiasShift);var gt=class{constructor(t){l(this,\"r\"),l(this,\"g\"),l(this,\"b\"),l(this,\"a\"),this.r=this.g=this.b=this.a=t}toPoint(){return at.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)}subtract(t,e,r,i){this.r-=t,this.g-=e,this.b-=r,this.a-=i}},_t=class extends nt{constructor(t,e=256){super(),l(this,\"_pointArray\"),l(this,\"_networkSize\"),l(this,\"_network\"),l(this,\"_sampleFactor\"),l(this,\"_radPower\"),l(this,\"_freq\"),l(this,\"_bias\"),l(this,\"_distance\"),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(2040,2040,2040,2040)}sample(t){this._pointArray=this._pointArray.concat(t.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let t=0;t<this._networkSize;t++)this._network[t]=new gt((t<<11)/this._networkSize),this._freq[t]=_t._initialBias/this._networkSize,this._bias[t]=0}*_learn(){let t=this._sampleFactor;const e=this._pointArray.length;e<_t._minpicturebytes&&(t=1);const r=30+(t-1)/3,i=e/t;let n,a=i/_t._nCycles|0,o=_t._initAlpha,s=(this._networkSize>>3)*_t._radiusBias,u=s>>_t._radiusBiasShift;u<=1&&(u=0);for(let t=0;t<u;t++)this._radPower[t]=o*((u*u-t*t)*_t._radBias/(u*u));n=e<_t._minpicturebytes?1:e%_t._prime1!=0?_t._prime1:e%_t._prime2!=0?_t._prime2:e%_t._prime3!=0?_t._prime3:_t._prime4;const l=new dt(i,99);for(let t=0,h=0;t<i;){l.shouldNotify(t)&&(yield{progress:l.progress});const i=this._pointArray[h],f=i.b<<3,c=i.g<<3,d=i.r<<3,p=i.a<<3,m=this._contest(f,c,d,p);if(this._alterSingle(o,m,f,c,d,p),0!==u&&this._alterNeighbour(u,m,f,c,d,p),(h+=n)>=e&&(h-=e),0===a&&(a=1),++t%a==0){o-=o/r,(u=(s-=s/_t._radiusDecrease)>>_t._radiusBiasShift)<=1&&(u=0);for(let t=0;t<u;t++)this._radPower[t]=o*((u*u-t*t)*_t._radBias/(u*u))}}}_buildPalette(){const t=new ut;return this._network.forEach(e=>{t.add(e.toPoint())}),t.sort(),t}_alterNeighbour(t,e,r,i,n,a){let o=e-t;o<-1&&(o=-1);let s=e+t;s>this._networkSize&&(s=this._networkSize);let u=e+1,l=e-1,h=1;for(;u<s||l>o;){const t=this._radPower[h++]/_t._alphaRadBias;if(u<s){const e=this._network[u++];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}if(l>o){const e=this._network[l--];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-a))}}}_alterSingle(t,e,r,i,n,a){t/=_t._initAlpha;const o=this._network[e];o.subtract(t*(o.r-n),t*(o.g-i),t*(o.b-r),t*(o.a-a))}_contest(t,e,r,i){let n=~(1<<31),a=n,o=-1,s=o;for(let u=0;u<this._networkSize;u++){const l=this._network[u],h=8160*this._distance.calculateNormalized(l,{r:r,g:e,b:t,a:i});h<n&&(n=h,o=u);const f=h-(this._bias[u]>>_t._initialBiasShift-3);f<a&&(a=f,s=u);const c=this._freq[u]>>_t._betaShift;this._freq[u]-=c,this._bias[u]+=c<<_t._gammaShift}return this._freq[o]+=_t._beta,this._bias[o]-=_t._betaGamma,s}},yt=_t;l(yt,\"_prime1\",499),l(yt,\"_prime2\",491),l(yt,\"_prime3\",487),l(yt,\"_prime4\",503),l(yt,\"_minpicturebytes\",_t._prime4),l(yt,\"_nCycles\",100),l(yt,\"_initialBiasShift\",16),l(yt,\"_initialBias\",1<<_t._initialBiasShift),l(yt,\"_gammaShift\",10),l(yt,\"_betaShift\",10),l(yt,\"_beta\",_t._initialBias>>_t._betaShift),l(yt,\"_betaGamma\",_t._initialBias<<_t._gammaShift-_t._betaShift),l(yt,\"_radiusBiasShift\",6),l(yt,\"_radiusBias\",1<<_t._radiusBiasShift),l(yt,\"_radiusDecrease\",30),l(yt,\"_alphaBiasShift\",10),l(yt,\"_initAlpha\",1<<_t._alphaBiasShift),l(yt,\"_radBiasShift\",8),l(yt,\"_radBias\",1<<_t._radBiasShift),l(yt,\"_alphaRadBiasShift\",_t._alphaBiasShift+_t._radBiasShift),l(yt,\"_alphaRadBias\",1<<_t._alphaRadBiasShift);var vt=class{constructor(t,e){l(this,\"_method\"),l(this,\"_hueStats\"),l(this,\"_histogram\"),l(this,\"_initColors\"),l(this,\"_minHueCols\"),this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new ft(vt._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t)}}getImportanceSortedColorsIDXI32(){const t=S(Object.keys(this._histogram),(t,e)=>this._histogram[e]-this._histogram[t]);if(0===t.length)return[];let e;switch(this._method){case 1:const r=Math.min(t.length,this._initColors),i=t[r-1],n=this._histogram[i];e=t.slice(0,r);let a=r;const o=t.length;for(;a<o&&this._histogram[t[a]]===n;)e.push(t[a++]);this._hueStats.injectIntoArray(e);break;case 2:e=t;break;default:throw new Error(\"Incorrect method\")}return e.map(t=>+t)}_colorStats1D(t){const e=this._histogram,r=t.getPointArray(),i=r.length;for(let t=0;t<i;t++){const i=r[t].uint32;this._hueStats.check(i),i in e?e[i]++:e[i]=1}}_colorStats2D(t){const e=t.getWidth(),r=t.getHeight(),i=t.getPointArray(),n=vt._boxSize[0],a=vt._boxSize[1],o=n*a,s=this._makeBoxes(e,r,n,a),u=this._histogram;s.forEach(t=>{let r=Math.round(t.w*t.h/o)*vt._boxPixels;r<2&&(r=2);const n={};this._iterateBox(t,e,t=>{const e=i[t].uint32;this._hueStats.check(e),e in u?u[e]++:e in n?++n[e]>=r&&(u[e]=n[e]):n[e]=1})}),this._hueStats.injectIntoDictionary(u)}_iterateBox(t,e,r){const i=t,n=i.y*e+i.x,a=(i.y+i.h-1)*e+(i.x+i.w-1),o=e-i.w+1;let s=0,u=n;do{r.call(this,u),u+=++s%i.w==0?o:1}while(u<=a)}_makeBoxes(t,e,r,i){const n=t%r,a=e%i,o=t-n,s=e-a,u=[];for(let l=0;l<e;l+=i)for(let e=0;e<t;e+=r)u.push({x:e,y:l,w:e===o?n:r,h:l===s?a:i});return u}},wt=vt;l(wt,\"_boxSize\",[64,64]),l(wt,\"_boxPixels\",2),l(wt,\"_hueGroups\",10);var Et=class{constructor(t,e,r){l(this,\"index\"),l(this,\"color\"),l(this,\"distance\"),this.index=t,this.color=e,this.distance=r}},xt=class extends nt{constructor(t,e=256,r=2){super(),l(this,\"_colors\"),l(this,\"_initialDistance\"),l(this,\"_distanceIncrement\"),l(this,\"_histogram\"),l(this,\"_distance\"),this._distance=t,this._colors=e,this._histogram=new wt(r,e),this._initialDistance=.01,this._distanceIncrement=.005}sample(t){this._histogram.sample(t)}*quantize(){const t=this._histogram.getImportanceSortedColorsIDXI32();if(0===t.length)throw new Error(\"No colors in image\");yield*this._buildPalette(t)}*_buildPalette(t){const e=new ut,r=e.getPointContainer().getPointArray(),i=new Array(t.length);for(let e=0;e<t.length;e++)r.push(at.createByUint32(t[e])),i[e]=1;const n=r.length,a=[];let o=n,s=this._initialDistance;const u=new dt(o-this._colors,99);for(;o>this._colors;){a.length=0;for(let t=0;t<n;t++){if(u.shouldNotify(n-o)&&(yield{progress:u.progress}),0===i[t])continue;const e=r[t];for(let u=t+1;u<n;u++){if(0===i[u])continue;const t=r[u],n=this._distance.calculateNormalized(e,t);n<s&&(a.push(new Et(u,t,n)),i[u]=0,o--)}}s+=o>3*this._colors?this._initialDistance:this._distanceIncrement}if(o<this._colors){S(a,(t,e)=>e.distance-t.distance);let t=0;for(;o<this._colors&&t<a.length;){i[a[t].index]=1,o++,t++}}let l=r.length;for(let t=l-1;t>=0;t--)0===i[t]&&(t!==l-1&&(r[t]=r[l-1]),--l);r.length=l,e.sort(),yield{palette:e,progress:100}}};function It(t){const e=[];for(let r=0;r<t;r++)e[r]=0;return e}function St(t,e,r,i){const n=new Array(t);for(let a=0;a<t;a++){n[a]=new Array(e);for(let t=0;t<e;t++){n[a][t]=new Array(r);for(let e=0;e<r;e++){n[a][t][e]=new Array(i);for(let r=0;r<i;r++)n[a][t][e][r]=0}}}return n}function At(t,e,r){const i=new Array(t);for(let n=0;n<t;n++){i[n]=new Array(e);for(let t=0;t<e;t++){i[n][t]=new Array(r);for(let e=0;e<r;e++)i[n][t][e]=0}}return i}function Mt(t,e,r,i,n){for(let a=0;a<e;a++){t[a]=[];for(let e=0;e<r;e++){t[a][e]=[];for(let r=0;r<i;r++)t[a][e][r]=n}}}function Ct(t,e,r){for(let i=0;i<e;i++)t[i]=r}var Tt=class{constructor(){l(this,\"redMinimum\"),l(this,\"redMaximum\"),l(this,\"greenMinimum\"),l(this,\"greenMaximum\"),l(this,\"blueMinimum\"),l(this,\"blueMaximum\"),l(this,\"volume\"),l(this,\"alphaMinimum\"),l(this,\"alphaMaximum\")}},kt=class extends nt{constructor(t,e=256,r=5){super(),l(this,\"_reds\"),l(this,\"_greens\"),l(this,\"_blues\"),l(this,\"_alphas\"),l(this,\"_sums\"),l(this,\"_weights\"),l(this,\"_momentsRed\"),l(this,\"_momentsGreen\"),l(this,\"_momentsBlue\"),l(this,\"_momentsAlpha\"),l(this,\"_moments\"),l(this,\"_table\"),l(this,\"_pixels\"),l(this,\"_cubes\"),l(this,\"_colors\"),l(this,\"_significantBitsPerChannel\"),l(this,\"_maxSideIndex\"),l(this,\"_alphaMaxSideIndex\"),l(this,\"_sideSize\"),l(this,\"_alphaSideSize\"),l(this,\"_distance\"),this._distance=t,this._setQuality(r),this._initialize(e)}sample(t){const e=t.getPointArray();for(let t=0,r=e.length;t<r;t++)this._addColor(e[t]);this._pixels=this._pixels.concat(e)}*quantize(){yield*this._preparePalette();const t=new ut;for(let e=0;e<this._colors;e++)if(this._sums[e]>0){const r=this._sums[e],i=this._reds[e]/r,n=this._greens[e]/r,a=this._blues[e]/r,o=this._alphas[e]/r,s=at.createByRGBA(0|i,0|n,0|a,0|o);t.add(s)}t.sort(),yield{palette:t,progress:100}}*_preparePalette(){yield*this._calculateMoments();let t=0;const e=It(this._colors);for(let r=1;r<this._colors;++r){this._cut(this._cubes[t],this._cubes[r])?(e[t]=this._cubes[t].volume>1?this._calculateVariance(this._cubes[t]):0,e[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0):(e[t]=0,r--),t=0;let i=e[0];for(let n=1;n<=r;++n)e[n]>i&&(i=e[n],t=n);if(i<=0){this._colors=r+1;break}}const r=[],i=[],n=[],a=[];for(let t=0;t<this._colors;++t){const e=kt._volume(this._cubes[t],this._weights);e>0?(r[t]=kt._volume(this._cubes[t],this._momentsRed)/e|0,i[t]=kt._volume(this._cubes[t],this._momentsGreen)/e|0,n[t]=kt._volume(this._cubes[t],this._momentsBlue)/e|0,a[t]=kt._volume(this._cubes[t],this._momentsAlpha)/e|0):(r[t]=0,i[t]=0,n[t]=0,a[t]=0)}this._reds=It(this._colors+1),this._greens=It(this._colors+1),this._blues=It(this._colors+1),this._alphas=It(this._colors+1),this._sums=It(this._colors+1);for(let t=0,e=this._pixels.length;t<e;t++){const e=this._pixels[t];let o=-1,s=Number.MAX_VALUE;for(let t=0;t<this._colors;t++){const u=r[t],l=i[t],h=n[t],f=a[t],c=this._distance.calculateRaw(u,l,h,f,e.r,e.g,e.b,e.a);c<s&&(s=c,o=t)}this._reds[o]+=e.r,this._greens[o]+=e.g,this._blues[o]+=e.b,this._alphas[o]+=e.a,this._sums[o]++}}_addColor(t){const e=8-this._significantBitsPerChannel,r=1+(t.r>>e),i=1+(t.g>>e),n=1+(t.b>>e),a=1+(t.a>>e);this._weights[a][r][i][n]++,this._momentsRed[a][r][i][n]+=t.r,this._momentsGreen[a][r][i][n]+=t.g,this._momentsBlue[a][r][i][n]+=t.b,this._momentsAlpha[a][r][i][n]+=t.a,this._moments[a][r][i][n]+=this._table[t.r]+this._table[t.g]+this._table[t.b]+this._table[t.a]}*_calculateMoments(){const t=[],e=[],r=[],i=[],n=[],a=[],o=At(this._sideSize,this._sideSize,this._sideSize),s=At(this._sideSize,this._sideSize,this._sideSize),u=At(this._sideSize,this._sideSize,this._sideSize),l=At(this._sideSize,this._sideSize,this._sideSize),h=At(this._sideSize,this._sideSize,this._sideSize),f=At(this._sideSize,this._sideSize,this._sideSize);let c=0;const d=new dt(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){Mt(o,this._sideSize,this._sideSize,this._sideSize,0),Mt(s,this._sideSize,this._sideSize,this._sideSize,0),Mt(u,this._sideSize,this._sideSize,this._sideSize,0),Mt(l,this._sideSize,this._sideSize,this._sideSize,0),Mt(h,this._sideSize,this._sideSize,this._sideSize,0),Mt(f,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++c){d.shouldNotify(c)&&(yield{progress:d.progress}),Ct(t,this._sideSize,0),Ct(e,this._sideSize,0),Ct(r,this._sideSize,0),Ct(i,this._sideSize,0),Ct(n,this._sideSize,0),Ct(a,this._sideSize,0);for(let c=1;c<=this._maxSideIndex;++c){let d=0,b=0,g=0,_=0,y=0,v=0;for(let w=1;w<=this._maxSideIndex;++w)d+=this._weights[p][m][c][w],b+=this._momentsRed[p][m][c][w],g+=this._momentsGreen[p][m][c][w],_+=this._momentsBlue[p][m][c][w],y+=this._momentsAlpha[p][m][c][w],v+=this._moments[p][m][c][w],t[w]+=d,e[w]+=b,r[w]+=g,i[w]+=_,n[w]+=y,a[w]+=v,o[m][c][w]=o[m-1][c][w]+t[w],s[m][c][w]=s[m-1][c][w]+e[w],u[m][c][w]=u[m-1][c][w]+r[w],l[m][c][w]=l[m-1][c][w]+i[w],h[m][c][w]=h[m-1][c][w]+n[w],f[m][c][w]=f[m-1][c][w]+a[w],this._weights[p][m][c][w]=this._weights[p-1][m][c][w]+o[m][c][w],this._momentsRed[p][m][c][w]=this._momentsRed[p-1][m][c][w]+s[m][c][w],this._momentsGreen[p][m][c][w]=this._momentsGreen[p-1][m][c][w]+u[m][c][w],this._momentsBlue[p][m][c][w]=this._momentsBlue[p-1][m][c][w]+l[m][c][w],this._momentsAlpha[p][m][c][w]=this._momentsAlpha[p-1][m][c][w]+h[m][c][w],this._moments[p][m][c][w]=this._moments[p-1][m][c][w]+f[m][c][w]}}}}static _volumeFloat(t,e){return e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMaximum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum])}static _volume(t,e){return 0|kt._volumeFloat(t,e)}static _top(t,e,r,i){let n;switch(e){case kt._alpha:n=i[r][t.redMaximum][t.greenMaximum][t.blueMaximum]-i[r][t.redMaximum][t.greenMinimum][t.blueMaximum]-i[r][t.redMinimum][t.greenMaximum][t.blueMaximum]+i[r][t.redMinimum][t.greenMinimum][t.blueMaximum]-(i[r][t.redMaximum][t.greenMaximum][t.blueMinimum]-i[r][t.redMaximum][t.greenMinimum][t.blueMinimum]-i[r][t.redMinimum][t.greenMaximum][t.blueMinimum]+i[r][t.redMinimum][t.greenMinimum][t.blueMinimum]);break;case kt._red:n=i[t.alphaMaximum][r][t.greenMaximum][t.blueMaximum]-i[t.alphaMaximum][r][t.greenMinimum][t.blueMaximum]-i[t.alphaMinimum][r][t.greenMaximum][t.blueMaximum]+i[t.alphaMinimum][r][t.greenMinimum][t.blueMaximum]-(i[t.alphaMaximum][r][t.greenMaximum][t.blueMinimum]-i[t.alphaMaximum][r][t.greenMinimum][t.blueMinimum]-i[t.alphaMinimum][r][t.greenMaximum][t.blueMinimum]+i[t.alphaMinimum][r][t.greenMinimum][t.blueMinimum]);break;case kt._green:n=i[t.alphaMaximum][t.redMaximum][r][t.blueMaximum]-i[t.alphaMaximum][t.redMinimum][r][t.blueMaximum]-i[t.alphaMinimum][t.redMaximum][r][t.blueMaximum]+i[t.alphaMinimum][t.redMinimum][r][t.blueMaximum]-(i[t.alphaMaximum][t.redMaximum][r][t.blueMinimum]-i[t.alphaMaximum][t.redMinimum][r][t.blueMinimum]-i[t.alphaMinimum][t.redMaximum][r][t.blueMinimum]+i[t.alphaMinimum][t.redMinimum][r][t.blueMinimum]);break;case kt._blue:n=i[t.alphaMaximum][t.redMaximum][t.greenMaximum][r]-i[t.alphaMaximum][t.redMaximum][t.greenMinimum][r]-i[t.alphaMaximum][t.redMinimum][t.greenMaximum][r]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][r]-(i[t.alphaMinimum][t.redMaximum][t.greenMaximum][r]-i[t.alphaMinimum][t.redMaximum][t.greenMinimum][r]-i[t.alphaMinimum][t.redMinimum][t.greenMaximum][r]+i[t.alphaMinimum][t.redMinimum][t.greenMinimum][r]);break;default:throw new Error(\"impossible\")}return 0|n}static _bottom(t,e,r){switch(e){case kt._alpha:return-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case kt._red:return-r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case kt._green:return-r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case kt._blue:return-r[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-(-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);default:return 0}}_calculateVariance(t){const e=kt._volume(t,this._momentsRed),r=kt._volume(t,this._momentsGreen),i=kt._volume(t,this._momentsBlue),n=kt._volume(t,this._momentsAlpha);return kt._volumeFloat(t,this._moments)-(e*e+r*r+i*i+n*n)/kt._volume(t,this._weights)}_maximize(t,e,r,i,n,a,o,s,u){const l=0|kt._bottom(t,e,this._momentsRed),h=0|kt._bottom(t,e,this._momentsGreen),f=0|kt._bottom(t,e,this._momentsBlue),c=0|kt._bottom(t,e,this._momentsAlpha),d=0|kt._bottom(t,e,this._weights);let p=0,m=-1;for(let b=r;b<i;++b){let r=l+kt._top(t,e,b,this._momentsRed),i=h+kt._top(t,e,b,this._momentsGreen),g=f+kt._top(t,e,b,this._momentsBlue),_=c+kt._top(t,e,b,this._momentsAlpha),y=d+kt._top(t,e,b,this._weights);if(0!==y){let t=r*r+i*i+g*g+_*_,e=t/y;r=n-r,i=a-i,g=o-g,_=s-_,0!==(y=u-y)&&(e+=(t=r*r+i*i+g*g+_*_)/y)>p&&(p=e,m=b)}}return{max:p,position:m}}_cut(t,e){let r;const i=kt._volume(t,this._momentsRed),n=kt._volume(t,this._momentsGreen),a=kt._volume(t,this._momentsBlue),o=kt._volume(t,this._momentsAlpha),s=kt._volume(t,this._weights),u=this._maximize(t,kt._red,t.redMinimum+1,t.redMaximum,i,n,a,o,s),l=this._maximize(t,kt._green,t.greenMinimum+1,t.greenMaximum,i,n,a,o,s),h=this._maximize(t,kt._blue,t.blueMinimum+1,t.blueMaximum,i,n,a,o,s),f=this._maximize(t,kt._alpha,t.alphaMinimum+1,t.alphaMaximum,i,n,a,o,s);if(f.max>=u.max&&f.max>=l.max&&f.max>=h.max){if(r=kt._alpha,f.position<0)return!1}else r=u.max>=f.max&&u.max>=l.max&&u.max>=h.max?kt._red:l.max>=f.max&&l.max>=u.max&&l.max>=h.max?kt._green:kt._blue;switch(e.redMaximum=t.redMaximum,e.greenMaximum=t.greenMaximum,e.blueMaximum=t.blueMaximum,e.alphaMaximum=t.alphaMaximum,r){case kt._red:e.redMinimum=t.redMaximum=u.position,e.greenMinimum=t.greenMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case kt._green:e.greenMinimum=t.greenMaximum=l.position,e.redMinimum=t.redMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case kt._blue:e.blueMinimum=t.blueMaximum=h.position,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum,e.alphaMinimum=t.alphaMinimum;break;case kt._alpha:e.alphaMinimum=t.alphaMaximum=f.position,e.blueMinimum=t.blueMinimum,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum}return t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),!0}_initialize(t){this._colors=t,this._cubes=[];for(let e=0;e<t;e++)this._cubes[e]=new Tt;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=St(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=St(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=St(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=St(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=St(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=St(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let t=0;t<256;++t)this._table[t]=t*t;this._pixels=[]}_setQuality(t=5){this._significantBitsPerChannel=t,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},Pt=kt;l(Pt,\"_alpha\",3),l(Pt,\"_red\",2),l(Pt,\"_green\",1),l(Pt,\"_blue\",0);var Rt={};s(Rt,{AbstractImageQuantizer:()=>Lt,ErrorDiffusionArray:()=>Nt,ErrorDiffusionArrayKernel:()=>Bt,ErrorDiffusionRiemersma:()=>jt,NearestColor:()=>Ot});var Lt=class{quantizeSync(t,e){for(const r of this.quantize(t,e))if(r.pointContainer)return r.pointContainer;throw new Error(\"unreachable\")}},Ot=class extends Lt{constructor(t){super(),l(this,\"_distance\"),this._distance=t}*quantize(t,e){const r=t.getPointArray(),i=t.getWidth(),n=t.getHeight(),a=new dt(n,99);for(let t=0;t<n;t++){a.shouldNotify(t)&&(yield{progress:a.progress});for(let n=0,a=t*i;n<i;n++,a++){const t=r[a];t.from(e.getNearestColor(this._distance,t))}}yield{pointContainer:t,progress:100}}},Bt=(t=>(t[t.FloydSteinberg=0]=\"FloydSteinberg\",t[t.FalseFloydSteinberg=1]=\"FalseFloydSteinberg\",t[t.Stucki=2]=\"Stucki\",t[t.Atkinson=3]=\"Atkinson\",t[t.Jarvis=4]=\"Jarvis\",t[t.Burkes=5]=\"Burkes\",t[t.Sierra=6]=\"Sierra\",t[t.TwoSierra=7]=\"TwoSierra\",t[t.SierraLite=8]=\"SierraLite\",t))(Bt||{}),Nt=class extends Lt{constructor(t,e,r=!0,i=0,n=!1){super(),l(this,\"_minColorDistance\"),l(this,\"_serpentine\"),l(this,\"_kernel\"),l(this,\"_calculateErrorLikeGIMP\"),l(this,\"_distance\"),this._setKernel(e),this._distance=t,this._minColorDistance=i,this._serpentine=r,this._calculateErrorLikeGIMP=n}*quantize(t,e){const r=t.getPointArray(),i=new at,n=t.getWidth(),a=t.getHeight(),o=[];let s=1,u=1;for(const t of this._kernel){const e=t[2]+1;u<e&&(u=e)}for(let t=0;t<u;t++)this._fillErrorLine(o[t]=[],n);const l=new dt(a,99);for(let t=0;t<a;t++){l.shouldNotify(t)&&(yield{progress:l.progress}),this._serpentine&&(s*=-1);const u=t*n,h=1===s?0:n-1,f=1===s?n:-1;this._fillErrorLine(o[0],n),o.push(o.shift());const c=o[0];for(let l=h,d=u+h;l!==f;l+=s,d+=s){const u=r[d],h=c[l];i.from(u);const f=at.createByRGBA(x(u.r+h[0]),x(u.g+h[1]),x(u.b+h[2]),x(u.a+h[3])),p=e.getNearestColor(this._distance,f);if(u.from(p),this._minColorDistance){if(this._distance.calculateNormalized(i,p)<this._minColorDistance)continue}let m,b,g,_;this._calculateErrorLikeGIMP?(m=f.r-p.r,b=f.g-p.g,g=f.b-p.b,_=f.a-p.a):(m=i.r-p.r,b=i.g-p.g,g=i.b-p.b,_=i.a-p.a);const y=1===s?0:this._kernel.length-1,v=1===s?this._kernel.length:-1;for(let e=y;e!==v;e+=s){const r=this._kernel[e][1]*s,i=this._kernel[e][2];if(r+l>=0&&r+l<n&&i+t>=0&&i+t<a){const t=this._kernel[e][0],n=o[i][r+l];n[0]+=m*t,n[1]+=b*t,n[2]+=g*t,n[3]+=_*t}}}}yield{pointContainer:t,progress:100}}_fillErrorLine(t,e){t.length>e&&(t.length=e);const r=t.length;for(let e=0;e<r;e++){const r=t[e];r[0]=r[1]=r[2]=r[3]=0}for(let i=r;i<e;i++)t[i]=[0,0,0,0]}_setKernel(t){switch(t){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[.25,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[.125,2,0],[2/32,-2,1],[.125,-1,1],[.25,0,1],[.125,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[.125,-1,1],[5/32,0,1],[.125,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[.125,-1,1],[3/16,0,1],[.125,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[.25,-1,1],[.25,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${t}`)}}};function*Dt(t,e,r){const i=Math.max(t,e),n={width:t,height:e,level:Math.floor(Math.log(i)/Math.log(2)+1),callback:r,tracker:new dt(t*e,99),index:0,x:0,y:0};yield*function*t(e,r){if(e.level<1)return;e.tracker.shouldNotify(e.index)&&(yield{progress:e.tracker.progress});e.level--;switch(r){case 2:yield*t(e,1),Ut(e,3),yield*t(e,2),Ut(e,4),yield*t(e,2),Ut(e,2),yield*t(e,4);break;case 3:yield*t(e,4),Ut(e,2),yield*t(e,3),Ut(e,1),yield*t(e,3),Ut(e,3),yield*t(e,1);break;case 1:yield*t(e,2),Ut(e,4),yield*t(e,1),Ut(e,3),yield*t(e,1),Ut(e,1),yield*t(e,3);break;case 4:yield*t(e,3),Ut(e,1),yield*t(e,4),Ut(e,2),yield*t(e,4),Ut(e,4),yield*t(e,2)}e.level++}(n,1),Ut(n,0)}function Ut(t,e){switch(t.x>=0&&t.x<t.width&&t.y>=0&&t.y<t.height&&(t.callback(t.x,t.y),t.index++),e){case 2:t.x--;break;case 3:t.x++;break;case 1:t.y--;break;case 4:t.y++}}var jt=class extends Lt{constructor(t,e=16,r=1){super(),l(this,\"_distance\"),l(this,\"_weights\"),l(this,\"_errorQueueSize\"),this._distance=t,this._errorQueueSize=e,this._weights=jt._createWeights(r,e)}*quantize(t,e){const r=t.getPointArray(),i=t.getWidth(),n=t.getHeight(),a=[];let o=0;for(let t=0;t<this._errorQueueSize;t++)a[t]={r:0,g:0,b:0,a:0};yield*Dt(i,n,(t,n)=>{const s=r[t+n*i];let{r:u,g:l,b:h,a:f}=s;for(let t=0;t<this._errorQueueSize;t++){const e=this._weights[t],r=a[(t+o)%this._errorQueueSize];u+=r.r*e,l+=r.g*e,h+=r.b*e,f+=r.a*e}const c=at.createByRGBA(x(u),x(l),x(h),x(f)),d=e.getNearestColor(this._distance,c),p=((o=(o+1)%this._errorQueueSize)+this._errorQueueSize-1)%this._errorQueueSize;a[p].r=s.r-d.r,a[p].g=s.g-d.g,a[p].b=s.b-d.b,a[p].a=s.a-d.a,s.from(d)}),yield{pointContainer:t,progress:100}}static _createWeights(t,e){const r=[],i=Math.exp(Math.log(e)/(e-1));for(let n=0,a=1;n<e;n++)r[n]=(a+.5|0)/e*t,a*=i;return r}},Ft={};s(Ft,{ssim:()=>(function(t,e){if(t.getHeight()!==e.getHeight()||t.getWidth()!==e.getWidth())throw new Error(\"Images have different sizes!\");const r=(255*zt)**2,i=(255*Gt)**2;let n=0,a=0;return function(t,e,r){const i=t.getWidth(),n=t.getHeight();for(let a=0;a<n;a+=8)for(let o=0;o<i;o+=8){const s=Math.min(8,i-o),u=Math.min(8,n-a),l=Ht(t,o,a,s,u),h=Ht(e,o,a,s,u),f=qt(l),c=qt(h);r(l,h,f,c)}}(t,e,(t,e,o,s)=>{let u=0,l=0,h=0;for(let r=0;r<t.length;r++)l+=(t[r]-o)**2,h+=(e[r]-s)**2,u+=(t[r]-o)*(e[r]-s);const f=t.length-1;a+=(2*o*s+r)*(2*(u/=f)+i)/((o**2+s**2+r)*((l/=f)+(h/=f)+i)),n++}),a/n})});var zt=.01,Gt=.03;function Ht(t,e,r,i,n){const a=t.getPointArray(),o=[];let s=0;for(let u=r;u<r+n;u++){const r=u*t.getWidth();for(let t=e;t<e+i;t++){const e=a[r+t];o[s]=.2126*e.r+.7152*e.g+.0722*e.b,s++}}return o}function qt(t){let e=0;for(const r of t)e+=r;return e/t.length}var Wt=\"function\"==typeof r?r:void 0!==t&&\"function\"==typeof(null==t?void 0:t.nextTick)?e=>t.nextTick(e):t=>setTimeout(t,0);function Zt(t,{colorDistanceFormula:e,paletteQuantization:r,colors:i}={}){const n=Qt(Xt(e),r,i);return t.forEach(t=>n.sample(t)),n.quantizeSync()}async function Vt(t,{colorDistanceFormula:e,paletteQuantization:r,colors:i,onProgress:n}={}){return new Promise((a,o)=>{const s=Qt(Xt(e),r,i);let u;t.forEach(t=>s.sample(t));const l=s.quantize(),h=()=>{try{const t=l.next();t.done?a(u):(t.value.palette&&(u=t.value.palette),n&&n(t.value.progress),Wt(h))}catch(t){o(t)}};Wt(h)})}function Yt(t,e,{colorDistanceFormula:r,imageQuantization:i}={}){return Jt(Xt(r),i).quantizeSync(t,e)}async function Kt(t,e,{colorDistanceFormula:r,imageQuantization:i,onProgress:n}={}){return new Promise((a,o)=>{let s;const u=Jt(Xt(r),i).quantize(t,e),l=()=>{try{const t=u.next();t.done?a(s):(t.value.pointContainer&&(s=t.value.pointContainer),n&&n(t.value.progress),Wt(l))}catch(t){o(t)}};Wt(l)})}function Xt(t=\"euclidean-bt709\"){switch(t){case\"cie94-graphic-arts\":return new q;case\"cie94-textiles\":return new H;case\"ciede2000\":return new Z;case\"color-metric\":return new V;case\"euclidean\":return new K;case\"euclidean-bt709\":return new X;case\"euclidean-bt709-noalpha\":return new J;case\"manhattan\":return new $;case\"manhattan-bt709\":return new et;case\"manhattan-nommyde\":return new tt;case\"pngquant\":return new rt;default:throw new Error(`Unknown colorDistanceFormula ${t}`)}}function Jt(t,e=\"floyd-steinberg\"){switch(e){case\"nearest\":return new Ot(t);case\"riemersma\":return new jt(t);case\"floyd-steinberg\":return new Nt(t,0);case\"false-floyd-steinberg\":return new Nt(t,1);case\"stucki\":return new Nt(t,2);case\"atkinson\":return new Nt(t,3);case\"jarvis\":return new Nt(t,4);case\"burkes\":return new Nt(t,5);case\"sierra\":return new Nt(t,6);case\"two-sierra\":return new Nt(t,7);case\"sierra-lite\":return new Nt(t,8);default:throw new Error(`Unknown imageQuantization ${e}`)}}function Qt(t,e=\"wuquant\",r=256){switch(e){case\"neuquant\":return new bt(t,r);case\"rgbquant\":return new xt(t,r);case\"wuquant\":return new Pt(t,r);case\"neuquant-float\":return new yt(t,r);default:throw new Error(`Unknown paletteQuantization ${e}`)}}e.exports=u(h)}).call(this)}).call(this,t(\"_process\"),t(\"timers\").setImmediate)},{_process:184,timers:226}],121:[function(t,e,r){\"function\"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},{}],122:[function(t,e,r){\"use strict\";var i=t(\"has-tostringtag/shams\")(),n=t(\"call-bind/callBound\")(\"Object.prototype.toString\"),a=function(t){return!(i&&t&&\"object\"==typeof t&&Symbol.toStringTag in t)&&\"[object Arguments]\"===n(t)},o=function(t){return!!a(t)||null!==t&&\"object\"==typeof t&&\"number\"==typeof t.length&&t.length>=0&&\"[object Array]\"!==n(t)&&\"[object Function]\"===n(t.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=o,e.exports=s?a:o},{\"call-bind/callBound\":89,\"has-tostringtag/shams\":116}],123:[function(t,e,r){function i(t){return!!t.constructor&&\"function\"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(i(t)||function(t){return\"function\"==typeof t.readFloatLE&&\"function\"==typeof t.slice&&i(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],124:[function(t,e,r){\"use strict\";var i,n,a=Function.prototype.toString,o=\"object\"==typeof Reflect&&null!==Reflect&&Reflect.apply;if(\"function\"==typeof o&&\"function\"==typeof Object.defineProperty)try{i=Object.defineProperty({},\"length\",{get:function(){throw n}}),n={},o(function(){throw 42},null,i)}catch(t){t!==n&&(o=null)}else o=null;var s=/^\\s*class\\b/,u=function(t){try{var e=a.call(t);return s.test(e)}catch(t){return!1}},l=Object.prototype.toString,h=\"function\"==typeof Symbol&&!!Symbol.toStringTag,f=\"object\"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};e.exports=o?function(t){if(t===f)return!0;if(!t)return!1;if(\"function\"!=typeof t&&\"object\"!=typeof t)return!1;if(\"function\"==typeof t&&!t.prototype)return!0;try{o(t,null,i)}catch(t){if(t!==n)return!1}return!u(t)}:function(t){if(t===f)return!0;if(!t)return!1;if(\"function\"!=typeof t&&\"object\"!=typeof t)return!1;if(\"function\"==typeof t&&!t.prototype)return!0;if(h)return function(t){try{return!u(t)&&(a.call(t),!0)}catch(t){return!1}}(t);if(u(t))return!1;var e=l.call(t);return\"[object Function]\"===e||\"[object GeneratorFunction]\"===e}},{}],125:[function(t,e,r){e.exports=function(t){if(!t)return!1;var e=i.call(t);return\"[object Function]\"===e||\"function\"==typeof t&&\"[object RegExp]\"!==e||\"undefined\"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var i=Object.prototype.toString},{}],126:[function(t,e,r){\"use strict\";var i,n=Object.prototype.toString,a=Function.prototype.toString,o=/^\\s*(?:function)?\\*/,s=t(\"has-tostringtag/shams\")(),u=Object.getPrototypeOf;e.exports=function(t){if(\"function\"!=typeof t)return!1;if(o.test(a.call(t)))return!0;if(!s)return\"[object GeneratorFunction]\"===n.call(t);if(!u)return!1;if(void 0===i){var e=function(){if(!s)return!1;try{return Function(\"return function*() {}\")()}catch(t){}}();i=!!e&&u(e)}return u(t)===i}},{\"has-tostringtag/shams\":116}],127:[function(t,e,r){(function(r){(function(){\"use strict\";var i=t(\"for-each\"),n=t(\"available-typed-arrays\"),a=t(\"call-bind/callBound\"),o=a(\"Object.prototype.toString\"),s=t(\"has-tostringtag/shams\")(),u=\"undefined\"==typeof globalThis?r:globalThis,l=n(),h=a(\"Array.prototype.indexOf\",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},f=a(\"String.prototype.slice\"),c={},d=t(\"es-abstract/helpers/getOwnPropertyDescriptor\"),p=Object.getPrototypeOf;s&&d&&p&&i(l,function(t){var e=new u[t];if(Symbol.toStringTag in e){var r=p(e),i=d(r,Symbol.toStringTag);if(!i){var n=p(r);i=d(n,Symbol.toStringTag)}c[t]=i.get}});e.exports=function(t){if(!t||\"object\"!=typeof t)return!1;if(!(s&&Symbol.toStringTag in t)){var e=f(o(t),8,-1);return h(l,e)>-1}return!!d&&function(t){var e=!1;return i(c,function(r,i){if(!e)try{e=r.call(t)===i}catch(t){}}),e}(t)}}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"available-typed-arrays\":77,\"call-bind/callBound\":89,\"es-abstract/helpers/getOwnPropertyDescriptor\":91,\"for-each\":103,\"has-tostringtag/shams\":116}],128:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=i(t(\"@jimp/custom\")),a=i(t(\"@jimp/types\")),o=i(t(\"@jimp/plugins\")),s=(0,n.default)({types:[a.default],plugins:[o.default]});r.default=s,e.exports=r.default},{\"@babel/runtime/helpers/interopRequireDefault\":13,\"@jimp/custom\":38,\"@jimp/plugins\":66,\"@jimp/types\":69}],129:[function(t,e,r){var i=t(\"./lib/encoder\"),n=t(\"./lib/decoder\");e.exports={encode:i,decode:n}},{\"./lib/decoder\":130,\"./lib/encoder\":131}],130:[function(t,e,r){(function(t){(function(){var r=function(){\"use strict\";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,r=799,i=3406,n=2276,a=1567,o=3784,s=5793,u=2896;function l(){}function h(t,e){for(var r,i,n=0,a=[],o=16;o>0&&!t[o-1];)o--;a.push({children:[],index:0});var s,u=a[0];for(r=0;r<o;r++){for(i=0;i<t[r];i++){for((u=a.pop()).children[u.index]=e[n];u.index>0;){if(0===a.length)throw new Error(\"Could not recreate Huffman Table\");u=a.pop()}for(u.index++,a.push(u);a.length<=r;)a.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s;n++}r+1<o&&(a.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s)}return a[0].children}function f(e,r,i,n,a,o,s,u,l,h){i.precision,i.samplesPerLine,i.scanLines;var f=i.mcusPerLine,c=i.progressive,d=(i.maxH,i.maxV,r),p=0,m=0;function b(){if(m>0)return p>>--m&1;if(255==(p=e[r++])){var t=e[r++];if(t)throw new Error(\"unexpected marker: \"+(p<<8|t).toString(16))}return m=7,p>>>7}function g(t){for(var e,r=t;null!==(e=b());){if(\"number\"==typeof(r=r[e]))return r;if(\"object\"!=typeof r)throw new Error(\"invalid huffman sequence\")}return null}function _(t){for(var e=0;t>0;){var r=b();if(null===r)return;e=e<<1|r,t--}return e}function y(t){var e=_(t);return e>=1<<t-1?e:e+(-1<<t)+1}var v=0;var w,E=0;function x(t,e,r,i,n){var a=r%f,o=(r/f|0)*t.v+i,s=a*t.h+n;void 0===t.blocks[o]&&h.tolerantDecoding||e(t,t.blocks[o][s])}function I(t,e,r){var i=r/t.blocksPerLine|0,n=r%t.blocksPerLine;void 0===t.blocks[i]&&h.tolerantDecoding||e(t,t.blocks[i][n])}var S,A,M,C,T,k,P=n.length;k=c?0===o?0===u?function(t,e){var r=g(t.huffmanTableDC),i=0===r?0:y(r)<<l;e[0]=t.pred+=i}:function(t,e){e[0]|=b()<<l}:0===u?function(e,r){if(v>0)v--;else for(var i=o,n=s;i<=n;){var a=g(e.huffmanTableAC),u=15&a,h=a>>4;if(0!==u)r[t[i+=h]]=y(u)*(1<<l),i++;else{if(h<15){v=_(h)+(1<<h)-1;break}i+=16}}}:function(e,r){for(var i=o,n=s,a=0;i<=n;){var u=t[i],h=r[u]<0?-1:1;switch(E){case 0:var f=g(e.huffmanTableAC),c=15&f;if(a=f>>4,0===c)a<15?(v=_(a)+(1<<a),E=4):(a=16,E=1);else{if(1!==c)throw new Error(\"invalid ACn encoding\");w=y(c),E=a?2:3}continue;case 1:case 2:r[u]?r[u]+=(b()<<l)*h:0==--a&&(E=2==E?3:0);break;case 3:r[u]?r[u]+=(b()<<l)*h:(r[u]=w<<l,E=0);break;case 4:r[u]&&(r[u]+=(b()<<l)*h)}i++}4===E&&0==--v&&(E=0)}:function(e,r){var i=g(e.huffmanTableDC),n=0===i?0:y(i);r[0]=e.pred+=n;for(var a=1;a<64;){var o=g(e.huffmanTableAC),s=15&o,u=o>>4;if(0!==s)r[t[a+=u]]=y(s),a++;else{if(u<15)break;a+=16}}};var R,L,O,B,N=0;for(L=1==P?n[0].blocksPerLine*n[0].blocksPerColumn:f*i.mcusPerColumn,a||(a=L);N<L;){for(A=0;A<P;A++)n[A].pred=0;if(v=0,1==P)for(S=n[0],T=0;T<a;T++)I(S,k,N),N++;else for(T=0;T<a;T++){for(A=0;A<P;A++)for(O=(S=n[A]).h,B=S.v,M=0;M<B;M++)for(C=0;C<O;C++)x(S,k,N,M,C);if(++N===L)break}if(N===L)do{if(255===e[r]&&0!==e[r+1])break;r+=1}while(r<e.length-2);if(m=0,(R=e[r]<<8|e[r+1])<65280)throw new Error(\"marker was not found\");if(!(R>=65488&&R<=65495))break;r+=2}return r-d}function c(t,l){var h,f,c=[],d=l.blocksPerLine,p=l.blocksPerColumn,m=d<<3,g=new Int32Array(64),_=new Uint8Array(64);function y(t,h,f){var c,d,p,m,b,g,_,y,v,w,E=l.quantizationTable,x=f;for(w=0;w<64;w++)x[w]=t[w]*E[w];for(w=0;w<8;++w){var I=8*w;0!=x[1+I]||0!=x[2+I]||0!=x[3+I]||0!=x[4+I]||0!=x[5+I]||0!=x[6+I]||0!=x[7+I]?(c=s*x[0+I]+128>>8,d=s*x[4+I]+128>>8,p=x[2+I],m=x[6+I],b=u*(x[1+I]-x[7+I])+128>>8,y=u*(x[1+I]+x[7+I])+128>>8,g=x[3+I]<<4,_=x[5+I]<<4,v=c-d+1>>1,c=c+d+1>>1,d=v,v=p*o+m*a+128>>8,p=p*a-m*o+128>>8,m=v,v=b-_+1>>1,b=b+_+1>>1,_=v,v=y+g+1>>1,g=y-g+1>>1,y=v,v=c-m+1>>1,c=c+m+1>>1,m=v,v=d-p+1>>1,d=d+p+1>>1,p=v,v=b*n+y*i+2048>>12,b=b*i-y*n+2048>>12,y=v,v=g*r+_*e+2048>>12,g=g*e-_*r+2048>>12,_=v,x[0+I]=c+y,x[7+I]=c-y,x[1+I]=d+_,x[6+I]=d-_,x[2+I]=p+g,x[5+I]=p-g,x[3+I]=m+b,x[4+I]=m-b):(v=s*x[0+I]+512>>10,x[0+I]=v,x[1+I]=v,x[2+I]=v,x[3+I]=v,x[4+I]=v,x[5+I]=v,x[6+I]=v,x[7+I]=v)}for(w=0;w<8;++w){var S=w;0!=x[8+S]||0!=x[16+S]||0!=x[24+S]||0!=x[32+S]||0!=x[40+S]||0!=x[48+S]||0!=x[56+S]?(c=s*x[0+S]+2048>>12,d=s*x[32+S]+2048>>12,p=x[16+S],m=x[48+S],b=u*(x[8+S]-x[56+S])+2048>>12,y=u*(x[8+S]+x[56+S])+2048>>12,g=x[24+S],_=x[40+S],v=c-d+1>>1,c=c+d+1>>1,d=v,v=p*o+m*a+2048>>12,p=p*a-m*o+2048>>12,m=v,v=b-_+1>>1,b=b+_+1>>1,_=v,v=y+g+1>>1,g=y-g+1>>1,y=v,v=c-m+1>>1,c=c+m+1>>1,m=v,v=d-p+1>>1,d=d+p+1>>1,p=v,v=b*n+y*i+2048>>12,b=b*i-y*n+2048>>12,y=v,v=g*r+_*e+2048>>12,g=g*e-_*r+2048>>12,_=v,x[0+S]=c+y,x[56+S]=c-y,x[8+S]=d+_,x[48+S]=d-_,x[16+S]=p+g,x[40+S]=p-g,x[24+S]=m+b,x[32+S]=m-b):(v=s*f[w+0]+8192>>14,x[0+S]=v,x[8+S]=v,x[16+S]=v,x[24+S]=v,x[32+S]=v,x[40+S]=v,x[48+S]=v,x[56+S]=v)}for(w=0;w<64;++w){var A=128+(x[w]+8>>4);h[w]=A<0?0:A>255?255:A}}b(m*p*8);for(var v=0;v<p;v++){var w=v<<3;for(h=0;h<8;h++)c.push(new Uint8Array(m));for(var E=0;E<d;E++){y(l.blocks[v][E],_,g);var x=0,I=E<<3;for(f=0;f<8;f++){var S=c[w+f];for(h=0;h<8;h++)S[I+h]=_[x++]}}}return c}function d(t){return t<0?0:t>255?255:t}l.prototype={load:function(t){var e=new XMLHttpRequest;e.open(\"GET\",t,!0),e.responseType=\"arraybuffer\",e.onload=function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}.bind(this),e.send(null)},parse:function(e){var r=1e3*this.opts.maxResolutionInMP*1e3,i=0;e.length;function n(){var t=e[i]<<8|e[i+1];return i+=2,t}function a(){var t=n(),r=e.subarray(i,i+t-2);return i+=r.length,r}function o(t){var e,r,i=0,n=0;for(r in t.components)t.components.hasOwnProperty(r)&&(i<(e=t.components[r]).h&&(i=e.h),n<e.v&&(n=e.v));var a=Math.ceil(t.samplesPerLine/8/i),o=Math.ceil(t.scanLines/8/n);for(r in t.components)if(t.components.hasOwnProperty(r)){e=t.components[r];var s=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/i),u=Math.ceil(Math.ceil(t.scanLines/8)*e.v/n),l=a*e.h,h=o*e.v,f=[];b(256*(h*l));for(var c=0;c<h;c++){for(var d=[],p=0;p<l;p++)d.push(new Int32Array(64));f.push(d)}e.blocksPerLine=s,e.blocksPerColumn=u,e.blocks=f}t.maxH=i,t.maxV=n,t.mcusPerLine=a,t.mcusPerColumn=o}var s,u,l=null,d=null,p=[],m=[],g=[],_=[],y=n();if(this.comments=[],65496!=y)throw new Error(\"SOI not found\");for(y=n();65497!=y;){switch(y){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var v=a();if(65534===y){var w=String.fromCharCode.apply(null,v);this.comments.push(w)}65504===y&&74===v[0]&&70===v[1]&&73===v[2]&&70===v[3]&&0===v[4]&&(l={version:{major:v[5],minor:v[6]},densityUnits:v[7],xDensity:v[8]<<8|v[9],yDensity:v[10]<<8|v[11],thumbWidth:v[12],thumbHeight:v[13],thumbData:v.subarray(14,14+3*v[12]*v[13])}),65505===y&&69===v[0]&&120===v[1]&&105===v[2]&&102===v[3]&&0===v[4]&&(this.exifBuffer=v.subarray(5,v.length)),65518===y&&65===v[0]&&100===v[1]&&111===v[2]&&98===v[3]&&101===v[4]&&0===v[5]&&(d={version:v[6],flags0:v[7]<<8|v[8],flags1:v[9]<<8|v[10],transformCode:v[11]});break;case 65499:for(var E=n()+i-2;i<E;){var x=e[i++];b(256);var I=new Int32Array(64);if(x>>4==0)for(Z=0;Z<64;Z++){I[t[Z]]=e[i++]}else{if(x>>4!=1)throw new Error(\"DQT: invalid table spec\");for(Z=0;Z<64;Z++){I[t[Z]]=n()}}p[15&x]=I}break;case 65472:case 65473:case 65474:n(),(s={}).extended=65473===y,s.progressive=65474===y,s.precision=e[i++],s.scanLines=n(),s.samplesPerLine=n(),s.components={},s.componentsOrder=[];var S=s.scanLines*s.samplesPerLine;if(S>r){var A=Math.ceil((S-r)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${A}MP`)}var M,C=e[i++];for(q=0;q<C;q++){M=e[i];var T=e[i+1]>>4,k=15&e[i+1],P=e[i+2];s.componentsOrder.push(M),s.components[M]={h:T,v:k,quantizationIdx:P},i+=3}o(s),m.push(s);break;case 65476:var R=n();for(q=2;q<R;){var L=e[i++],O=new Uint8Array(16),B=0;for(Z=0;Z<16;Z++,i++)B+=O[Z]=e[i];b(16+B);var N=new Uint8Array(B);for(Z=0;Z<B;Z++,i++)N[Z]=e[i];q+=17+B,(L>>4==0?_:g)[15&L]=h(O,N)}break;case 65501:n(),u=n();break;case 65500:n(),n();break;case 65498:n();var D=e[i++],U=[];for(q=0;q<D;q++){V=s.components[e[i++]];var j=e[i++];V.huffmanTableDC=_[j>>4],V.huffmanTableAC=g[15&j],U.push(V)}var F=e[i++],z=e[i++],G=e[i++],H=f(e,i,s,U,u,F,z,G>>4,15&G,this.opts);i+=H;break;case 65535:255!==e[i]&&i--;break;default:if(255==e[i-3]&&e[i-2]>=192&&e[i-2]<=254){i-=3;break}throw new Error(\"unknown JPEG marker \"+y.toString(16))}y=n()}if(1!=m.length)throw new Error(\"only single frame JPEGs supported\");for(var q=0;q<m.length;q++){var W=m[q].components;for(var Z in W)W[Z].quantizationTable=p[W[Z].quantizationIdx],delete W[Z].quantizationIdx}this.width=s.samplesPerLine,this.height=s.scanLines,this.jfif=l,this.adobe=d,this.components=[];for(q=0;q<s.componentsOrder.length;q++){var V=s.components[s.componentsOrder[q]];this.components.push({lines:c(0,V),scaleX:V.h/s.maxH,scaleY:V.v/s.maxV})}},getData:function(t,e){var r,i,n,a,o,s,u,l,h,f,c,p,m,g,_,y,v,w,E,x,I,S=this.width/t,A=this.height/e,M=0,C=t*e*this.components.length;b(C);var T=new Uint8Array(C);switch(this.components.length){case 1:for(r=this.components[0],f=0;f<e;f++)for(o=r.lines[0|f*r.scaleY*A],h=0;h<t;h++)c=o[0|h*r.scaleX*S],T[M++]=c;break;case 2:for(r=this.components[0],i=this.components[1],f=0;f<e;f++)for(o=r.lines[0|f*r.scaleY*A],s=i.lines[0|f*i.scaleY*A],h=0;h<t;h++)c=o[0|h*r.scaleX*S],T[M++]=c,c=s[0|h*i.scaleX*S],T[M++]=c;break;case 3:for(I=!0,this.adobe&&this.adobe.transformCode?I=!0:void 0!==this.opts.colorTransform&&(I=!!this.opts.colorTransform),r=this.components[0],i=this.components[1],n=this.components[2],f=0;f<e;f++)for(o=r.lines[0|f*r.scaleY*A],s=i.lines[0|f*i.scaleY*A],u=n.lines[0|f*n.scaleY*A],h=0;h<t;h++)I?(c=o[0|h*r.scaleX*S],p=s[0|h*i.scaleX*S],w=d(c+1.402*((m=u[0|h*n.scaleX*S])-128)),E=d(c-.3441363*(p-128)-.71413636*(m-128)),x=d(c+1.772*(p-128))):(w=o[0|h*r.scaleX*S],E=s[0|h*i.scaleX*S],x=u[0|h*n.scaleX*S]),T[M++]=w,T[M++]=E,T[M++]=x;break;case 4:if(!this.adobe)throw new Error(\"Unsupported color mode (4 components)\");for(I=!1,this.adobe&&this.adobe.transformCode?I=!0:void 0!==this.opts.colorTransform&&(I=!!this.opts.colorTransform),r=this.components[0],i=this.components[1],n=this.components[2],a=this.components[3],f=0;f<e;f++)for(o=r.lines[0|f*r.scaleY*A],s=i.lines[0|f*i.scaleY*A],u=n.lines[0|f*n.scaleY*A],l=a.lines[0|f*a.scaleY*A],h=0;h<t;h++)I?(c=o[0|h*r.scaleX*S],p=s[0|h*i.scaleX*S],m=u[0|h*n.scaleX*S],g=l[0|h*a.scaleX*S],_=255-d(c+1.402*(m-128)),y=255-d(c-.3441363*(p-128)-.71413636*(m-128)),v=255-d(c+1.772*(p-128))):(_=o[0|h*r.scaleX*S],y=s[0|h*i.scaleX*S],v=u[0|h*n.scaleX*S],g=l[0|h*a.scaleX*S]),T[M++]=255-_,T[M++]=255-y,T[M++]=255-v,T[M++]=255-g;break;default:throw new Error(\"Unsupported color mode\")}return T},copyToImageData:function(t,e){var r,i,n,a,o,s,u,l,h,f=t.width,c=t.height,p=t.data,m=this.getData(f,c),b=0,g=0;switch(this.components.length){case 1:for(i=0;i<c;i++)for(r=0;r<f;r++)n=m[b++],p[g++]=n,p[g++]=n,p[g++]=n,e&&(p[g++]=255);break;case 3:for(i=0;i<c;i++)for(r=0;r<f;r++)u=m[b++],l=m[b++],h=m[b++],p[g++]=u,p[g++]=l,p[g++]=h,e&&(p[g++]=255);break;case 4:for(i=0;i<c;i++)for(r=0;r<f;r++)o=m[b++],s=m[b++],n=m[b++],u=255-d(o*(1-(a=m[b++])/255)+a),l=255-d(s*(1-a/255)+a),h=255-d(n*(1-a/255)+a),p[g++]=u,p[g++]=l,p[g++]=h,e&&(p[g++]=255);break;default:throw new Error(\"Unsupported color mode\")}}};var p=0,m=0;function b(t=0){var e=p+t;if(e>m){var r=Math.ceil((e-m)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${r}MB`)}p=e}return l.resetMaxMemoryUsage=function(t){p=0,m=t},l.getBytesAllocated=function(){return p},l.requestMemoryAllocation=b,l}();function i(e,i={}){var n={...{colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},...i},a=new Uint8Array(e),o=new r;o.opts=n,r.resetMaxMemoryUsage(1024*n.maxMemoryUsageInMB*1024),o.parse(a);var s=n.formatAsRGBA?4:3,u=o.width*o.height*s;try{r.requestMemoryAllocation(u);var l={width:o.width,height:o.height,exifBuffer:o.exifBuffer,data:n.useTArray?new Uint8Array(u):t.alloc(u)};o.comments.length>0&&(l.comments=o.comments)}catch(t){throw t instanceof RangeError?new Error(\"Could not allocate enough memory for the image. Required: \"+u):t}return o.copyToImageData(l,n.formatAsRGBA),l}void 0!==e?e.exports=i:\"undefined\"!=typeof window&&(window[\"jpeg-js\"]=window[\"jpeg-js\"]||{},window[\"jpeg-js\"].decode=i)}).call(this)}).call(this,t(\"buffer\").Buffer)},{buffer:87}],131:[function(t,e,r){(function(t){(function(){function r(r){Math.round;var i,n,a,o,s,u=Math.floor,l=new Array(64),h=new Array(64),f=new Array(64),c=new Array(64),d=new Array(65535),p=new Array(65535),m=new Array(64),b=new Array(64),g=[],_=0,y=7,v=new Array(64),w=new Array(64),E=new Array(64),x=new Array(256),I=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(t,e){for(var r=0,i=0,n=new Array,a=1;a<=16;a++){for(var o=1;o<=t[a];o++)n[e[i]]=[],n[e[i]][0]=r,n[e[i]][1]=a,i++,r++;r*=2}return n}function B(t){for(var e=t[0],r=t[1]-1;r>=0;)e&1<<r&&(_|=1<<y),r--,--y<0&&(255==_?(N(255),N(0)):N(_),y=7,_=0)}function N(t){g.push(t)}function D(t){N(t>>8&255),N(255&t)}function U(t,e,r,i,n){for(var a,o=n[0],s=n[240],u=function(t,e){var r,i,n,a,o,s,u,l,h,f,c=0;for(h=0;h<8;++h){r=t[c],i=t[c+1],n=t[c+2],a=t[c+3],o=t[c+4],s=t[c+5],u=t[c+6];var d=r+(l=t[c+7]),p=r-l,b=i+u,g=i-u,_=n+s,y=n-s,v=a+o,w=a-o,E=d+v,x=d-v,I=b+_,S=b-_;t[c]=E+I,t[c+4]=E-I;var A=.707106781*(S+x);t[c+2]=x+A,t[c+6]=x-A;var M=.382683433*((E=w+y)-(S=g+p)),C=.5411961*E+M,T=1.306562965*S+M,k=.707106781*(I=y+g),P=p+k,R=p-k;t[c+5]=R+C,t[c+3]=R-C,t[c+1]=P+T,t[c+7]=P-T,c+=8}for(c=0,h=0;h<8;++h){r=t[c],i=t[c+8],n=t[c+16],a=t[c+24],o=t[c+32],s=t[c+40],u=t[c+48];var L=r+(l=t[c+56]),O=r-l,B=i+u,N=i-u,D=n+s,U=n-s,j=a+o,F=a-o,z=L+j,G=L-j,H=B+D,q=B-D;t[c]=z+H,t[c+32]=z-H;var W=.707106781*(q+G);t[c+16]=G+W,t[c+48]=G-W;var Z=.382683433*((z=F+U)-(q=N+O)),V=.5411961*z+Z,Y=1.306562965*q+Z,K=.707106781*(H=U+N),X=O+K,J=O-K;t[c+40]=J+V,t[c+24]=J-V,t[c+8]=X+Y,t[c+56]=X-Y,c++}for(h=0;h<64;++h)f=t[h]*e[h],m[h]=f>0?f+.5|0:f-.5|0;return m}(t,e),l=0;l<64;++l)b[S[l]]=u[l];var h=b[0]-r;r=b[0],0==h?B(i[0]):(B(i[p[a=32767+h]]),B(d[a]));for(var f=63;f>0&&0==b[f];f--);if(0==f)return B(o),r;for(var c,g=1;g<=f;){for(var _=g;0==b[g]&&g<=f;++g);var y=g-_;if(y>=16){c=y>>4;for(var v=1;v<=c;++v)B(s);y&=15}a=32767+b[g],B(n[(y<<4)+p[a]]),B(d[a]),g++}return 63!=f&&B(o),r}function j(t){if(t<=0&&(t=1),t>100&&(t=100),s!=t){(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var i=u((e[r]*t+50)/100);i<1?i=1:i>255&&(i=255),l[S[r]]=i}for(var n=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var o=u((n[a]*t+50)/100);o<1?o=1:o>255&&(o=255),h[S[a]]=o}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var m=0;m<8;m++)f[d]=1/(l[S[d]]*s[p]*s[m]*8),c[d]=1/(h[S[d]]*s[p]*s[m]*8),d++})(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),s=t}}this.encode=function(r,s){(new Date).getTime();s&&j(s),g=new Array,_=0,y=7,D(65496),D(65504),D(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),D(1),D(1),N(0),N(0),function(t){if(t){D(65505),69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]?D(t.length+2):(D(t.length+5+2),N(69),N(120),N(105),N(102),N(0));for(var e=0;e<t.length;e++)N(t[e])}}(r.exifBuffer),function(){D(65499),D(132),N(0);for(var t=0;t<64;t++)N(l[t]);N(1);for(var e=0;e<64;e++)N(h[e])}(),function(t,e){D(65472),D(17),N(8),D(e),D(t),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)}(r.width,r.height),function(){D(65476),D(418),N(0);for(var t=0;t<16;t++)N(A[t+1]);for(var e=0;e<=11;e++)N(M[e]);N(16);for(var r=0;r<16;r++)N(C[r+1]);for(var i=0;i<=161;i++)N(T[i]);N(1);for(var n=0;n<16;n++)N(k[n+1]);for(var a=0;a<=11;a++)N(P[a]);N(17);for(var o=0;o<16;o++)N(R[o+1]);for(var s=0;s<=161;s++)N(L[s])}(),D(65498),D(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);var u=0,d=0,p=0;_=0,y=7,this.encode.displayName=\"_encode_\";for(var m,b,x,S,O,F,z,G,H,q=r.data,W=r.width,Z=r.height,V=4*W,Y=0;Y<Z;){for(m=0;m<V;){for(F=O=V*Y+m,z=-1,G=0,H=0;H<64;H++)F=O+(G=H>>3)*V+(z=4*(7&H)),Y+G>=Z&&(F-=V*(Y+1+G-Z)),m+z>=V&&(F-=m+z-V+4),b=q[F++],x=q[F++],S=q[F++],v[H]=(I[b]+I[x+256>>0]+I[S+512>>0]>>16)-128,w[H]=(I[b+768>>0]+I[x+1024>>0]+I[S+1280>>0]>>16)-128,E[H]=(I[b+1280>>0]+I[x+1536>>0]+I[S+1792>>0]>>16)-128;u=U(v,f,u,i,a),d=U(w,c,d,n,o),p=U(E,c,p,n,o),m+=32}Y+=8}if(y>=0){var K=[];K[1]=y+1,K[0]=(1<<y+1)-1,B(K)}return D(65497),void 0===e?new Uint8Array(g):t.from(g)},function(){(new Date).getTime();r||(r=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)x[e]=t(e)}(),i=O(A,M),n=O(k,P),a=O(C,T),o=O(R,L),function(){for(var t=1,e=2,r=1;r<=15;r++){for(var i=t;i<e;i++)p[32767+i]=r,d[32767+i]=[],d[32767+i][1]=r,d[32767+i][0]=i;for(var n=-(e-1);n<=-t;n++)p[32767+n]=r,d[32767+n]=[],d[32767+n][1]=r,d[32767+n][0]=e-1+n;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)I[t]=19595*t,I[t+256>>0]=38470*t,I[t+512>>0]=7471*t+32768,I[t+768>>0]=-11059*t,I[t+1024>>0]=-21709*t,I[t+1280>>0]=32768*t+8421375,I[t+1536>>0]=-27439*t,I[t+1792>>0]=-5329*t}(),j(r),(new Date).getTime()}()}function i(t,e){return void 0===e&&(e=50),{data:new r(e).encode(t,e),width:t.width,height:t.height}}void 0!==e?e.exports=i:\"undefined\"!=typeof window&&(window[\"jpeg-js\"]=window[\"jpeg-js\"]||{},window[\"jpeg-js\"].encode=i)}).call(this)}).call(this,t(\"buffer\").Buffer)},{buffer:87}],132:[function(t,e,r){(function(r){(function(){var i=t(\"xhr\"),n=function(){},a=t(\"parse-bmfont-ascii\"),o=t(\"parse-bmfont-xml\"),s=t(\"parse-bmfont-binary\"),u=t(\"./lib/is-binary\"),l=t(\"xtend\"),h=self.XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest;e.exports=function(t,e){e=\"function\"==typeof e?e:n,\"string\"==typeof t?t={uri:t}:t||(t={}),t.binary&&(t=function(t){if(h)return l(t,{responseType:\"arraybuffer\"});if(void 0===self.XMLHttpRequest)throw new Error(\"your browser does not support XHR loading\");var e=new self.XMLHttpRequest;return e.overrideMimeType(\"text/plain; charset=x-user-defined\"),l({xhr:e},t)}(t)),i(t,function(i,l,h){if(i)return e(i);if(!/^2/.test(l.statusCode))return e(new Error(\"http status code: \"+l.statusCode));if(!h)return e(new Error(\"no body result\"));var f,c,d=!1;if(f=h,\"[object ArrayBuffer]\"===Object.prototype.toString.call(f)){var p=new Uint8Array(h);h=r.from(p,\"binary\")}u(h)&&(d=!0,\"string\"==typeof h&&(h=r.from(h,\"binary\"))),d||(r.isBuffer(h)&&(h=h.toString(t.encoding)),h=h.trim());try{var m=l.headers[\"content-type\"];c=d?s(h):/json/.test(m)||\"{\"===h.charAt(0)?JSON.parse(h):/xml/.test(m)||\"<\"===h.charAt(0)?o(h):a(h)}catch(t){e(new Error(\"error parsing font \"+t.message)),e=n}e(null,c)})}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./lib/is-binary\":133,buffer:87,\"parse-bmfont-ascii\":154,\"parse-bmfont-binary\":155,\"parse-bmfont-xml\":156,xhr:237,xtend:239}],133:[function(t,e,r){(function(r){(function(){var i=t(\"buffer-equal\"),n=r.from([66,77,70,3]);e.exports=function(t){return\"string\"==typeof t?\"BMF\"===t.substring(0,3):t.length>4&&i(t.slice(0,4),n)}}).call(this)}).call(this,t(\"buffer\").Buffer)},{buffer:87,\"buffer-equal\":86}],134:[function(t,e,r){var i=t(\"path\"),n=t(\"fs\"),a=parseInt(\"0777\",8);function o(t,e,r,s){\"function\"==typeof e?(r=e,e={}):e&&\"object\"==typeof e||(e={mode:e});var u=e.mode,l=e.fs||n;void 0===u&&(u=a),s||(s=null);var h=r||function(){};t=i.resolve(t),l.mkdir(t,u,function(r){if(!r)return h(null,s=s||t);switch(r.code){case\"ENOENT\":if(i.dirname(t)===t)return h(r);o(i.dirname(t),e,function(r,i){r?h(r,i):o(t,e,h,i)});break;default:l.stat(t,function(t,e){t||!e.isDirectory()?h(r,s):h(null,s)})}})}e.exports=o.mkdirp=o.mkdirP=o,o.sync=function t(e,r,o){r&&\"object\"==typeof r||(r={mode:r});var s=r.mode,u=r.fs||n;void 0===s&&(s=a),o||(o=null),e=i.resolve(e);try{u.mkdirSync(e,s),o=o||e}catch(n){switch(n.code){case\"ENOENT\":o=t(i.dirname(e),r,o),t(e,r,o);break;default:var l;try{l=u.statSync(e)}catch(t){throw n}if(!l.isDirectory())throw n}}return o}},{fs:85,path:159}],135:[function(t,e,r){r.BIG5_CHINESE_CI=1,r.LATIN2_CZECH_CS=2,r.DEC8_SWEDISH_CI=3,r.CP850_GENERAL_CI=4,r.LATIN1_GERMAN1_CI=5,r.HP8_ENGLISH_CI=6,r.KOI8R_GENERAL_CI=7,r.LATIN1_SWEDISH_CI=8,r.LATIN2_GENERAL_CI=9,r.SWE7_SWEDISH_CI=10,r.ASCII_GENERAL_CI=11,r.UJIS_JAPANESE_CI=12,r.SJIS_JAPANESE_CI=13,r.CP1251_BULGARIAN_CI=14,r.LATIN1_DANISH_CI=15,r.HEBREW_GENERAL_CI=16,r.TIS620_THAI_CI=18,r.EUCKR_KOREAN_CI=19,r.LATIN7_ESTONIAN_CS=20,r.LATIN2_HUNGARIAN_CI=21,r.KOI8U_GENERAL_CI=22,r.CP1251_UKRAINIAN_CI=23,r.GB2312_CHINESE_CI=24,r.GREEK_GENERAL_CI=25,r.CP1250_GENERAL_CI=26,r.LATIN2_CROATIAN_CI=27,r.GBK_CHINESE_CI=28,r.CP1257_LITHUANIAN_CI=29,r.LATIN5_TURKISH_CI=30,r.LATIN1_GERMAN2_CI=31,r.ARMSCII8_GENERAL_CI=32,r.UTF8_GENERAL_CI=33,r.CP1250_CZECH_CS=34,r.UCS2_GENERAL_CI=35,r.CP866_GENERAL_CI=36,r.KEYBCS2_GENERAL_CI=37,r.MACCE_GENERAL_CI=38,r.MACROMAN_GENERAL_CI=39,r.CP852_GENERAL_CI=40,r.LATIN7_GENERAL_CI=41,r.LATIN7_GENERAL_CS=42,r.MACCE_BIN=43,r.CP1250_CROATIAN_CI=44,r.UTF8MB4_GENERAL_CI=45,r.UTF8MB4_BIN=46,r.LATIN1_BIN=47,r.LATIN1_GENERAL_CI=48,r.LATIN1_GENERAL_CS=49,r.CP1251_BIN=50,r.CP1251_GENERAL_CI=51,r.CP1251_GENERAL_CS=52,r.MACROMAN_BIN=53,r.UTF16_GENERAL_CI=54,r.UTF16_BIN=55,r.UTF16LE_GENERAL_CI=56,r.CP1256_GENERAL_CI=57,r.CP1257_BIN=58,r.CP1257_GENERAL_CI=59,r.UTF32_GENERAL_CI=60,r.UTF32_BIN=61,r.UTF16LE_BIN=62,r.BINARY=63,r.ARMSCII8_BIN=64,r.ASCII_BIN=65,r.CP1250_BIN=66,r.CP1256_BIN=67,r.CP866_BIN=68,r.DEC8_BIN=69,r.GREEK_BIN=70,r.HEBREW_BIN=71,r.HP8_BIN=72,r.KEYBCS2_BIN=73,r.KOI8R_BIN=74,r.KOI8U_BIN=75,r.LATIN2_BIN=77,r.LATIN5_BIN=78,r.LATIN7_BIN=79,r.CP850_BIN=80,r.CP852_BIN=81,r.SWE7_BIN=82,r.UTF8_BIN=83,r.BIG5_BIN=84,r.EUCKR_BIN=85,r.GB2312_BIN=86,r.GBK_BIN=87,r.SJIS_BIN=88,r.TIS620_BIN=89,r.UCS2_BIN=90,r.UJIS_BIN=91,r.GEOSTD8_GENERAL_CI=92,r.GEOSTD8_BIN=93,r.LATIN1_SPANISH_CI=94,r.CP932_JAPANESE_CI=95,r.CP932_BIN=96,r.EUCJPMS_JAPANESE_CI=97,r.EUCJPMS_BIN=98,r.CP1250_POLISH_CI=99,r.UTF16_UNICODE_CI=101,r.UTF16_ICELANDIC_CI=102,r.UTF16_LATVIAN_CI=103,r.UTF16_ROMANIAN_CI=104,r.UTF16_SLOVENIAN_CI=105,r.UTF16_POLISH_CI=106,r.UTF16_ESTONIAN_CI=107,r.UTF16_SPANISH_CI=108,r.UTF16_SWEDISH_CI=109,r.UTF16_TURKISH_CI=110,r.UTF16_CZECH_CI=111,r.UTF16_DANISH_CI=112,r.UTF16_LITHUANIAN_CI=113,r.UTF16_SLOVAK_CI=114,r.UTF16_SPANISH2_CI=115,r.UTF16_ROMAN_CI=116,r.UTF16_PERSIAN_CI=117,r.UTF16_ESPERANTO_CI=118,r.UTF16_HUNGARIAN_CI=119,r.UTF16_SINHALA_CI=120,r.UTF16_GERMAN2_CI=121,r.UTF16_CROATIAN_MYSQL561_CI=122,r.UTF16_UNICODE_520_CI=123,r.UTF16_VIETNAMESE_CI=124,r.UCS2_UNICODE_CI=128,r.UCS2_ICELANDIC_CI=129,r.UCS2_LATVIAN_CI=130,r.UCS2_ROMANIAN_CI=131,r.UCS2_SLOVENIAN_CI=132,r.UCS2_POLISH_CI=133,r.UCS2_ESTONIAN_CI=134,r.UCS2_SPANISH_CI=135,r.UCS2_SWEDISH_CI=136,r.UCS2_TURKISH_CI=137,r.UCS2_CZECH_CI=138,r.UCS2_DANISH_CI=139,r.UCS2_LITHUANIAN_CI=140,r.UCS2_SLOVAK_CI=141,r.UCS2_SPANISH2_CI=142,r.UCS2_ROMAN_CI=143,r.UCS2_PERSIAN_CI=144,r.UCS2_ESPERANTO_CI=145,r.UCS2_HUNGARIAN_CI=146,r.UCS2_SINHALA_CI=147,r.UCS2_GERMAN2_CI=148,r.UCS2_CROATIAN_MYSQL561_CI=149,r.UCS2_UNICODE_520_CI=150,r.UCS2_VIETNAMESE_CI=151,r.UCS2_GENERAL_MYSQL500_CI=159,r.UTF32_UNICODE_CI=160,r.UTF32_ICELANDIC_CI=161,r.UTF32_LATVIAN_CI=162,r.UTF32_ROMANIAN_CI=163,r.UTF32_SLOVENIAN_CI=164,r.UTF32_POLISH_CI=165,r.UTF32_ESTONIAN_CI=166,r.UTF32_SPANISH_CI=167,r.UTF32_SWEDISH_CI=168,r.UTF32_TURKISH_CI=169,r.UTF32_CZECH_CI=170,r.UTF32_DANISH_CI=171,r.UTF32_LITHUANIAN_CI=172,r.UTF32_SLOVAK_CI=173,r.UTF32_SPANISH2_CI=174,r.UTF32_ROMAN_CI=175,r.UTF32_PERSIAN_CI=176,r.UTF32_ESPERANTO_CI=177,r.UTF32_HUNGARIAN_CI=178,r.UTF32_SINHALA_CI=179,r.UTF32_GERMAN2_CI=180,r.UTF32_CROATIAN_MYSQL561_CI=181,r.UTF32_UNICODE_520_CI=182,r.UTF32_VIETNAMESE_CI=183,r.UTF8_UNICODE_CI=192,r.UTF8_ICELANDIC_CI=193,r.UTF8_LATVIAN_CI=194,r.UTF8_ROMANIAN_CI=195,r.UTF8_SLOVENIAN_CI=196,r.UTF8_POLISH_CI=197,r.UTF8_ESTONIAN_CI=198,r.UTF8_SPANISH_CI=199,r.UTF8_SWEDISH_CI=200,r.UTF8_TURKISH_CI=201,r.UTF8_CZECH_CI=202,r.UTF8_DANISH_CI=203,r.UTF8_LITHUANIAN_CI=204,r.UTF8_SLOVAK_CI=205,r.UTF8_SPANISH2_CI=206,r.UTF8_ROMAN_CI=207,r.UTF8_PERSIAN_CI=208,r.UTF8_ESPERANTO_CI=209,r.UTF8_HUNGARIAN_CI=210,r.UTF8_SINHALA_CI=211,r.UTF8_GERMAN2_CI=212,r.UTF8_CROATIAN_MYSQL561_CI=213,r.UTF8_UNICODE_520_CI=214,r.UTF8_VIETNAMESE_CI=215,r.UTF8_GENERAL_MYSQL500_CI=223,r.UTF8MB4_UNICODE_CI=224,r.UTF8MB4_ICELANDIC_CI=225,r.UTF8MB4_LATVIAN_CI=226,r.UTF8MB4_ROMANIAN_CI=227,r.UTF8MB4_SLOVENIAN_CI=228,r.UTF8MB4_POLISH_CI=229,r.UTF8MB4_ESTONIAN_CI=230,r.UTF8MB4_SPANISH_CI=231,r.UTF8MB4_SWEDISH_CI=232,r.UTF8MB4_TURKISH_CI=233,r.UTF8MB4_CZECH_CI=234,r.UTF8MB4_DANISH_CI=235,r.UTF8MB4_LITHUANIAN_CI=236,r.UTF8MB4_SLOVAK_CI=237,r.UTF8MB4_SPANISH2_CI=238,r.UTF8MB4_ROMAN_CI=239,r.UTF8MB4_PERSIAN_CI=240,r.UTF8MB4_ESPERANTO_CI=241,r.UTF8MB4_HUNGARIAN_CI=242,r.UTF8MB4_SINHALA_CI=243,r.UTF8MB4_GERMAN2_CI=244,r.UTF8MB4_CROATIAN_MYSQL561_CI=245,r.UTF8MB4_UNICODE_520_CI=246,r.UTF8MB4_VIETNAMESE_CI=247,r.UTF8_GENERAL50_CI=253,r.ARMSCII8=r.ARMSCII8_GENERAL_CI,r.ASCII=r.ASCII_GENERAL_CI,r.BIG5=r.BIG5_CHINESE_CI,r.BINARY=r.BINARY,r.CP1250=r.CP1250_GENERAL_CI,r.CP1251=r.CP1251_GENERAL_CI,r.CP1256=r.CP1256_GENERAL_CI,r.CP1257=r.CP1257_GENERAL_CI,r.CP866=r.CP866_GENERAL_CI,r.CP850=r.CP850_GENERAL_CI,r.CP852=r.CP852_GENERAL_CI,r.CP932=r.CP932_JAPANESE_CI,r.DEC8=r.DEC8_SWEDISH_CI,r.EUCJPMS=r.EUCJPMS_JAPANESE_CI,r.EUCKR=r.EUCKR_KOREAN_CI,r.GB2312=r.GB2312_CHINESE_CI,r.GBK=r.GBK_CHINESE_CI,r.GEOSTD8=r.GEOSTD8_GENERAL_CI,r.GREEK=r.GREEK_GENERAL_CI,r.HEBREW=r.HEBREW_GENERAL_CI,r.HP8=r.HP8_ENGLISH_CI,r.KEYBCS2=r.KEYBCS2_GENERAL_CI,r.KOI8R=r.KOI8R_GENERAL_CI,r.KOI8U=r.KOI8U_GENERAL_CI,r.LATIN1=r.LATIN1_SWEDISH_CI,r.LATIN2=r.LATIN2_GENERAL_CI,r.LATIN5=r.LATIN5_TURKISH_CI,r.LATIN7=r.LATIN7_GENERAL_CI,r.MACCE=r.MACCE_GENERAL_CI,r.MACROMAN=r.MACROMAN_GENERAL_CI,r.SJIS=r.SJIS_JAPANESE_CI,r.SWE7=r.SWE7_SWEDISH_CI,r.TIS620=r.TIS620_THAI_CI,r.UCS2=r.UCS2_GENERAL_CI,r.UJIS=r.UJIS_JAPANESE_CI,r.UTF16=r.UTF16_GENERAL_CI,r.UTF16LE=r.UTF16LE_GENERAL_CI,r.UTF8=r.UTF8_GENERAL_CI,r.UTF8MB4=r.UTF8MB4_GENERAL_CI,r.UTF32=r.UTF32_GENERAL_CI},{}],136:[function(t,e,r){\"use strict\";var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",\"5\"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e[\"_\"+String.fromCharCode(r)]=r;if(\"0123456789\"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(\"\"))return!1;var i={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(t){i[t]=t}),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},i)).join(\"\")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,o,s=function(t){if(null==t)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))n.call(r,l)&&(s[l]=r[l]);if(i){o=i(r);for(var h=0;h<o.length;h++)a.call(r,o[h])&&(s[o[h]]=r[o[h]])}}return s}},{}],137:[function(t,e,r){\"use strict\";function i(t,e,r,i){for(var n=t[e++],a=1<<n,o=a+1,s=o+1,u=n+1,l=(1<<u)-1,h=0,f=0,c=0,d=t[e++],p=new Int32Array(4096),m=null;;){for(;h<16&&0!==d;)f|=t[e++]<<h,h+=8,1===d?d=t[e++]:--d;if(h<u)break;var b=f&l;if(f>>=u,h-=u,b!==a){if(b===o)break;for(var g=b<s?b:m,_=0,y=g;y>a;)y=p[y]>>8,++_;var v=y;if(c+_+(g!==b?1:0)>i)return void console.log(\"Warning, gif stream longer than expected.\");r[c++]=v;var w=c+=_;for(g!==b&&(r[c++]=v),y=g;_--;)y=p[y],r[--w]=255&y,y>>=8;null!==m&&s<4096&&(p[s++]=m<<8|v,s>=l+1&&u<12&&(++u,l=l<<1|1)),m=b}else s=o+1,l=(1<<(u=n+1))-1,m=null}return c!==i&&console.log(\"Warning, gif stream shorter than expected.\"),r}try{r.GifWriter=function(t,e,r,i){var n=0,a=void 0===(i=void 0===i?{}:i).loop?null:i.loop,o=void 0===i.palette?null:i.palette;if(e<=0||r<=0||e>65535||r>65535)throw new Error(\"Width/Height invalid.\");function s(t){var e=t.length;if(e<2||e>256||e&e-1)throw new Error(\"Invalid code/color length, must be power of 2 and 2 .. 256.\");return e}t[n++]=71,t[n++]=73,t[n++]=70,t[n++]=56,t[n++]=57,t[n++]=97;var u=0,l=0;if(null!==o){for(var h=s(o);h>>=1;)++u;if(h=1<<u,--u,void 0!==i.background){if((l=i.background)>=h)throw new Error(\"Background index out of range.\");if(0===l)throw new Error(\"Background index explicitly passed as 0.\")}}if(t[n++]=255&e,t[n++]=e>>8&255,t[n++]=255&r,t[n++]=r>>8&255,t[n++]=(null!==o?128:0)|u,t[n++]=l,t[n++]=0,null!==o)for(var f=0,c=o.length;f<c;++f){var d=o[f];t[n++]=d>>16&255,t[n++]=d>>8&255,t[n++]=255&d}if(null!==a){if(a<0||a>65535)throw new Error(\"Loop count invalid.\");t[n++]=33,t[n++]=255,t[n++]=11,t[n++]=78,t[n++]=69,t[n++]=84,t[n++]=83,t[n++]=67,t[n++]=65,t[n++]=80,t[n++]=69,t[n++]=50,t[n++]=46,t[n++]=48,t[n++]=3,t[n++]=1,t[n++]=255&a,t[n++]=a>>8&255,t[n++]=0}var p=!1;this.addFrame=function(e,r,i,a,u,l){if(!0===p&&(--n,p=!1),l=void 0===l?{}:l,e<0||r<0||e>65535||r>65535)throw new Error(\"x/y invalid.\");if(i<=0||a<=0||i>65535||a>65535)throw new Error(\"Width/Height invalid.\");if(u.length<i*a)throw new Error(\"Not enough pixels for the frame size.\");var h=!0,f=l.palette;if(null==f&&(h=!1,f=o),null==f)throw new Error(\"Must supply either a local or global palette.\");for(var c=s(f),d=0;c>>=1;)++d;c=1<<d;var m=void 0===l.delay?0:l.delay,b=void 0===l.disposal?0:l.disposal;if(b<0||b>3)throw new Error(\"Disposal out of range.\");var g=!1,_=0;if(void 0!==l.transparent&&null!==l.transparent&&(g=!0,(_=l.transparent)<0||_>=c))throw new Error(\"Transparent color index.\");if((0!==b||g||0!==m)&&(t[n++]=33,t[n++]=249,t[n++]=4,t[n++]=b<<2|(!0===g?1:0),t[n++]=255&m,t[n++]=m>>8&255,t[n++]=_,t[n++]=0),t[n++]=44,t[n++]=255&e,t[n++]=e>>8&255,t[n++]=255&r,t[n++]=r>>8&255,t[n++]=255&i,t[n++]=i>>8&255,t[n++]=255&a,t[n++]=a>>8&255,t[n++]=!0===h?128|d-1:0,!0===h)for(var y=0,v=f.length;y<v;++y){var w=f[y];t[n++]=w>>16&255,t[n++]=w>>8&255,t[n++]=255&w}return n=function(t,e,r,i){t[e++]=r;var n=e++,a=1<<r,o=a-1,s=a+1,u=s+1,l=r+1,h=0,f=0;function c(r){for(;h>=r;)t[e++]=255&f,f>>=8,h-=8,e===n+256&&(t[n]=255,n=e++)}function d(t){f|=t<<h,h+=l,c(8)}var p=i[0]&o,m={};d(a);for(var b=1,g=i.length;b<g;++b){var _=i[b]&o,y=p<<8|_,v=m[y];if(void 0===v){for(f|=p<<h,h+=l;h>=8;)t[e++]=255&f,f>>=8,h-=8,e===n+256&&(t[n]=255,n=e++);4096===u?(d(a),u=s+1,l=r+1,m={}):(u>=1<<l&&++l,m[y]=u++),p=_}else p=v}return d(p),d(s),c(1),n+1===e?t[n]=0:(t[n]=e-n-1,t[e++]=0),e}(t,n,d<2?2:d,u)},this.end=function(){return!1===p&&(t[n++]=59,p=!0),n},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return n},this.setOutputBufferPosition=function(t){n=t}},r.GifReader=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error(\"Invalid GIF 87a/89a header.\");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],o=a>>7,s=1<<1+(7&a);t[e++],t[e++];var u=null,l=null;o&&(u=e,l=s,e+=3*s);var h=!0,f=[],c=0,d=null,p=0,m=null;for(this.width=r,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error(\"Invalid block size\");if(0===C)break;e+=C}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error(\"Invalid graphics extension block.\");var b=t[e++];c=t[e++]|t[e++]<<8,d=t[e++],0==(1&b)&&(d=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error(\"Invalid block size\");if(0===C)break;e+=C}break;default:throw new Error(\"Unknown graphic control label: 0x\"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++],E=w>>6&1,x=1<<1+(7&w),I=u,S=l,A=!1;w>>7&&(A=!0,I=e,S=x,e+=3*x);var M=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error(\"Invalid block size\");if(0===C)break;e+=C}f.push({x:g,y:_,width:y,height:v,has_local_palette:A,palette_offset:I,palette_size:S,data_offset:M,data_length:e-M,transparent_index:d,interlaced:!!E,delay:c,disposal:p});break;case 59:h=!1;break;default:throw new Error(\"Unknown gif block: 0x\"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return m},this.frameInfo=function(t){if(t<0||t>=f.length)throw new Error(\"Frame index out of range.\");return f[t]},this.decodeAndBlitFrameBGRA=function(e,n){var a=this.frameInfo(e),o=a.width*a.height,s=new Uint8Array(o);i(t,a.data_offset,s,o);var u=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var h=a.width,f=r-h,c=h,d=4*(a.y*r+a.x),p=4*((a.y+a.height)*r+a.x),m=d,b=4*f;!0===a.interlaced&&(b+=4*r*7);for(var g=8,_=0,y=s.length;_<y;++_){var v=s[_];if(0===c&&(c=h,(m+=b)>=p&&(b=4*f+4*r*(g-1),m=d+(h+f)*(g<<1),g>>=1)),v===l)m+=4;else{var w=t[u+3*v],E=t[u+3*v+1],x=t[u+3*v+2];n[m++]=x,n[m++]=E,n[m++]=w,n[m++]=255}--c}},this.decodeAndBlitFrameRGBA=function(e,n){var a=this.frameInfo(e),o=a.width*a.height,s=new Uint8Array(o);i(t,a.data_offset,s,o);var u=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var h=a.width,f=r-h,c=h,d=4*(a.y*r+a.x),p=4*((a.y+a.height)*r+a.x),m=d,b=4*f;!0===a.interlaced&&(b+=4*r*7);for(var g=8,_=0,y=s.length;_<y;++_){var v=s[_];if(0===c&&(c=h,(m+=b)>=p&&(b=4*f+4*r*(g-1),m=d+(h+f)*(g<<1),g>>=1)),v===l)m+=4;else{var w=t[u+3*v],E=t[u+3*v+1],x=t[u+3*v+2];n[m++]=w,n[m++]=E,n[m++]=x,n[m++]=255}--c}}}}catch(t){}},{}],138:[function(t,e,r){\"use strict\";var i={};(0,t(\"./lib/utils/common\").assign)(i,t(\"./lib/deflate\"),t(\"./lib/inflate\"),t(\"./lib/zlib/constants\")),e.exports=i},{\"./lib/deflate\":139,\"./lib/inflate\":140,\"./lib/utils/common\":141,\"./lib/zlib/constants\":144}],139:[function(t,e,r){\"use strict\";var i=t(\"./zlib/deflate\"),n=t(\"./utils/common\"),a=t(\"./utils/strings\"),o=t(\"./zlib/messages\"),s=t(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,h=-1,f=0,c=8;function d(t){if(!(this instanceof d))return new d(t);this.options=n.assign({level:h,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:\"\"},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==l)throw new Error(o[r]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p=\"string\"==typeof e.dictionary?a.string2buf(e.dictionary):\"[object ArrayBuffer]\"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=i.deflateSetDictionary(this.strm,p))!==l)throw new Error(o[r]);this._dict_set=!0}}function p(t,e){var r=new d(e);if(r.push(t,!0),r.err)throw r.msg||o[r.err];return r.result}d.prototype.push=function(t,e){var r,o,s=this.strm,h=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,\"string\"==typeof t?s.input=a.string2buf(t):\"[object ArrayBuffer]\"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new n.Buf8(h),s.next_out=0,s.avail_out=h),1!==(r=i.deflate(s,o))&&r!==l)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||(\"string\"===this.options.to?this.onData(a.buf2binstring(n.shrinkBuf(s.output,s.next_out))):this.onData(n.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==r);return 4===o?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==o||(this.onEnd(l),s.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=d,r.deflate=p,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},{\"./utils/common\":141,\"./utils/strings\":142,\"./zlib/deflate\":146,\"./zlib/messages\":151,\"./zlib/zstream\":153}],140:[function(t,e,r){\"use strict\";var i=t(\"./zlib/inflate\"),n=t(\"./utils/common\"),a=t(\"./utils/strings\"),o=t(\"./zlib/constants\"),s=t(\"./zlib/messages\"),u=t(\"./zlib/zstream\"),l=t(\"./zlib/gzheader\"),h=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:\"\"},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,e.windowBits);if(r!==o.Z_OK)throw new Error(s[r]);if(this.header=new l,i.inflateGetHeader(this.strm,this.header),e.dictionary&&(\"string\"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):\"[object ArrayBuffer]\"===h.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=i.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(s[r])}function c(t,e){var r=new f(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}f.prototype.push=function(t,e){var r,s,u,l,f,c=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,\"string\"==typeof t?c.input=a.binstring2buf(t):\"[object ArrayBuffer]\"===h.call(t)?c.input=new Uint8Array(t):c.input=t,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new n.Buf8(d),c.next_out=0,c.avail_out=d),(r=i.inflate(c,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(r=i.inflateSetDictionary(this.strm,p)),r===o.Z_BUF_ERROR&&!0===m&&(r=o.Z_OK,m=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;c.next_out&&(0!==c.avail_out&&r!==o.Z_STREAM_END&&(0!==c.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(u=a.utf8border(c.output,c.next_out),l=c.next_out-u,f=a.buf2string(c.output,u),c.next_out=l,c.avail_out=d-l,l&&n.arraySet(c.output,c.output,u,l,0),this.onData(f)):this.onData(n.shrinkBuf(c.output,c.next_out)))),0===c.avail_in&&0===c.avail_out&&(m=!0)}while((c.avail_in>0||0===c.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),c.avail_out=0,!0)},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===o.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=f,r.inflate=c,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},r.ungzip=c},{\"./utils/common\":141,\"./utils/strings\":142,\"./zlib/constants\":144,\"./zlib/gzheader\":147,\"./zlib/inflate\":149,\"./zlib/messages\":151,\"./zlib/zstream\":153}],141:[function(t,e,r){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var i in r)n(r,i)&&(t[i]=r[i])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var a={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var a=0;a<i;a++)t[n+a]=e[r+a]},flattenChunks:function(t){var e,r,i,n,a,o;for(i=0,e=0,r=t.length;e<r;e++)i+=t[e].length;for(o=new Uint8Array(i),n=0,e=0,r=t.length;e<r;e++)a=t[e],o.set(a,n),n+=a.length;return o}},o={arraySet:function(t,e,r,i,n){for(var a=0;a<i;a++)t[n+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,a)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(i)},{}],142:[function(t,e,r){\"use strict\";var i=t(\"./common\"),n=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r=\"\",o=0;o<e;o++)r+=String.fromCharCode(t[o]);return r}o[254]=o[254]=1,r.string2buf=function(t){var e,r,n,a,o,s=t.length,u=0;for(a=0;a<s;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new i.Buf8(u),o=0,a=0;o<u;a++)55296==(64512&(r=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=t.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},r.buf2binstring=function(t){return u(t,t.length)},r.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,n,a,s=e||t.length,l=new Array(2*s);for(i=0,r=0;r<s;)if((n=t[r++])<128)l[i++]=n;else if((a=o[n])>4)l[i++]=65533,r+=a-1;else{for(n&=2===a?31:3===a?15:7;a>1&&r<s;)n=n<<6|63&t[r++],a--;a>1?l[i++]=65533:n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return u(l,i)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+o[t[r]]>e?r:e}},{\"./common\":141}],143:[function(t,e,r){\"use strict\";e.exports=function(t,e,r,i){for(var n=65535&t|0,a=t>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(n=n+e[i++]|0)|0}while(--o);n%=65521,a%=65521}return n|a<<16|0}},{}],144:[function(t,e,r){\"use strict\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],145:[function(t,e,r){\"use strict\";var i=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,n){var a=i,o=n+r;t^=-1;for(var s=n;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},{}],146:[function(t,e,r){\"use strict\";var i,n=t(\"../utils/common\"),a=t(\"./trees\"),o=t(\"./adler32\"),s=t(\"./crc32\"),u=t(\"./messages\"),l=0,h=1,f=3,c=4,d=5,p=0,m=1,b=-2,g=-3,_=-5,y=-1,v=1,w=2,E=3,x=4,I=0,S=2,A=8,M=9,C=15,T=8,k=286,P=30,R=19,L=2*k+1,O=15,B=3,N=258,D=N+B+1,U=32,j=42,F=69,z=73,G=91,H=103,q=113,W=666,Z=1,V=2,Y=3,K=4,X=3;function J(t,e){return t.msg=u[e],e}function Q(t){return(t<<1)-(t>4?9:0)}function $(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(n.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function et(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function rt(t,e){t.pending_buf[t.pending++]=e}function it(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function nt(t,e){var r,i,n=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-D?t.strstart-(t.w_size-D):0,l=t.window,h=t.w_mask,f=t.prev,c=t.strstart+N,d=l[a+o-1],p=l[a+o];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(r=e)+o]===p&&l[r+o-1]===d&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do{}while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<c);if(i=N-(c-a),a=c-N,i>o){if(t.match_start=e,o=i,i>=s)break;d=l[a+o-1],p=l[a+o]}}}while((e=f[e&h])>u&&0!=--n);return o<=t.lookahead?o:t.lookahead}function at(t){var e,r,i,a,u,l,h,f,c,d,p=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-D)){n.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=r=t.hash_size;do{i=t.head[--e],t.head[e]=i>=p?i-p:0}while(--r);e=r=p;do{i=t.prev[--e],t.prev[e]=i>=p?i-p:0}while(--r);a+=p}if(0===t.strm.avail_in)break;if(l=t.strm,h=t.window,f=t.strstart+t.lookahead,c=a,d=void 0,(d=l.avail_in)>c&&(d=c),r=0===d?0:(l.avail_in-=d,n.arraySet(h,l.input,l.next_in,d,f),1===l.state.wrap?l.adler=o(l.adler,h,d,f):2===l.state.wrap&&(l.adler=s(l.adler,h,d,f)),l.next_in+=d,l.total_in+=d,d),t.lookahead+=r,t.lookahead+t.insert>=B)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+B-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<B)););}while(t.lookahead<D&&0!==t.strm.avail_in)}function ot(t,e){for(var r,i;;){if(t.lookahead<D){if(at(t),t.lookahead<D&&e===l)return Z;if(0===t.lookahead)break}if(r=0,t.lookahead>=B&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-D&&(t.match_length=nt(t,r)),t.match_length>=B)if(i=a._tr_tally(t,t.strstart-t.match_start,t.match_length-B),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=B){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(et(t,!1),0===t.strm.avail_out))return Z}return t.insert=t.strstart<B-1?t.strstart:B-1,e===c?(et(t,!0),0===t.strm.avail_out?Y:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Z:V}function st(t,e){for(var r,i,n;;){if(t.lookahead<D){if(at(t),t.lookahead<D&&e===l)return Z;if(0===t.lookahead)break}if(r=0,t.lookahead>=B&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=B-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-D&&(t.match_length=nt(t,r),t.match_length<=5&&(t.strategy===v||t.match_length===B&&t.strstart-t.match_start>4096)&&(t.match_length=B-1)),t.prev_length>=B&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-B,i=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-B),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=B-1,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return Z}else if(t.match_available){if((i=a._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Z}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<B-1?t.strstart:B-1,e===c?(et(t,!0),0===t.strm.avail_out?Y:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Z:V}function ut(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function lt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*L),this.dyn_dtree=new n.Buf16(2*(2*P+1)),this.bl_tree=new n.Buf16(2*(2*R+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(O+1),this.heap=new n.Buf16(2*k+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*k+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ht(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=S,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?j:q,t.adler=2===e.wrap?0:1,e.last_flush=l,a._tr_init(e),p):J(t,b)}function ft(t){var e,r=ht(t);return r===p&&((e=t.state).window_size=2*e.w_size,$(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=B-1,e.match_available=0,e.ins_h=0),r}function ct(t,e,r,i,a,o){if(!t)return b;var s=1;if(e===y&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>M||r!==A||i<8||i>15||e<0||e>9||o<0||o>x)return J(t,b);8===i&&(i=9);var u=new lt;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+B-1)/B),u.window=new n.Buf8(2*u.w_size),u.head=new n.Buf16(u.hash_size),u.prev=new n.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new n.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=o,u.method=r,ft(t)}i=[new ut(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),0===t.lookahead&&e===l)return Z;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,et(t,!1),0===t.strm.avail_out))return Z;if(t.strstart-t.block_start>=t.w_size-D&&(et(t,!1),0===t.strm.avail_out))return Z}return t.insert=0,e===c?(et(t,!0),0===t.strm.avail_out?Y:K):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),Z)}),new ut(4,4,8,4,ot),new ut(4,5,16,8,ot),new ut(4,6,32,32,ot),new ut(4,4,16,16,st),new ut(8,16,32,32,st),new ut(8,16,128,128,st),new ut(8,32,128,256,st),new ut(32,128,258,1024,st),new ut(32,258,258,4096,st)],r.deflateInit=function(t,e){return ct(t,e,A,C,T,I)},r.deflateInit2=ct,r.deflateReset=ft,r.deflateResetKeep=ht,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?b:(t.state.gzhead=e,p):b},r.deflate=function(t,e){var r,n,o,u;if(!t||!t.state||e>d||e<0)return t?J(t,b):b;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||n.status===W&&e!==c)return J(t,0===t.avail_out?_:b);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===j)if(2===n.wrap)t.adler=0,rt(n,31),rt(n,139),rt(n,8),n.gzhead?(rt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),rt(n,255&n.gzhead.time),rt(n,n.gzhead.time>>8&255),rt(n,n.gzhead.time>>16&255),rt(n,n.gzhead.time>>24&255),rt(n,9===n.level?2:n.strategy>=w||n.level<2?4:0),rt(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(rt(n,255&n.gzhead.extra.length),rt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=s(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=F):(rt(n,0),rt(n,0),rt(n,0),rt(n,0),rt(n,0),rt(n,9===n.level?2:n.strategy>=w||n.level<2?4:0),rt(n,X),n.status=q);else{var g=A+(n.w_bits-8<<4)<<8;g|=(n.strategy>=w||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(g|=U),g+=31-g%31,n.status=q,it(n,g),0!==n.strstart&&(it(n,t.adler>>>16),it(n,65535&t.adler)),t.adler=1}if(n.status===F)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),tt(t),o=n.pending,n.pending!==n.pending_buf_size));)rt(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=z)}else n.status=z;if(n.status===z)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),tt(t),o=n.pending,n.pending===n.pending_buf_size)){u=1;break}u=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,rt(n,u)}while(0!==u);n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),0===u&&(n.gzindex=0,n.status=G)}else n.status=G;if(n.status===G)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),tt(t),o=n.pending,n.pending===n.pending_buf_size)){u=1;break}u=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,rt(n,u)}while(0!==u);n.gzhead.hcrc&&n.pending>o&&(t.adler=s(t.adler,n.pending_buf,n.pending-o,o)),0===u&&(n.status=H)}else n.status=H;if(n.status===H&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&tt(t),n.pending+2<=n.pending_buf_size&&(rt(n,255&t.adler),rt(n,t.adler>>8&255),t.adler=0,n.status=q)):n.status=q),0!==n.pending){if(tt(t),0===t.avail_out)return n.last_flush=-1,p}else if(0===t.avail_in&&Q(e)<=Q(r)&&e!==c)return J(t,_);if(n.status===W&&0!==t.avail_in)return J(t,_);if(0!==t.avail_in||0!==n.lookahead||e!==l&&n.status!==W){var y=n.strategy===w?function(t,e){for(var r;;){if(0===t.lookahead&&(at(t),0===t.lookahead)){if(e===l)return Z;break}if(t.match_length=0,r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(et(t,!1),0===t.strm.avail_out))return Z}return t.insert=0,e===c?(et(t,!0),0===t.strm.avail_out?Y:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Z:V}(n,e):n.strategy===E?function(t,e){for(var r,i,n,o,s=t.window;;){if(t.lookahead<=N){if(at(t),t.lookahead<=N&&e===l)return Z;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=B&&t.strstart>0&&(i=s[n=t.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n]){o=t.strstart+N;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<o);t.match_length=N-(o-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=B?(r=a._tr_tally(t,1,t.match_length-B),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(et(t,!1),0===t.strm.avail_out))return Z}return t.insert=0,e===c?(et(t,!0),0===t.strm.avail_out?Y:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?Z:V}(n,e):i[n.level].func(n,e);if(y!==Y&&y!==K||(n.status=W),y===Z||y===Y)return 0===t.avail_out&&(n.last_flush=-1),p;if(y===V&&(e===h?a._tr_align(n):e!==d&&(a._tr_stored_block(n,0,0,!1),e===f&&($(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),tt(t),0===t.avail_out))return n.last_flush=-1,p}return e!==c?p:n.wrap<=0?m:(2===n.wrap?(rt(n,255&t.adler),rt(n,t.adler>>8&255),rt(n,t.adler>>16&255),rt(n,t.adler>>24&255),rt(n,255&t.total_in),rt(n,t.total_in>>8&255),rt(n,t.total_in>>16&255),rt(n,t.total_in>>24&255)):(it(n,t.adler>>>16),it(n,65535&t.adler)),tt(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?p:m)},r.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==j&&e!==F&&e!==z&&e!==G&&e!==H&&e!==q&&e!==W?J(t,b):(t.state=null,e===q?J(t,g):p):b},r.deflateSetDictionary=function(t,e){var r,i,a,s,u,l,h,f,c=e.length;if(!t||!t.state)return b;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==j||r.lookahead)return b;for(1===s&&(t.adler=o(t.adler,e,c,0)),r.wrap=0,c>=r.w_size&&(0===s&&($(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new n.Buf8(r.w_size),n.arraySet(f,e,c-r.w_size,r.w_size,0),e=f,c=r.w_size),u=t.avail_in,l=t.next_in,h=t.input,t.avail_in=c,t.next_in=0,t.input=e,at(r);r.lookahead>=B;){i=r.strstart,a=r.lookahead-(B-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+B-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++}while(--a);r.strstart=i,r.lookahead=B-1,at(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=B-1,r.match_available=0,t.next_in=l,t.input=h,t.avail_in=u,r.wrap=s,p},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":141,\"./adler32\":143,\"./crc32\":145,\"./messages\":151,\"./trees\":152}],147:[function(t,e,r){\"use strict\";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],148:[function(t,e,r){\"use strict\";e.exports=function(t,e){var r,i,n,a,o,s,u,l,h,f,c,d,p,m,b,g,_,y,v,w,E,x,I,S,A;r=t.state,i=t.next_in,S=t.input,n=i+(t.avail_in-5),a=t.next_out,A=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),u=r.dmax,l=r.wsize,h=r.whave,f=r.wnext,c=r.window,d=r.hold,p=r.bits,m=r.lencode,b=r.distcode,g=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;t:do{p<15&&(d+=S[i++]<<p,p+=8,d+=S[i++]<<p,p+=8),y=m[d&g];e:for(;;){if(d>>>=v=y>>>24,p-=v,0===(v=y>>>16&255))A[a++]=65535&y;else{if(!(16&v)){if(0==(64&v)){y=m[(65535&y)+(d&(1<<v)-1)];continue e}if(32&v){r.mode=12;break t}t.msg=\"invalid literal/length code\",r.mode=30;break t}w=65535&y,(v&=15)&&(p<v&&(d+=S[i++]<<p,p+=8),w+=d&(1<<v)-1,d>>>=v,p-=v),p<15&&(d+=S[i++]<<p,p+=8,d+=S[i++]<<p,p+=8),y=b[d&_];r:for(;;){if(d>>>=v=y>>>24,p-=v,!(16&(v=y>>>16&255))){if(0==(64&v)){y=b[(65535&y)+(d&(1<<v)-1)];continue r}t.msg=\"invalid distance code\",r.mode=30;break t}if(E=65535&y,p<(v&=15)&&(d+=S[i++]<<p,(p+=8)<v&&(d+=S[i++]<<p,p+=8)),(E+=d&(1<<v)-1)>u){t.msg=\"invalid distance too far back\",r.mode=30;break t}if(d>>>=v,p-=v,E>(v=a-o)){if((v=E-v)>h&&r.sane){t.msg=\"invalid distance too far back\",r.mode=30;break t}if(x=0,I=c,0===f){if(x+=l-v,v<w){w-=v;do{A[a++]=c[x++]}while(--v);x=a-E,I=A}}else if(f<v){if(x+=l+f-v,(v-=f)<w){w-=v;do{A[a++]=c[x++]}while(--v);if(x=0,f<w){w-=v=f;do{A[a++]=c[x++]}while(--v);x=a-E,I=A}}}else if(x+=f-v,v<w){w-=v;do{A[a++]=c[x++]}while(--v);x=a-E,I=A}for(;w>2;)A[a++]=I[x++],A[a++]=I[x++],A[a++]=I[x++],w-=3;w&&(A[a++]=I[x++],w>1&&(A[a++]=I[x++]))}else{x=a-E;do{A[a++]=A[x++],A[a++]=A[x++],A[a++]=A[x++],w-=3}while(w>2);w&&(A[a++]=A[x++],w>1&&(A[a++]=A[x++]))}break}}break}}while(i<n&&a<s);i-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=i,t.next_out=a,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=a<s?s-a+257:257-(a-s),r.hold=d,r.bits=p}},{}],149:[function(t,e,r){\"use strict\";var i=t(\"../utils/common\"),n=t(\"./adler32\"),a=t(\"./crc32\"),o=t(\"./inffast\"),s=t(\"./inftrees\"),u=0,l=1,h=2,f=4,c=5,d=6,p=0,m=1,b=2,g=-2,_=-3,y=-4,v=-5,w=8,E=1,x=2,I=3,S=4,A=5,M=6,C=7,T=8,k=9,P=10,R=11,L=12,O=13,B=14,N=15,D=16,U=17,j=18,F=19,z=20,G=21,H=22,q=23,W=24,Z=25,V=26,Y=27,K=28,X=29,J=30,Q=31,$=32,tt=852,et=592,rt=15;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function nt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function at(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg=\"\",e.wrap&&(t.adler=1&e.wrap),e.mode=E,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(tt),e.distcode=e.distdyn=new i.Buf32(et),e.sane=1,e.back=-1,p):g}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,at(t)):g}function st(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?g:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,ot(t))):g}function ut(t,e){var r,i;return t?(i=new nt,t.state=i,i.window=null,(r=st(t,e))!==p&&(t.state=null),r):g}var lt,ht,ft=!0;function ct(t){if(ft){var e;for(lt=new i.Buf32(512),ht=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(l,t.lens,0,288,lt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(h,t.lens,0,32,ht,0,t.work,{bits:5}),ft=!1}t.lencode=lt,t.lenbits=9,t.distcode=ht,t.distbits=5}function dt(t,e,r,n){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),n>=o.wsize?(i.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>n&&(a=n),i.arraySet(o.window,e,r-n,a,o.wnext),(n-=a)?(i.arraySet(o.window,e,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}r.inflateReset=ot,r.inflateReset2=st,r.inflateResetKeep=at,r.inflateInit=function(t){return ut(t,rt)},r.inflateInit2=ut,r.inflate=function(t,e){var r,tt,et,rt,nt,at,ot,st,ut,lt,ht,ft,pt,mt,bt,gt,_t,yt,vt,wt,Et,xt,It,St,At=0,Mt=new i.Buf8(4),Ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return g;(r=t.state).mode===L&&(r.mode=O),nt=t.next_out,et=t.output,ot=t.avail_out,rt=t.next_in,tt=t.input,at=t.avail_in,st=r.hold,ut=r.bits,lt=at,ht=ot,xt=p;t:for(;;)switch(r.mode){case E:if(0===r.wrap){r.mode=O;break}for(;ut<16;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}if(2&r.wrap&&35615===st){r.check=0,Mt[0]=255&st,Mt[1]=st>>>8&255,r.check=a(r.check,Mt,2,0),st=0,ut=0,r.mode=x;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg=\"incorrect header check\",r.mode=J;break}if((15&st)!==w){t.msg=\"unknown compression method\",r.mode=J;break}if(ut-=4,Et=8+(15&(st>>>=4)),0===r.wbits)r.wbits=Et;else if(Et>r.wbits){t.msg=\"invalid window size\",r.mode=J;break}r.dmax=1<<Et,t.adler=r.check=1,r.mode=512&st?P:L,st=0,ut=0;break;case x:for(;ut<16;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}if(r.flags=st,(255&r.flags)!==w){t.msg=\"unknown compression method\",r.mode=J;break}if(57344&r.flags){t.msg=\"unknown header flags set\",r.mode=J;break}r.head&&(r.head.text=st>>8&1),512&r.flags&&(Mt[0]=255&st,Mt[1]=st>>>8&255,r.check=a(r.check,Mt,2,0)),st=0,ut=0,r.mode=I;case I:for(;ut<32;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}r.head&&(r.head.time=st),512&r.flags&&(Mt[0]=255&st,Mt[1]=st>>>8&255,Mt[2]=st>>>16&255,Mt[3]=st>>>24&255,r.check=a(r.check,Mt,4,0)),st=0,ut=0,r.mode=S;case S:for(;ut<16;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}r.head&&(r.head.xflags=255&st,r.head.os=st>>8),512&r.flags&&(Mt[0]=255&st,Mt[1]=st>>>8&255,r.check=a(r.check,Mt,2,0)),st=0,ut=0,r.mode=A;case A:if(1024&r.flags){for(;ut<16;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}r.length=st,r.head&&(r.head.extra_len=st),512&r.flags&&(Mt[0]=255&st,Mt[1]=st>>>8&255,r.check=a(r.check,Mt,2,0)),st=0,ut=0}else r.head&&(r.head.extra=null);r.mode=M;case M:if(1024&r.flags&&((ft=r.length)>at&&(ft=at),ft&&(r.head&&(Et=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,tt,rt,ft,Et)),512&r.flags&&(r.check=a(r.check,tt,ft,rt)),at-=ft,rt+=ft,r.length-=ft),r.length))break t;r.length=0,r.mode=C;case C:if(2048&r.flags){if(0===at)break t;ft=0;do{Et=tt[rt+ft++],r.head&&Et&&r.length<65536&&(r.head.name+=String.fromCharCode(Et))}while(Et&&ft<at);if(512&r.flags&&(r.check=a(r.check,tt,ft,rt)),at-=ft,rt+=ft,Et)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=T;case T:if(4096&r.flags){if(0===at)break t;ft=0;do{Et=tt[rt+ft++],r.head&&Et&&r.length<65536&&(r.head.comment+=String.fromCharCode(Et))}while(Et&&ft<at);if(512&r.flags&&(r.check=a(r.check,tt,ft,rt)),at-=ft,rt+=ft,Et)break t}else r.head&&(r.head.comment=null);r.mode=k;case k:if(512&r.flags){for(;ut<16;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}if(st!==(65535&r.check)){t.msg=\"header crc mismatch\",r.mode=J;break}st=0,ut=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=L;break;case P:for(;ut<32;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}t.adler=r.check=it(st),st=0,ut=0,r.mode=R;case R:if(0===r.havedict)return t.next_out=nt,t.avail_out=ot,t.next_in=rt,t.avail_in=at,r.hold=st,r.bits=ut,b;t.adler=r.check=1,r.mode=L;case L:if(e===c||e===d)break t;case O:if(r.last){st>>>=7&ut,ut-=7&ut,r.mode=Y;break}for(;ut<3;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}switch(r.last=1&st,ut-=1,3&(st>>>=1)){case 0:r.mode=B;break;case 1:if(ct(r),r.mode=z,e===d){st>>>=2,ut-=2;break t}break;case 2:r.mode=U;break;case 3:t.msg=\"invalid block type\",r.mode=J}st>>>=2,ut-=2;break;case B:for(st>>>=7&ut,ut-=7&ut;ut<32;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}if((65535&st)!=(st>>>16^65535)){t.msg=\"invalid stored block lengths\",r.mode=J;break}if(r.length=65535&st,st=0,ut=0,r.mode=N,e===d)break t;case N:r.mode=D;case D:if(ft=r.length){if(ft>at&&(ft=at),ft>ot&&(ft=ot),0===ft)break t;i.arraySet(et,tt,rt,ft,nt),at-=ft,rt+=ft,ot-=ft,nt+=ft,r.length-=ft;break}r.mode=L;break;case U:for(;ut<14;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}if(r.nlen=257+(31&st),st>>>=5,ut-=5,r.ndist=1+(31&st),st>>>=5,ut-=5,r.ncode=4+(15&st),st>>>=4,ut-=4,r.nlen>286||r.ndist>30){t.msg=\"too many length or distance symbols\",r.mode=J;break}r.have=0,r.mode=j;case j:for(;r.have<r.ncode;){for(;ut<3;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}r.lens[Ct[r.have++]]=7&st,st>>>=3,ut-=3}for(;r.have<19;)r.lens[Ct[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,It={bits:r.lenbits},xt=s(u,r.lens,0,19,r.lencode,0,r.work,It),r.lenbits=It.bits,xt){t.msg=\"invalid code lengths set\",r.mode=J;break}r.have=0,r.mode=F;case F:for(;r.have<r.nlen+r.ndist;){for(;gt=(At=r.lencode[st&(1<<r.lenbits)-1])>>>16&255,_t=65535&At,!((bt=At>>>24)<=ut);){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}if(_t<16)st>>>=bt,ut-=bt,r.lens[r.have++]=_t;else{if(16===_t){for(St=bt+2;ut<St;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}if(st>>>=bt,ut-=bt,0===r.have){t.msg=\"invalid bit length repeat\",r.mode=J;break}Et=r.lens[r.have-1],ft=3+(3&st),st>>>=2,ut-=2}else if(17===_t){for(St=bt+3;ut<St;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}ut-=bt,Et=0,ft=3+(7&(st>>>=bt)),st>>>=3,ut-=3}else{for(St=bt+7;ut<St;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}ut-=bt,Et=0,ft=11+(127&(st>>>=bt)),st>>>=7,ut-=7}if(r.have+ft>r.nlen+r.ndist){t.msg=\"invalid bit length repeat\",r.mode=J;break}for(;ft--;)r.lens[r.have++]=Et}}if(r.mode===J)break;if(0===r.lens[256]){t.msg=\"invalid code -- missing end-of-block\",r.mode=J;break}if(r.lenbits=9,It={bits:r.lenbits},xt=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,It),r.lenbits=It.bits,xt){t.msg=\"invalid literal/lengths set\",r.mode=J;break}if(r.distbits=6,r.distcode=r.distdyn,It={bits:r.distbits},xt=s(h,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,It),r.distbits=It.bits,xt){t.msg=\"invalid distances set\",r.mode=J;break}if(r.mode=z,e===d)break t;case z:r.mode=G;case G:if(at>=6&&ot>=258){t.next_out=nt,t.avail_out=ot,t.next_in=rt,t.avail_in=at,r.hold=st,r.bits=ut,o(t,ht),nt=t.next_out,et=t.output,ot=t.avail_out,rt=t.next_in,tt=t.input,at=t.avail_in,st=r.hold,ut=r.bits,r.mode===L&&(r.back=-1);break}for(r.back=0;gt=(At=r.lencode[st&(1<<r.lenbits)-1])>>>16&255,_t=65535&At,!((bt=At>>>24)<=ut);){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}if(gt&&0==(240&gt)){for(yt=bt,vt=gt,wt=_t;gt=(At=r.lencode[wt+((st&(1<<yt+vt)-1)>>yt)])>>>16&255,_t=65535&At,!(yt+(bt=At>>>24)<=ut);){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}st>>>=yt,ut-=yt,r.back+=yt}if(st>>>=bt,ut-=bt,r.back+=bt,r.length=_t,0===gt){r.mode=V;break}if(32&gt){r.back=-1,r.mode=L;break}if(64&gt){t.msg=\"invalid literal/length code\",r.mode=J;break}r.extra=15&gt,r.mode=H;case H:if(r.extra){for(St=r.extra;ut<St;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}r.length+=st&(1<<r.extra)-1,st>>>=r.extra,ut-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=q;case q:for(;gt=(At=r.distcode[st&(1<<r.distbits)-1])>>>16&255,_t=65535&At,!((bt=At>>>24)<=ut);){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}if(0==(240&gt)){for(yt=bt,vt=gt,wt=_t;gt=(At=r.distcode[wt+((st&(1<<yt+vt)-1)>>yt)])>>>16&255,_t=65535&At,!(yt+(bt=At>>>24)<=ut);){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}st>>>=yt,ut-=yt,r.back+=yt}if(st>>>=bt,ut-=bt,r.back+=bt,64&gt){t.msg=\"invalid distance code\",r.mode=J;break}r.offset=_t,r.extra=15&gt,r.mode=W;case W:if(r.extra){for(St=r.extra;ut<St;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}r.offset+=st&(1<<r.extra)-1,st>>>=r.extra,ut-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg=\"invalid distance too far back\",r.mode=J;break}r.mode=Z;case Z:if(0===ot)break t;if(ft=ht-ot,r.offset>ft){if((ft=r.offset-ft)>r.whave&&r.sane){t.msg=\"invalid distance too far back\",r.mode=J;break}ft>r.wnext?(ft-=r.wnext,pt=r.wsize-ft):pt=r.wnext-ft,ft>r.length&&(ft=r.length),mt=r.window}else mt=et,pt=nt-r.offset,ft=r.length;ft>ot&&(ft=ot),ot-=ft,r.length-=ft;do{et[nt++]=mt[pt++]}while(--ft);0===r.length&&(r.mode=G);break;case V:if(0===ot)break t;et[nt++]=r.length,ot--,r.mode=G;break;case Y:if(r.wrap){for(;ut<32;){if(0===at)break t;at--,st|=tt[rt++]<<ut,ut+=8}if(ht-=ot,t.total_out+=ht,r.total+=ht,ht&&(t.adler=r.check=r.flags?a(r.check,et,ht,nt-ht):n(r.check,et,ht,nt-ht)),ht=ot,(r.flags?st:it(st))!==r.check){t.msg=\"incorrect data check\",r.mode=J;break}st=0,ut=0}r.mode=K;case K:if(r.wrap&&r.flags){for(;ut<32;){if(0===at)break t;at--,st+=tt[rt++]<<ut,ut+=8}if(st!==(4294967295&r.total)){t.msg=\"incorrect length check\",r.mode=J;break}st=0,ut=0}r.mode=X;case X:xt=m;break t;case J:xt=_;break t;case Q:return y;case $:default:return g}return t.next_out=nt,t.avail_out=ot,t.next_in=rt,t.avail_in=at,r.hold=st,r.bits=ut,(r.wsize||ht!==t.avail_out&&r.mode<J&&(r.mode<Y||e!==f))&&dt(t,t.output,t.next_out,ht-t.avail_out)?(r.mode=Q,y):(lt-=t.avail_in,ht-=t.avail_out,t.total_in+=lt,t.total_out+=ht,r.total+=ht,r.wrap&&ht&&(t.adler=r.check=r.flags?a(r.check,et,ht,t.next_out-ht):n(r.check,et,ht,t.next_out-ht)),t.data_type=r.bits+(r.last?64:0)+(r.mode===L?128:0)+(r.mode===z||r.mode===N?256:0),(0===lt&&0===ht||e===f)&&xt===p&&(xt=v),xt)},r.inflateEnd=function(t){if(!t||!t.state)return g;var e=t.state;return e.window&&(e.window=null),t.state=null,p},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?g:(r.head=e,e.done=!1,p):g},r.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&r.mode!==R?g:r.mode===R&&n(1,e,i,0)!==r.check?_:dt(t,e,i,i)?(r.mode=Q,y):(r.havedict=1,p):g},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":141,\"./adler32\":143,\"./crc32\":145,\"./inffast\":148,\"./inftrees\":150}],150:[function(t,e,r){\"use strict\";var i=t(\"../utils/common\"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,u,l,h,f,c){var d,p,m,b,g,_,y,v,w,E=c.bits,x=0,I=0,S=0,A=0,M=0,C=0,T=0,k=0,P=0,R=0,L=null,O=0,B=new i.Buf16(16),N=new i.Buf16(16),D=null,U=0;for(x=0;x<=15;x++)B[x]=0;for(I=0;I<u;I++)B[e[r+I]]++;for(M=E,A=15;A>=1&&0===B[A];A--);if(M>A&&(M=A),0===A)return l[h++]=20971520,l[h++]=20971520,c.bits=1,0;for(S=1;S<A&&0===B[S];S++);for(M<S&&(M=S),k=1,x=1;x<=15;x++)if(k<<=1,(k-=B[x])<0)return-1;if(k>0&&(0===t||1!==A))return-1;for(N[1]=0,x=1;x<15;x++)N[x+1]=N[x]+B[x];for(I=0;I<u;I++)0!==e[r+I]&&(f[N[e[r+I]]++]=I);if(0===t?(L=D=f,_=19):1===t?(L=n,O-=257,D=a,U-=257,_=256):(L=o,D=s,_=-1),R=0,I=0,x=S,g=h,C=M,T=0,m=-1,b=(P=1<<M)-1,1===t&&P>852||2===t&&P>592)return 1;for(;;){y=x-T,f[I]<_?(v=0,w=f[I]):f[I]>_?(v=D[U+f[I]],w=L[O+f[I]]):(v=96,w=0),d=1<<x-T,S=p=1<<C;do{l[g+(R>>T)+(p-=d)]=y<<24|v<<16|w|0}while(0!==p);for(d=1<<x-1;R&d;)d>>=1;if(0!==d?(R&=d-1,R+=d):R=0,I++,0==--B[x]){if(x===A)break;x=e[r+f[I]]}if(x>M&&(R&b)!==m){for(0===T&&(T=M),g+=S,k=1<<(C=x-T);C+T<A&&!((k-=B[C+T])<=0);)C++,k<<=1;if(P+=1<<C,1===t&&P>852||2===t&&P>592)return 1;l[m=R&b]=M<<24|C<<16|g-h|0}}return 0!==R&&(l[g+R]=x-T<<24|64<<16|0),c.bits=M,0}},{\"../utils/common\":141}],151:[function(t,e,r){\"use strict\";e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],152:[function(t,e,r){\"use strict\";var i=t(\"../utils/common\"),n=4,a=0,o=1,s=2;function u(t){for(var e=t.length;--e>=0;)t[e]=0}var l=0,h=1,f=2,c=29,d=256,p=d+1+c,m=30,b=19,g=2*p+1,_=15,y=16,v=7,w=256,E=16,x=17,I=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(p+2));u(T);var k=new Array(2*m);u(k);var P=new Array(512);u(P);var R=new Array(256);u(R);var L=new Array(c);u(L);var O,B,N,D=new Array(m);function U(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function j(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function F(t){return t<256?P[t]:P[256+(t>>>7)]}function z(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function G(t,e,r){t.bi_valid>y-r?(t.bi_buf|=e<<t.bi_valid&65535,z(t,t.bi_buf),t.bi_buf=e>>y-t.bi_valid,t.bi_valid+=r-y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function H(t,e,r){G(t,r[2*e],r[2*e+1])}function q(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function W(t,e,r){var i,n,a=new Array(_+1),o=0;for(i=1;i<=_;i++)a[i]=o=o+r[i-1]<<1;for(n=0;n<=e;n++){var s=t[2*n+1];0!==s&&(t[2*n]=q(a[s]++,s))}}function Z(t){var e;for(e=0;e<p;e++)t.dyn_ltree[2*e]=0;for(e=0;e<m;e++)t.dyn_dtree[2*e]=0;for(e=0;e<b;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function V(t){t.bi_valid>8?z(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Y(t,e,r,i){var n=2*e,a=2*r;return t[n]<t[a]||t[n]===t[a]&&i[e]<=i[r]}function K(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&Y(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!Y(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function X(t,e,r){var i,n,a,o,s=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],n=t.pending_buf[t.l_buf+s],s++,0===i?H(t,n,e):(H(t,(a=R[n])+d+1,e),0!==(o=S[a])&&G(t,n-=L[a],o),H(t,a=F(--i),r),0!==(o=A[a])&&G(t,i-=D[a],o))}while(s<t.last_lit);H(t,w,e)}function J(t,e){var r,i,n,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=g,r=0;r<u;r++)0!==a[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(n=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[n]=0,t.opt_len--,s&&(t.static_len-=o[2*n+1]);for(e.max_code=l,r=t.heap_len>>1;r>=1;r--)K(t,a,r);n=u;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],K(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,a[2*n]=a[2*r]+a[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,a[2*r+1]=a[2*i+1]=n,t.heap[1]=n++,K(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,a,o,s,u=e.dyn_tree,l=e.max_code,h=e.stat_desc.static_tree,f=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(a=0;a<=_;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<g;r++)(a=u[2*u[2*(i=t.heap[r])+1]+1]+1)>p&&(a=p,m++),u[2*i+1]=a,i>l||(t.bl_count[a]++,o=0,i>=d&&(o=c[i-d]),s=u[2*i],t.opt_len+=s*(a+o),f&&(t.static_len+=s*(h[2*i+1]+o)));if(0!==m){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(i=t.bl_count[a];0!==i;)(n=t.heap[--r])>l||(u[2*n+1]!==a&&(t.opt_len+=(a-u[2*n+1])*u[2*n],u[2*n+1]=a),i--)}}(t,e),W(a,l,t.bl_count)}function Q(t,e,r){var i,n,a=-1,o=e[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=o,o=e[2*(i+1)+1],++s<u&&n===o||(s<l?t.bl_tree[2*n]+=s:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[2*E]++):s<=10?t.bl_tree[2*x]++:t.bl_tree[2*I]++,s=0,a=n,0===o?(u=138,l=3):n===o?(u=6,l=3):(u=7,l=4))}function $(t,e,r){var i,n,a=-1,o=e[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),i=0;i<=r;i++)if(n=o,o=e[2*(i+1)+1],!(++s<u&&n===o)){if(s<l)do{H(t,n,t.bl_tree)}while(0!=--s);else 0!==n?(n!==a&&(H(t,n,t.bl_tree),s--),H(t,E,t.bl_tree),G(t,s-3,2)):s<=10?(H(t,x,t.bl_tree),G(t,s-3,3)):(H(t,I,t.bl_tree),G(t,s-11,7));s=0,a=n,0===o?(u=138,l=3):n===o?(u=6,l=3):(u=7,l=4)}}u(D);var tt=!1;function et(t,e,r,n){G(t,(l<<1)+(n?1:0),3),function(t,e,r,n){V(t),n&&(z(t,r),z(t,~r)),i.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}r._tr_init=function(t){tt||(function(){var t,e,r,i,n,a=new Array(_+1);for(r=0,i=0;i<c-1;i++)for(L[i]=r,t=0;t<1<<S[i];t++)R[r++]=i;for(R[r-1]=i,n=0,i=0;i<16;i++)for(D[i]=n,t=0;t<1<<A[i];t++)P[n++]=i;for(n>>=7;i<m;i++)for(D[i]=n<<7,t=0;t<1<<A[i]-7;t++)P[256+n++]=i;for(e=0;e<=_;e++)a[e]=0;for(t=0;t<=143;)T[2*t+1]=8,t++,a[8]++;for(;t<=255;)T[2*t+1]=9,t++,a[9]++;for(;t<=279;)T[2*t+1]=7,t++,a[7]++;for(;t<=287;)T[2*t+1]=8,t++,a[8]++;for(W(T,p+1,a),t=0;t<m;t++)k[2*t+1]=5,k[2*t]=q(t,5);O=new U(T,S,d+1,p,_),B=new U(k,A,0,m,_),N=new U(new Array(0),M,0,b,v)}(),tt=!0),t.l_desc=new j(t.dyn_ltree,O),t.d_desc=new j(t.dyn_dtree,B),t.bl_desc=new j(t.bl_tree,N),t.bi_buf=0,t.bi_valid=0,Z(t)},r._tr_stored_block=et,r._tr_flush_block=function(t,e,r,i){var u,l,c=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return a;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<d;e++)if(0!==t.dyn_ltree[2*e])return o;return a}(t)),J(t,t.l_desc),J(t,t.d_desc),c=function(t){var e;for(Q(t,t.dyn_ltree,t.l_desc.max_code),Q(t,t.dyn_dtree,t.d_desc.max_code),J(t,t.bl_desc),e=b-1;e>=3&&0===t.bl_tree[2*C[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),u=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=u&&(u=l)):u=l=r+5,r+4<=u&&-1!==e?et(t,e,r,i):t.strategy===n||l===u?(G(t,(h<<1)+(i?1:0),3),X(t,T,k)):(G(t,(f<<1)+(i?1:0),3),function(t,e,r,i){var n;for(G(t,e-257,5),G(t,r-1,5),G(t,i-4,4),n=0;n<i;n++)G(t,t.bl_tree[2*C[n]+1],3);$(t,t.dyn_ltree,e-1),$(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,c+1),X(t,t.dyn_ltree,t.dyn_dtree)),Z(t),i&&V(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(R[r]+d+1)]++,t.dyn_dtree[2*F(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){G(t,h<<1,3),H(t,w,T),function(t){16===t.bi_valid?(z(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{\"../utils/common\":141}],153:[function(t,e,r){\"use strict\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],154:[function(t,e,r){function i(t,e){if(!(t=t.replace(/\\t+/g,\" \").trim()))return null;var r=t.indexOf(\" \");if(-1===r)throw new Error(\"no named row at line \"+e);var i=t.substring(0,r);t=(t=(t=(t=t.substring(r+1)).replace(/letter=[\\'\\\"]\\S+[\\'\\\"]/gi,\"\")).split(\"=\")).map(function(t){return t.trim().match(/(\".*?\"|[^\"\\s]+)+(?=\\s*|\\s*$)/g)});for(var a=[],o=0;o<t.length;o++){var s=t[o];0===o?a.push({key:s[0],data:\"\"}):o===t.length-1?a[a.length-1].data=n(s[0]):(a[a.length-1].data=n(s[0]),a.push({key:s[1],data:\"\"}))}var u={key:i,data:{}};return a.forEach(function(t){u.data[t.key]=t.data}),u}function n(t){return t&&0!==t.length?0===t.indexOf('\"')||0===t.indexOf(\"'\")?t.substring(1,t.length-1):-1!==t.indexOf(\",\")?function(t){return t.split(\",\").map(function(t){return parseInt(t,10)})}(t):parseInt(t,10):\"\"}e.exports=function(t){if(!t)throw new Error(\"no data provided\");var e={pages:[],chars:[],kernings:[]},r=(t=t.toString().trim()).split(/\\r\\n?|\\n/g);if(0===r.length)throw new Error(\"no data in BMFont file\");for(var n=0;n<r.length;n++){var a=i(r[n],n);if(a)if(\"page\"===a.key){if(\"number\"!=typeof a.data.id)throw new Error(\"malformed file at line \"+n+\" -- needs page id=N\");if(\"string\"!=typeof a.data.file)throw new Error(\"malformed file at line \"+n+' -- needs page file=\"path\"');e.pages[a.data.id]=a.data.file}else\"chars\"===a.key||\"kernings\"===a.key||(\"char\"===a.key?e.chars.push(a.data):\"kerning\"===a.key?e.kernings.push(a.data):e[a.key]=a.data)}return e}},{}],155:[function(t,e,r){var i=[66,77,70];function n(t,e,r){if(r>e.length-1)return 0;var i=e.readUInt8(r++),n=e.readInt32LE(r);switch(r+=4,i){case 1:t.info=function(t,e){var r={};r.size=t.readInt16LE(e);var i=t.readUInt8(e+2);r.smooth=i>>7&1,r.unicode=i>>6&1,r.italic=i>>5&1,r.bold=i>>4&1,i>>3&1&&(r.fixedHeight=1);return r.charset=t.readUInt8(e+3)||\"\",r.stretchH=t.readUInt16LE(e+4),r.aa=t.readUInt8(e+6),r.padding=[t.readInt8(e+7),t.readInt8(e+8),t.readInt8(e+9),t.readInt8(e+10)],r.spacing=[t.readInt8(e+11),t.readInt8(e+12)],r.outline=t.readUInt8(e+13),r.face=function(t,e){return a(t,e).toString(\"utf8\")}(t,e+14),r}(e,r);break;case 2:t.common=function(t,e){var r={};r.lineHeight=t.readUInt16LE(e),r.base=t.readUInt16LE(e+2),r.scaleW=t.readUInt16LE(e+4),r.scaleH=t.readUInt16LE(e+6),r.pages=t.readUInt16LE(e+8);t.readUInt8(e+10);return r.packed=0,r.alphaChnl=t.readUInt8(e+11),r.redChnl=t.readUInt8(e+12),r.greenChnl=t.readUInt8(e+13),r.blueChnl=t.readUInt8(e+14),r}(e,r);break;case 3:t.pages=function(t,e,r){for(var i=[],n=a(t,e),o=n.length+1,s=r/o,u=0;u<s;u++)i[u]=t.slice(e,e+n.length).toString(\"utf8\"),e+=o;return i}(e,r,n);break;case 4:t.chars=function(t,e,r){for(var i=[],n=r/20,a=0;a<n;a++){var o={},s=20*a;o.id=t.readUInt32LE(e+0+s),o.x=t.readUInt16LE(e+4+s),o.y=t.readUInt16LE(e+6+s),o.width=t.readUInt16LE(e+8+s),o.height=t.readUInt16LE(e+10+s),o.xoffset=t.readInt16LE(e+12+s),o.yoffset=t.readInt16LE(e+14+s),o.xadvance=t.readInt16LE(e+16+s),o.page=t.readUInt8(e+18+s),o.chnl=t.readUInt8(e+19+s),i[a]=o}return i}(e,r,n);break;case 5:t.kernings=function(t,e,r){for(var i=[],n=r/10,a=0;a<n;a++){var o={},s=10*a;o.first=t.readUInt32LE(e+0+s),o.second=t.readUInt32LE(e+4+s),o.amount=t.readInt16LE(e+8+s),i[a]=o}return i}(e,r,n)}return 5+n}function a(t,e){for(var r=e;r<t.length&&0!==t[r];r++);return t.slice(e,r)}e.exports=function(t){if(t.length<6)throw new Error(\"invalid buffer length for BMFont\");if(!i.every(function(e,r){return t.readUInt8(r)===e}))throw new Error(\"BMFont missing BMF byte header\");var e=3;if(t.readUInt8(e++)>3)throw new Error(\"Only supports BMFont Binary v3 (BMFont App v1.10)\");for(var r={kernings:[],chars:[]},a=0;a<5;a++)e+=n(r,t,e);return r}},{}],156:[function(t,e,r){var i=t(\"./parse-attribs\"),n=t(\"xml-parse-from-string\"),a={scaleh:\"scaleH\",scalew:\"scaleW\",stretchh:\"stretchH\",lineheight:\"lineHeight\",alphachnl:\"alphaChnl\",redchnl:\"redChnl\",greenchnl:\"greenChnl\",bluechnl:\"blueChnl\"};function o(t){return function(t){for(var e=[],r=0;r<t.attributes.length;r++)e.push(t.attributes[r]);return e}(t).reduce(function(t,e){var r;return t[(r=e.nodeName,a[r.toLowerCase()]||r)]=e.nodeValue,t},{})}e.exports=function(t){t=t.toString();var e=n(t),r={pages:[],chars:[],kernings:[]};[\"info\",\"common\"].forEach(function(t){var n=e.getElementsByTagName(t)[0];n&&(r[t]=i(o(n)))});var a=e.getElementsByTagName(\"pages\")[0];if(!a)throw new Error(\"malformed file -- no <pages> element\");for(var s=a.getElementsByTagName(\"page\"),u=0;u<s.length;u++){var l=s[u],h=parseInt(l.getAttribute(\"id\"),10),f=l.getAttribute(\"file\");if(isNaN(h))throw new Error('malformed file -- page \"id\" attribute is NaN');if(!f)throw new Error('malformed file -- needs page \"file\" attribute');r.pages[parseInt(h,10)]=f}return[\"chars\",\"kernings\"].forEach(function(t){var n=e.getElementsByTagName(t)[0];if(n)for(var a=t.substring(0,t.length-1),s=n.getElementsByTagName(a),u=0;u<s.length;u++){var l=s[u];r[t].push(i(o(l)))}}),r}},{\"./parse-attribs\":157,\"xml-parse-from-string\":238}],157:[function(t,e,r){e.exports=function(t){for(var e in\"chasrset\"in t&&(t.charset=t.chasrset,delete t.chasrset),t)\"face\"!==e&&\"charset\"!==e&&(t[e]=\"padding\"===e||\"spacing\"===e?t[e].split(\",\").map(function(t){return parseInt(t,10)}):parseInt(t[e],10));return t}},{}],158:[function(t,e,r){var i=function(t){return t.replace(/^\\s+|\\s+$/g,\"\")};e.exports=function(t){if(!t)return{};for(var e,r={},n=i(t).split(\"\\n\"),a=0;a<n.length;a++){var o=n[a],s=o.indexOf(\":\"),u=i(o.slice(0,s)).toLowerCase(),l=i(o.slice(s+1));void 0===r[u]?r[u]=l:(e=r[u],\"[object Array]\"===Object.prototype.toString.call(e)?r[u].push(l):r[u]=[r[u],l])}return r}},{}],159:[function(t,e,r){(function(t){(function(){\"use strict\";function r(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function i(t,e){for(var r,i=\"\",n=0,a=-1,o=0,s=0;s<=t.length;++s){if(s<t.length)r=t.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(a===s-1||1===o);else if(a!==s-1&&2===o){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var u=i.lastIndexOf(\"/\");if(u!==i.length-1){-1===u?(i=\"\",n=0):n=(i=i.slice(0,u)).length-1-i.lastIndexOf(\"/\"),a=s,o=0;continue}}else if(2===i.length||1===i.length){i=\"\",n=0,a=s,o=0;continue}e&&(i.length>0?i+=\"/..\":i=\"..\",n=2)}else i.length>0?i+=\"/\"+t.slice(a+1,s):i=t.slice(a+1,s),n=s-a-1;a=s,o=0}else 46===r&&-1!==o?++o:o=-1}return i}var n={resolve:function(){for(var e,n=\"\",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=t.cwd()),s=e),r(s),0!==s.length&&(n=s+\"/\"+n,a=47===s.charCodeAt(0))}return n=i(n,!a),a?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(r(t),0===t.length)return\".\";var e=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=i(t,!e)).length||e||(t=\".\"),t.length>0&&n&&(t+=\"/\"),e?\"/\"+t:t},isAbsolute:function(t){return r(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,e=0;e<arguments.length;++e){var i=arguments[e];r(i),i.length>0&&(void 0===t?t=i:t+=\"/\"+i)}return void 0===t?\".\":n.normalize(t)},relative:function(t,e){if(r(t),r(e),t===e)return\"\";if((t=n.resolve(t))===(e=n.resolve(e)))return\"\";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var a=t.length,o=a-i,s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var u=e.length-s,l=o<u?o:u,h=-1,f=0;f<=l;++f){if(f===l){if(u>l){if(47===e.charCodeAt(s+f))return e.slice(s+f+1);if(0===f)return e.slice(s+f)}else o>l&&(47===t.charCodeAt(i+f)?h=f:0===f&&(h=0));break}var c=t.charCodeAt(i+f);if(c!==e.charCodeAt(s+f))break;47===c&&(h=f)}var d=\"\";for(f=i+h+1;f<=a;++f)f!==a&&47!==t.charCodeAt(f)||(0===d.length?d+=\"..\":d+=\"/..\");return d.length>0?d+e.slice(s+h):(s+=h,47===e.charCodeAt(s)&&++s,e.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(r(t),0===t.length)return\".\";for(var e=t.charCodeAt(0),i=47===e,n=-1,a=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!a){n=o;break}}else a=!1;return-1===n?i?\"/\":\".\":i&&1===n?\"//\":t.slice(0,n)},basename:function(t,e){if(void 0!==e&&\"string\"!=typeof e)throw new TypeError('\"ext\" argument must be a string');r(t);var i,n=0,a=-1,o=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return\"\";var s=e.length-1,u=-1;for(i=t.length-1;i>=0;--i){var l=t.charCodeAt(i);if(47===l){if(!o){n=i+1;break}}else-1===u&&(o=!1,u=i+1),s>=0&&(l===e.charCodeAt(s)?-1==--s&&(a=i):(s=-1,a=u))}return n===a?a=u:-1===a&&(a=t.length),t.slice(n,a)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!o){n=i+1;break}}else-1===a&&(o=!1,a=i+1);return-1===a?\"\":t.slice(n,a)},extname:function(t){r(t);for(var e=-1,i=0,n=-1,a=!0,o=0,s=t.length-1;s>=0;--s){var u=t.charCodeAt(s);if(47!==u)-1===n&&(a=!1,n=s+1),46===u?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!a){i=s+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===i+1?\"\":t.slice(e,n)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,i=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+i:r+t+i:i}(\"/\",t)},parse:function(t){r(t);var e={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return e;var i,n=t.charCodeAt(0),a=47===n;a?(e.root=\"/\",i=1):i=0;for(var o=-1,s=0,u=-1,l=!0,h=t.length-1,f=0;h>=i;--h)if(47!==(n=t.charCodeAt(h)))-1===u&&(l=!1,u=h+1),46===n?-1===o?o=h:1!==f&&(f=1):-1!==o&&(f=-1);else if(!l){s=h+1;break}return-1===o||-1===u||0===f||1===f&&o===u-1&&o===s+1?-1!==u&&(e.base=e.name=0===s&&a?t.slice(1,u):t.slice(s,u)):(0===s&&a?(e.name=t.slice(1,o),e.base=t.slice(1,u)):(e.name=t.slice(s,o),e.base=t.slice(s,u)),e.ext=t.slice(o,u)),s>0?e.dir=t.slice(0,s-1):a&&(e.dir=\"/\"),e},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,e.exports=n}).call(this)}).call(this,t(\"_process\"))},{_process:184}],160:[function(t,e,r){(function(r){(function(){\"use strict\";var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},n=t(\"http\"),a=t(\"https\"),o=t(\"url\"),s=t(\"querystring\"),u=t(\"zlib\"),l=t(\"util\"),h=function(t,e){if(\"string\"!=typeof t&&!t.hasOwnProperty(\"url\"))throw new Error(\"Missing url option from options for request method.\");var l=\"object\"===(void 0===t?\"undefined\":i(t))?o.parse(t.url):o.parse(t),h={hostname:l.hostname,port:l.port||(\"http:\"===l.protocol.toLowerCase()?80:443),path:l.path,method:\"GET\",headers:{},auth:l.auth||null,parse:\"none\",stream:!1};if(\"object\"===(void 0===t?\"undefined\":i(t))&&(h=Object.assign(h,t)),h.port=Number(h.port),h.hasOwnProperty(\"timeout\")&&delete h.timeout,!0===h.compressed&&(h.headers[\"accept-encoding\"]=\"gzip, deflate\"),t.hasOwnProperty(\"form\")){if(\"object\"!==i(t.form))throw new Error(\"phin 'form' option must be of type Object if present.\");var f=s.stringify(t.form);h.headers[\"Content-Type\"]=\"application/x-www-form-urlencoded\",h.headers[\"Content-Length\"]=r.byteLength(f),t.data=f}var c=void 0,d=function(t){var i=t;!0===h.compressed&&(\"gzip\"===t.headers[\"content-encoding\"]?i=t.pipe(u.createGunzip()):\"deflate\"===t.headers[\"content-encoding\"]&&(i=t.pipe(u.createInflate()))),!0===h.stream?(t.stream=i,e&&e(null,t)):(t.body=new r([]),i.on(\"data\",function(e){t.body=r.concat([t.body,e])}),i.on(\"end\",function(){if(e){if(\"json\"===h.parse)try{t.body=JSON.parse(t.body.toString())}catch(r){return void e(\"Invalid JSON received.\",t)}e(null,t)}}))};switch(l.protocol.toLowerCase()){case\"http:\":c=n.request(h,d);break;case\"https:\":c=a.request(h,d);break;default:return void(e&&e(new Error(\"Invalid / unknown URL protocol. Expected HTTP or HTTPS.\"),null))}if(\"number\"==typeof t.timeout&&c.setTimeout(t.timeout,function(){c.abort(),e&&e(new Error(\"Timeout has been reached.\"),null),e=null}),c.on(\"error\",function(t){e&&e(t,null)}),t.hasOwnProperty(\"data\")){var p=t.data;if(!(t.data instanceof r)&&\"object\"===i(t.data))if(\"application/x-www-form-urlencoded\"===(h.headers[\"content-type\"]||h.headers[\"Content-Type\"]))p=s.stringify(t.data);else try{p=JSON.stringify(t.data)}catch(t){e&&e(new Error(\"Couldn't stringify object. (Likely due to a circular reference.)\"),null)}c.write(p)}c.end()};h.promisified=function(t,e){return new Promise(function(e,r){h(t,function(t,i){t?r(t):e(i)})})},l.promisify&&(h[l.promisify.custom]=h.promisified),e.exports=h}).call(this)}).call(this,t(\"buffer\").Buffer)},{buffer:87,http:206,https:118,querystring:188,url:229,util:235,zlib:84}],161:[function(t,e,r){\"use strict\";function i(t,e,r,a,o,s){for(var u,l,h,f,c=Math.max(e-1,0),d=Math.max(r-1,0),p=Math.min(e+1,a-1),m=Math.min(r+1,o-1),b=4*(r*a+e),g=0,_=0,y=0,v=0,w=0,E=c;E<=p;E++)for(var x=d;x<=m;x++)if(E!==e||x!==r){var I=n(t,t,b,4*(x*a+E),!0);if(0===I?g++:I<0?y++:I>0&&_++,g>2)return!1;s&&(I<v&&(v=I,u=E,l=x),I>w&&(w=I,h=E,f=x))}return!s||0!==y&&0!==_&&(!i(t,u,l,a,o)&&!i(s,u,l,a,o)||!i(t,h,f,a,o)&&!i(s,h,f,a,o))}function n(t,e,r,i,n){var l=t[r+3]/255,h=e[i+3]/255,f=u(t[r+0],l),c=u(t[r+1],l),d=u(t[r+2],l),p=u(e[i+0],h),m=u(e[i+1],h),b=u(e[i+2],h),g=a(f,c,d)-a(p,m,b);if(n)return g;var _=o(f,c,d)-o(p,m,b),y=s(f,c,d)-s(p,m,b);return.5053*g*g+.299*_*_+.1957*y*y}function a(t,e,r){return.29889531*t+.58662247*e+.11448223*r}function o(t,e,r){return.59597799*t-.2741761*e-.32180189*r}function s(t,e,r){return.21147017*t-.52261711*e+.31114694*r}function u(t,e){return 255+(t-255)*e}function l(t,e,r,i,n){t[e+0]=r,t[e+1]=i,t[e+2]=n,t[e+3]=255}e.exports=function(t,e,r,o,s,h){h||(h={});for(var f=void 0===h.threshold?.1:h.threshold,c=35215*f*f,d=0,p=0;p<s;p++)for(var m=0;m<o;m++){var b=4*(p*o+m),g=n(t,e,b,b);if(g>c)h.includeAA||!i(t,m,p,o,s,e)&&!i(e,m,p,o,s,t)?(r&&l(r,b,255,0,0),d++):r&&l(r,b,255,255,0);else if(r){var _=u((w=void 0,E=void 0,x=void 0,I=void 0,w=(y=t)[(v=b)+3]/255,E=u(y[v+0],w),x=u(y[v+1],w),I=u(y[v+2],w),a(E,x,I)),.1);l(r,b,_,_,_)}}var y,v,w,E,x,I;return d}},{}],162:[function(t,e,r){(function(e){(function(){\"use strict\";var i=t(\"./interlace\"),n=[function(){},function(t,e,r,i){if(i===e.length)throw new Error(\"Ran out of data\");var n=e[i];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=255},function(t,e,r,i){if(i+1>=e.length)throw new Error(\"Ran out of data\");var n=e[i];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=e[i+1]},function(t,e,r,i){if(i+2>=e.length)throw new Error(\"Ran out of data\");t[r]=e[i],t[r+1]=e[i+1],t[r+2]=e[i+2],t[r+3]=255},function(t,e,r,i){if(i+3>=e.length)throw new Error(\"Ran out of data\");t[r]=e[i],t[r+1]=e[i+1],t[r+2]=e[i+2],t[r+3]=e[i+3]}],a=[function(){},function(t,e,r,i){var n=e[0];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=i},function(t,e,r){var i=e[0];t[r]=i,t[r+1]=i,t[r+2]=i,t[r+3]=e[1]},function(t,e,r,i){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=i},function(t,e,r){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3]}];function o(t,e,r,i,a,o){for(var s=t.width,u=t.height,l=t.index,h=0;h<u;h++)for(var f=0;f<s;f++){var c=r(f,h,l);n[i](e,a,c,o),o+=i}return o}function s(t,e,r,i,n,o){for(var s=t.width,u=t.height,l=t.index,h=0;h<u;h++){for(var f=0;f<s;f++){var c=n.get(i),d=r(f,h,l);a[i](e,c,d,o)}n.resetAfterLine()}}r.dataToBitMap=function(t,r){var n,a=r.width,u=r.height,l=r.depth,h=r.bpp,f=r.interlace;if(8!==l)var c=function(t,e){var r=[],i=0;function n(){if(i===t.length)throw new Error(\"Ran out of data\");var n,a,o,s,u,l,h,f,c=t[i];switch(i++,e){default:throw new Error(\"unrecognised depth\");case 16:h=t[i],i++,r.push((c<<8)+h);break;case 4:h=15&c,f=c>>4,r.push(f,h);break;case 2:u=3&c,l=c>>2&3,h=c>>4&3,f=c>>6&3,r.push(f,h,l,u);break;case 1:n=1&c,a=c>>1&1,o=c>>2&1,s=c>>3&1,u=c>>4&1,l=c>>5&1,h=c>>6&1,f=c>>7&1,r.push(f,h,l,u,s,o,a,n)}}return{get:function(t){for(;r.length<t;)n();var e=r.slice(0,t);return r=r.slice(t),e},resetAfterLine:function(){r.length=0},end:function(){if(i!==t.length)throw new Error(\"extra data found\")}}}(t,l);n=l<=8?new e(a*u*4):new Uint16Array(a*u*4);var d,p,m=Math.pow(2,l)-1,b=0;if(f)d=i.getImagePasses(a,u),p=i.getInterlaceIterator(a,u);else{var g=0;p=function(){var t=g;return g+=4,t},d=[{width:a,height:u}]}for(var _=0;_<d.length;_++)8===l?b=o(d[_],n,p,h,t,b):s(d[_],n,p,h,c,m);if(8===l){if(b!==t.length)throw new Error(\"extra data found\")}else c.end();return n}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./interlace\":172,buffer:87}],163:[function(t,e,r){(function(r){(function(){\"use strict\";var i=t(\"./constants\");e.exports=function(t,e,n,a){var o,s=-1!==[i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(a.colorType);if(a.colorType===a.inputColorType){var u=(o=new ArrayBuffer(2),new DataView(o).setInt16(0,256,!0),256!==new Int16Array(o)[0]);if(8===a.bitDepth||16===a.bitDepth&&u)return t}var l=16!==a.bitDepth?t:new Uint16Array(t.buffer),h=255,f=i.COLORTYPE_TO_BPP_MAP[a.inputColorType];4!==f||a.inputHasAlpha||(f=3);var c=i.COLORTYPE_TO_BPP_MAP[a.colorType];16===a.bitDepth&&(h=65535,c*=2);var d=new r(e*n*c),p=0,m=0,b=a.bgColor||{};function g(){var t,e,r,n=h;switch(a.inputColorType){case i.COLORTYPE_COLOR_ALPHA:n=l[p+3],t=l[p],e=l[p+1],r=l[p+2];break;case i.COLORTYPE_COLOR:t=l[p],e=l[p+1],r=l[p+2];break;case i.COLORTYPE_ALPHA:n=l[p+1],e=t=l[p],r=t;break;case i.COLORTYPE_GRAYSCALE:e=t=l[p],r=t;break;default:throw new Error(\"input color type:\"+a.inputColorType+\" is not supported at present\")}return a.inputHasAlpha&&(s||(n/=h,t=Math.min(Math.max(Math.round((1-n)*b.red+n*t),0),h),e=Math.min(Math.max(Math.round((1-n)*b.green+n*e),0),h),r=Math.min(Math.max(Math.round((1-n)*b.blue+n*r),0),h))),{red:t,green:e,blue:r,alpha:n}}void 0===b.red&&(b.red=h),void 0===b.green&&(b.green=h),void 0===b.blue&&(b.blue=h);for(var _=0;_<n;_++)for(var y=0;y<e;y++){var v=g();switch(a.colorType){case i.COLORTYPE_COLOR_ALPHA:case i.COLORTYPE_COLOR:8===a.bitDepth?(d[m]=v.red,d[m+1]=v.green,d[m+2]=v.blue,s&&(d[m+3]=v.alpha)):(d.writeUInt16BE(v.red,m),d.writeUInt16BE(v.green,m+2),d.writeUInt16BE(v.blue,m+4),s&&d.writeUInt16BE(v.alpha,m+6));break;case i.COLORTYPE_ALPHA:case i.COLORTYPE_GRAYSCALE:var w=(v.red+v.green+v.blue)/3;8===a.bitDepth?(d[m]=w,s&&(d[m+1]=v.alpha)):(d.writeUInt16BE(w,m),s&&d.writeUInt16BE(v.alpha,m+2));break;default:throw new Error(\"unrecognised color Type \"+a.colorType)}p+=f,m+=c}return d}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./constants\":165,buffer:87}],164:[function(t,e,r){(function(r,i){(function(){\"use strict\";var n=t(\"util\"),a=t(\"stream\"),o=e.exports=function(){a.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding=\"utf8\",this.writable=!0};n.inherits(o,a),o.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),r.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit(\"drain\"))}.bind(this))},o.prototype.write=function(t,e){return this.writable?(r=i.isBuffer(t)?t:new i(t,e||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit(\"error\",new Error(\"Stream not writable\")),!1);var r},o.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},o.prototype.destroySoon=o.prototype.end,o.prototype._end=function(){this._reads.length>0&&this.emit(\"error\",new Error(\"Unexpected end of input\")),this.destroy()},o.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit(\"close\"))},o.prototype._processReadAllowingLess=function(t){this._reads.shift();var e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))},o.prototype._processRead=function(t){this._reads.shift();for(var e=0,r=0,n=new i(t.length);e<t.length;){var a=this._buffers[r++],o=Math.min(a.length,t.length-e);a.copy(n,e,0,o),e+=o,o!==a.length&&(this._buffers[--r]=a.slice(o))}r>0&&this._buffers.splice(0,r),this._buffered-=t.length,t.func.call(this,n)},o.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else{if(!(this._buffered>=t.length))break;this._processRead(t)}}this._buffers&&!this.writable&&this._end()}catch(t){this.emit(\"error\",t)}}}).call(this)}).call(this,t(\"_process\"),t(\"buffer\").Buffer)},{_process:184,buffer:87,stream:191,util:235}],165:[function(t,e,r){\"use strict\";e.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],166:[function(t,e,r){\"use strict\";var i=[];!function(){for(var t=0;t<256;t++){for(var e=t,r=0;r<8;r++)1&e?e=3988292384^e>>>1:e>>>=1;i[t]=e}}();var n=e.exports=function(){this._crc=-1};n.prototype.write=function(t){for(var e=0;e<t.length;e++)this._crc=i[255&(this._crc^t[e])]^this._crc>>>8;return!0},n.prototype.crc32=function(){return-1^this._crc},n.crc32=function(t){for(var e=-1,r=0;r<t.length;r++)e=i[255&(e^t[r])]^e>>>8;return-1^e}},{}],167:[function(t,e,r){(function(r){(function(){\"use strict\";var i=t(\"./paeth-predictor\");var n={0:function(t,e,r,i,n){for(var a=0;a<r;a++)i[n+a]=t[e+a]},1:function(t,e,r,i,n,a){for(var o=0;o<r;o++){var s=o>=a?t[e+o-a]:0,u=t[e+o]-s;i[n+o]=u}},2:function(t,e,r,i,n){for(var a=0;a<r;a++){var o=e>0?t[e+a-r]:0,s=t[e+a]-o;i[n+a]=s}},3:function(t,e,r,i,n,a){for(var o=0;o<r;o++){var s=o>=a?t[e+o-a]:0,u=e>0?t[e+o-r]:0,l=t[e+o]-(s+u>>1);i[n+o]=l}},4:function(t,e,r,n,a,o){for(var s=0;s<r;s++){var u=s>=o?t[e+s-o]:0,l=e>0?t[e+s-r]:0,h=e>0&&s>=o?t[e+s-(r+o)]:0,f=t[e+s]-i(u,l,h);n[a+s]=f}}},a={0:function(t,e,r){for(var i=0,n=e+r,a=e;a<n;a++)i+=Math.abs(t[a]);return i},1:function(t,e,r,i){for(var n=0,a=0;a<r;a++){var o=a>=i?t[e+a-i]:0,s=t[e+a]-o;n+=Math.abs(s)}return n},2:function(t,e,r){for(var i=0,n=e+r,a=e;a<n;a++){var o=e>0?t[a-r]:0,s=t[a]-o;i+=Math.abs(s)}return i},3:function(t,e,r,i){for(var n=0,a=0;a<r;a++){var o=a>=i?t[e+a-i]:0,s=e>0?t[e+a-r]:0,u=t[e+a]-(o+s>>1);n+=Math.abs(u)}return n},4:function(t,e,r,n){for(var a=0,o=0;o<r;o++){var s=o>=n?t[e+o-n]:0,u=e>0?t[e+o-r]:0,l=e>0&&o>=n?t[e+o-(r+n)]:0,h=t[e+o]-i(s,u,l);a+=Math.abs(h)}return a}};e.exports=function(t,e,i,o,s){var u;if(\"filterType\"in o&&-1!==o.filterType){if(\"number\"!=typeof o.filterType)throw new Error(\"unrecognised filter types\");u=[o.filterType]}else u=[0,1,2,3,4];16===o.bitDepth&&(s*=2);for(var l=e*s,h=0,f=0,c=new r((l+1)*i),d=u[0],p=0;p<i;p++){if(u.length>1)for(var m=1/0,b=0;b<u.length;b++){var g=a[u[b]](t,f,l,s);g<m&&(d=u[b],m=g)}c[h]=d,h++,n[d](t,f,l,c,h,s),h+=l,f+=l}return c}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./paeth-predictor\":176,buffer:87}],168:[function(t,e,r){(function(r){(function(){\"use strict\";var i=t(\"util\"),n=t(\"./chunkstream\"),a=t(\"./filter-parse\"),o=e.exports=function(t){n.call(this);var e=[],i=this;this._filter=new a(t,{read:this.read.bind(this),write:function(t){e.push(t)},complete:function(){i.emit(\"complete\",r.concat(e))}}),this._filter.start()};i.inherits(o,n)}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./chunkstream\":164,\"./filter-parse\":170,buffer:87,util:235}],169:[function(t,e,r){(function(e){(function(){\"use strict\";var i=t(\"./sync-reader\"),n=t(\"./filter-parse\");r.process=function(t,r){var a=[],o=new i(t);return new n(r,{read:o.read.bind(o),write:function(t){a.push(t)},complete:function(){}}).start(),o.process(),e.concat(a)}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./filter-parse\":170,\"./sync-reader\":183,buffer:87}],170:[function(t,e,r){(function(r){(function(){\"use strict\";var i=t(\"./interlace\"),n=t(\"./paeth-predictor\");function a(t,e,r){var i=t*e;return 8!==r&&(i=Math.ceil(i/(8/r))),i}var o=e.exports=function(t,e){var r=t.width,n=t.height,o=t.interlace,s=t.bpp,u=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],o)for(var l=i.getImagePasses(r,n),h=0;h<l.length;h++)this._images.push({byteWidth:a(l[h].width,s,u),height:l[h].height,lineIndex:0});else this._images.push({byteWidth:a(r,s,u),height:n,lineIndex:0});this._xComparison=8===u?s:16===u?2*s:1};o.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},o.prototype._unFilterType1=function(t,e,r){for(var i=this._xComparison,n=i-1,a=0;a<r;a++){var o=t[1+a],s=a>n?e[a-i]:0;e[a]=o+s}},o.prototype._unFilterType2=function(t,e,r){for(var i=this._lastLine,n=0;n<r;n++){var a=t[1+n],o=i?i[n]:0;e[n]=a+o}},o.prototype._unFilterType3=function(t,e,r){for(var i=this._xComparison,n=i-1,a=this._lastLine,o=0;o<r;o++){var s=t[1+o],u=a?a[o]:0,l=o>n?e[o-i]:0,h=Math.floor((l+u)/2);e[o]=s+h}},o.prototype._unFilterType4=function(t,e,r){for(var i=this._xComparison,a=i-1,o=this._lastLine,s=0;s<r;s++){var u=t[1+s],l=o?o[s]:0,h=s>a?e[s-i]:0,f=s>a&&o?o[s-i]:0,c=n(h,l,f);e[s]=u+c}},o.prototype._reverseFilterLine=function(t){var e,i=t[0],n=this._images[this._imageIndex],a=n.byteWidth;if(0===i)e=t.slice(1,a+1);else switch(e=new r(a),i){case 1:this._unFilterType1(t,e,a);break;case 2:this._unFilterType2(t,e,a);break;case 3:this._unFilterType3(t,e,a);break;case 4:this._unFilterType4(t,e,a);break;default:throw new Error(\"Unrecognised filter type - \"+i)}this.write(e),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=e,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./interlace\":172,\"./paeth-predictor\":176,buffer:87}],171:[function(t,e,r){(function(t){(function(){\"use strict\";e.exports=function(e,r){var i=r.depth,n=r.width,a=r.height,o=r.colorType,s=r.transColor,u=r.palette,l=e;return 3===o?function(t,e,r,i,n){for(var a=0,o=0;o<i;o++)for(var s=0;s<r;s++){var u=n[t[a]];if(!u)throw new Error(\"index \"+t[a]+\" not in palette\");for(var l=0;l<4;l++)e[a+l]=u[l];a+=4}}(e,l,n,a,u):(s&&function(t,e,r,i,n){for(var a=0,o=0;o<i;o++)for(var s=0;s<r;s++){var u=!1;if(1===n.length?n[0]===t[a]&&(u=!0):n[0]===t[a]&&n[1]===t[a+1]&&n[2]===t[a+2]&&(u=!0),u)for(var l=0;l<4;l++)e[a+l]=0;a+=4}}(e,l,n,a,s),8!==i&&(16===i&&(l=new t(n*a*4)),function(t,e,r,i,n){for(var a=Math.pow(2,n)-1,o=0,s=0;s<i;s++)for(var u=0;u<r;u++){for(var l=0;l<4;l++)e[o+l]=Math.floor(255*t[o+l]/a+.5);o+=4}}(e,l,n,a,i))),l}}).call(this)}).call(this,t(\"buffer\").Buffer)},{buffer:87}],172:[function(t,e,r){\"use strict\";var i=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];r.getImagePasses=function(t,e){for(var r=[],n=t%8,a=e%8,o=(t-n)/8,s=(e-a)/8,u=0;u<i.length;u++){for(var l=i[u],h=o*l.x.length,f=s*l.y.length,c=0;c<l.x.length&&l.x[c]<n;c++)h++;for(c=0;c<l.y.length&&l.y[c]<a;c++)f++;h>0&&f>0&&r.push({width:h,height:f,index:u})}return r},r.getInterlaceIterator=function(t){return function(e,r,n){var a=e%i[n].x.length,o=(e-a)/i[n].x.length*8+i[n].x[a],s=r%i[n].y.length;return 4*o+((r-s)/i[n].y.length*8+i[n].y[s])*t*4}}},{}],173:[function(t,e,r){(function(r){(function(){\"use strict\";var i=t(\"util\"),n=t(\"stream\"),a=t(\"./constants\"),o=t(\"./packer\"),s=e.exports=function(t){n.call(this);var e=t||{};this._packer=new o(e),this._deflate=this._packer.createDeflate(),this.readable=!0};i.inherits(s,n),s.prototype.pack=function(t,e,i,n){this.emit(\"data\",new r(a.PNG_SIGNATURE)),this.emit(\"data\",this._packer.packIHDR(e,i)),n&&this.emit(\"data\",this._packer.packGAMA(n));var o=this._packer.filterData(t,e,i);this._deflate.on(\"error\",this.emit.bind(this,\"error\")),this._deflate.on(\"data\",function(t){this.emit(\"data\",this._packer.packIDAT(t))}.bind(this)),this._deflate.on(\"end\",function(){this.emit(\"data\",this._packer.packIEND()),this.emit(\"end\")}.bind(this)),this._deflate.end(o)}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./constants\":165,\"./packer\":175,buffer:87,stream:191,util:235}],174:[function(t,e,r){(function(r){(function(){\"use strict\";var i=!0,n=t(\"zlib\");n.deflateSync||(i=!1);var a=t(\"./constants\"),o=t(\"./packer\");e.exports=function(t,e){if(!i)throw new Error(\"To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0\");var s=new o(e||{}),u=[];u.push(new r(a.PNG_SIGNATURE)),u.push(s.packIHDR(t.width,t.height)),t.gamma&&u.push(s.packGAMA(t.gamma));var l=s.filterData(t.data,t.width,t.height),h=n.deflateSync(l,s.getDeflateOptions());if(l=null,!h||!h.length)throw new Error(\"bad png - invalid compressed data response\");return u.push(s.packIDAT(h)),u.push(s.packIEND()),r.concat(u)}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./constants\":165,\"./packer\":175,buffer:87,zlib:84}],175:[function(t,e,r){(function(r){(function(){\"use strict\";var i=t(\"./constants\"),n=t(\"./crc\"),a=t(\"./bitpacker\"),o=t(\"./filter-pack\"),s=t(\"zlib\"),u=e.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32768,t.deflateLevel=null!=t.deflateLevel?t.deflateLevel:9,t.deflateStrategy=null!=t.deflateStrategy?t.deflateStrategy:3,t.inputHasAlpha=null==t.inputHasAlpha||t.inputHasAlpha,t.deflateFactory=t.deflateFactory||s.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType=\"number\"==typeof t.colorType?t.colorType:i.COLORTYPE_COLOR_ALPHA,t.inputColorType=\"number\"==typeof t.inputColorType?t.inputColorType:i.COLORTYPE_COLOR_ALPHA,-1===[i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(t.colorType))throw new Error(\"option color type:\"+t.colorType+\" is not supported at present\");if(-1===[i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(t.inputColorType))throw new Error(\"option input color type:\"+t.inputColorType+\" is not supported at present\");if(8!==t.bitDepth&&16!==t.bitDepth)throw new Error(\"option bit depth:\"+t.bitDepth+\" is not supported at present\")};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(t,e,r){var n=a(t,e,r,this._options),s=i.COLORTYPE_TO_BPP_MAP[this._options.colorType];return o(n,e,r,this._options,s)},u.prototype._packChunk=function(t,e){var i=e?e.length:0,a=new r(i+12);return a.writeUInt32BE(i,0),a.writeUInt32BE(t,4),e&&e.copy(a,8),a.writeInt32BE(n.crc32(a.slice(4,a.length-4)),a.length-4),a},u.prototype.packGAMA=function(t){var e=new r(4);return e.writeUInt32BE(Math.floor(t*i.GAMMA_DIVISION),0),this._packChunk(i.TYPE_gAMA,e)},u.prototype.packIHDR=function(t,e){var n=new r(13);return n.writeUInt32BE(t,0),n.writeUInt32BE(e,4),n[8]=this._options.bitDepth,n[9]=this._options.colorType,n[10]=0,n[11]=0,n[12]=0,this._packChunk(i.TYPE_IHDR,n)},u.prototype.packIDAT=function(t){return this._packChunk(i.TYPE_IDAT,t)},u.prototype.packIEND=function(){return this._packChunk(i.TYPE_IEND,null)}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./bitpacker\":163,\"./constants\":165,\"./crc\":166,\"./filter-pack\":167,buffer:87,zlib:84}],176:[function(t,e,r){\"use strict\";e.exports=function(t,e,r){var i=t+e-r,n=Math.abs(i-t),a=Math.abs(i-e),o=Math.abs(i-r);return n<=a&&n<=o?t:a<=o?e:r}},{}],177:[function(t,e,r){\"use strict\";var i=t(\"util\"),n=t(\"zlib\"),a=t(\"./chunkstream\"),o=t(\"./filter-parse-async\"),s=t(\"./parser\"),u=t(\"./bitmapper\"),l=t(\"./format-normaliser\"),h=e.exports=function(t){a.call(this),this._parser=new s(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,\"gamma\"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};i.inherits(h,a),h.prototype._handleError=function(t){this.emit(\"error\",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on(\"error\",function(){})),this.errord=!0},h.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=n.createInflate(),this._inflate.on(\"error\",this.emit.bind(this,\"error\")),this._filter.on(\"complete\",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var e=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,r=Math.max(e,n.Z_MIN_CHUNK);this._inflate=n.createInflate({chunkSize:r});var i=e,a=this.emit.bind(this,\"error\");this._inflate.on(\"error\",function(t){i&&a(t)}),this._filter.on(\"complete\",this._complete.bind(this));var o=this._filter.write.bind(this._filter);this._inflate.on(\"data\",function(t){i&&(t.length>i&&(t=t.slice(0,i)),i-=t.length,o(t))}),this._inflate.on(\"end\",this._filter.end.bind(this._filter))}this._inflate.write(t)},h.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new o(this._bitmapInfo)},h.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},h.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},h.prototype._simpleTransparency=function(){this._metaData.alpha=!0},h.prototype._headersFinished=function(){this.emit(\"metadata\",this._metaData)},h.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit(\"error\",\"No Inflate block\"),this.destroySoon())},h.prototype._complete=function(t){if(!this.errord){try{var e=u.dataToBitMap(t,this._bitmapInfo),r=l(e,this._bitmapInfo);e=null}catch(t){return void this._handleError(t)}this.emit(\"parsed\",r)}}},{\"./bitmapper\":162,\"./chunkstream\":164,\"./filter-parse-async\":168,\"./format-normaliser\":171,\"./parser\":179,util:235,zlib:84}],178:[function(t,e,r){(function(r){(function(){\"use strict\";var i=!0,n=t(\"zlib\"),a=t(\"./sync-inflate\");n.deflateSync||(i=!1);var o=t(\"./sync-reader\"),s=t(\"./filter-parse-sync\"),u=t(\"./parser\"),l=t(\"./bitmapper\"),h=t(\"./format-normaliser\");e.exports=function(t,e){if(!i)throw new Error(\"To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0\");var f,c,d;var p=[];var m=new o(t);if(new u(e,{read:m.read.bind(m),error:function(t){f=t},metadata:function(t){c=t},gamma:function(t){d=t},palette:function(t){c.palette=t},transColor:function(t){c.transColor=t},inflateData:function(t){p.push(t)},simpleTransparency:function(){c.alpha=!0}}).start(),m.process(),f)throw f;var b,g=r.concat(p);if(p.length=0,c.interlace)b=n.inflateSync(g);else{var _=(1+(c.width*c.bpp*c.depth+7>>3))*c.height;b=a(g,{chunkSize:_,maxLength:_})}if(g=null,!b||!b.length)throw new Error(\"bad png - invalid inflate data response\");var y=s.process(b,c);g=null;var v=l.dataToBitMap(y,c);y=null;var w=h(v,c);return c.data=w,c.gamma=d||0,c}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./bitmapper\":162,\"./filter-parse-sync\":169,\"./format-normaliser\":171,\"./parser\":179,\"./sync-inflate\":182,\"./sync-reader\":183,buffer:87,zlib:84}],179:[function(t,e,r){(function(r){(function(){\"use strict\";var i=t(\"./constants\"),n=t(\"./crc\"),a=e.exports=function(t,e){this._options=t,t.checkCRC=!1!==t.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[i.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[i.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[i.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[i.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[i.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[i.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};a.prototype.start=function(){this.read(i.PNG_SIGNATURE.length,this._parseSignature.bind(this))},a.prototype._parseSignature=function(t){for(var e=i.PNG_SIGNATURE,r=0;r<e.length;r++)if(t[r]!==e[r])return void this.error(new Error(\"Invalid file signature\"));this.read(8,this._parseChunkBegin.bind(this))},a.prototype._parseChunkBegin=function(t){for(var e=t.readUInt32BE(0),a=t.readUInt32BE(4),o=\"\",s=4;s<8;s++)o+=String.fromCharCode(t[s]);var u=Boolean(32&t[4]);if(this._hasIHDR||a===i.TYPE_IHDR){if(this._crc=new n,this._crc.write(new r(o)),this._chunks[a])return this._chunks[a](e);u?this.read(e+4,this._skipChunk.bind(this)):this.error(new Error(\"Unsupported critical chunk type \"+o))}else this.error(new Error(\"Expected IHDR on beggining\"))},a.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},a.prototype._parseChunkEnd=function(t){var e=t.readInt32BE(0),r=this._crc.crc32();this._options.checkCRC&&r!==e?this.error(new Error(\"Crc error - \"+e+\" - \"+r)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},a.prototype._parseIHDR=function(t){this._crc.write(t);var e=t.readUInt32BE(0),r=t.readUInt32BE(4),n=t[8],a=t[9],o=t[10],s=t[11],u=t[12];if(8===n||4===n||2===n||1===n||16===n)if(a in i.COLORTYPE_TO_BPP_MAP)if(0===o)if(0===s)if(0===u||1===u){this._colorType=a;var l=i.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:r,depth:n,interlace:Boolean(u),palette:Boolean(a&i.COLORTYPE_PALETTE),color:Boolean(a&i.COLORTYPE_COLOR),alpha:Boolean(a&i.COLORTYPE_ALPHA),bpp:l,colorType:a}),this._handleChunkEnd()}else this.error(new Error(\"Unsupported interlace method\"));else this.error(new Error(\"Unsupported filter method\"));else this.error(new Error(\"Unsupported compression method\"));else this.error(new Error(\"Unsupported color type\"));else this.error(new Error(\"Unsupported bit depth \"+n))},a.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},a.prototype._parsePLTE=function(t){this._crc.write(t);for(var e=Math.floor(t.length/3),r=0;r<e;r++)this._palette.push([t[3*r],t[3*r+1],t[3*r+2],255]);this.palette(this._palette),this._handleChunkEnd()},a.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))},a.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===i.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error(\"Transparency chunk must be after palette\"));if(t.length>this._palette.length)return void this.error(new Error(\"More transparent colors than palette size\"));for(var e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===i.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===i.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},a.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},a.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/i.GAMMA_DIVISION),this._handleChunkEnd()},a.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))},a.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===i.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error(\"Expected palette not found\");this.inflateData(e);var r=t-e.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},a.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},a.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,t(\"buffer\").Buffer)},{\"./constants\":165,\"./crc\":166,buffer:87}],180:[function(t,e,r){\"use strict\";var i=t(\"./parser-sync\"),n=t(\"./packer-sync\");r.read=function(t,e){return i(t,e||{})},r.write=function(t,e){return n(t,e)}},{\"./packer-sync\":174,\"./parser-sync\":178}],181:[function(t,e,r){(function(e,i){(function(){\"use strict\";var n=t(\"util\"),a=t(\"stream\"),o=t(\"./parser-async\"),s=t(\"./packer-async\"),u=t(\"./png-sync\"),l=r.PNG=function(t){a.call(this),t=t||{},this.width=0|t.width,this.height=0|t.height,this.data=this.width>0&&this.height>0?new i(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new o(t),this._parser.on(\"error\",this.emit.bind(this,\"error\")),this._parser.on(\"close\",this._handleClose.bind(this)),this._parser.on(\"metadata\",this._metadata.bind(this)),this._parser.on(\"gamma\",this._gamma.bind(this)),this._parser.on(\"parsed\",function(t){this.data=t,this.emit(\"parsed\",t)}.bind(this)),this._packer=new s(t),this._packer.on(\"data\",this.emit.bind(this,\"data\")),this._packer.on(\"end\",this.emit.bind(this,\"end\")),this._parser.on(\"close\",this._handleClose.bind(this)),this._packer.on(\"error\",this.emit.bind(this,\"error\"))};n.inherits(l,a),l.sync=u,l.prototype.pack=function(){return this.data&&this.data.length?(e.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit(\"error\",\"No data provided\"),this)},l.prototype.parse=function(t,e){var r,i;e&&(r=function(t){this.removeListener(\"error\",i),this.data=t,e(null,this)}.bind(this),i=function(t){this.removeListener(\"parsed\",r),e(t,null)}.bind(this),this.once(\"parsed\",r),this.once(\"error\",i));return this.end(t),this},l.prototype.write=function(t){return this._parser.write(t),!0},l.prototype.end=function(t){this._parser.end(t)},l.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit(\"metadata\",t)},l.prototype._gamma=function(t){this.gamma=t},l.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit(\"close\")},l.bitblt=function(t,e,r,i,n,a,o,s){if(i|=0,n|=0,a|=0,o|=0,s|=0,(r|=0)>t.width||i>t.height||r+n>t.width||i+a>t.height)throw new Error(\"bitblt reading outside image\");if(o>e.width||s>e.height||o+n>e.width||s+a>e.height)throw new Error(\"bitblt writing outside image\");for(var u=0;u<a;u++)t.data.copy(e.data,(s+u)*e.width+o<<2,(i+u)*t.width+r<<2,(i+u)*t.width+r+n<<2)},l.prototype.bitblt=function(t,e,r,i,n,a,o){return l.bitblt(this,t,e,r,i,n,a,o),this},l.adjustGamma=function(t){if(t.gamma){for(var e=0;e<t.height;e++)for(var r=0;r<t.width;r++)for(var i=t.width*e+r<<2,n=0;n<3;n++){var a=t.data[i+n]/255;a=Math.pow(a,1/2.2/t.gamma),t.data[i+n]=Math.round(255*a)}t.gamma=0}},l.prototype.adjustGamma=function(){l.adjustGamma(this)}}).call(this)}).call(this,t(\"_process\"),t(\"buffer\").Buffer)},{\"./packer-async\":173,\"./parser-async\":177,\"./png-sync\":180,_process:184,buffer:87,stream:191,util:235}],182:[function(t,e,r){(function(i,n){(function(){\"use strict\";var a=t(\"assert\").ok,o=t(\"zlib\"),s=t(\"util\"),u=t(\"buffer\").kMaxLength;function l(t){if(!(this instanceof l))return new l(t);t&&t.chunkSize<o.Z_MIN_CHUNK&&(t.chunkSize=o.Z_MIN_CHUNK),o.Inflate.call(this,t),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&null!=t.maxLength&&(this._maxLength=t.maxLength)}function h(t,e){e&&i.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}function f(t,e){return function(t,e){if(\"string\"==typeof e&&(e=n.from(e)),!(e instanceof n))throw new TypeError(\"Not a string or buffer\");var r=t._finishFlushFlag;return null==r&&(r=o.Z_FINISH),t._processChunk(e,r)}(new l(e),t)}l.prototype._processChunk=function(t,e,r){if(\"function\"==typeof r)return o.Inflate._processChunk.call(this,t,e,r);var i,s=this,l=t&&t.length,f=this._chunkSize-this._offset,c=this._maxLength,d=0,p=[],m=0;function b(t,e){if(!s._hadError){var r=f-e;if(a(r>=0,\"have should not go down\"),r>0){var i=s._buffer.slice(s._offset,s._offset+r);if(s._offset+=r,i.length>c&&(i=i.slice(0,c)),p.push(i),m+=i.length,0===(c-=i.length))return!1}return(0===e||s._offset>=s._chunkSize)&&(f=s._chunkSize,s._offset=0,s._buffer=n.allocUnsafe(s._chunkSize)),0===e&&(d+=l-t,l=t,!0)}}this.on(\"error\",function(t){i=t}),a(this._handle,\"zlib binding closed\");do{var g=this._handle.writeSync(e,t,d,l,this._buffer,this._offset,f);g=g||this._writeState}while(!this._hadError&&b(g[0],g[1]));if(this._hadError)throw i;if(m>=u)throw h(this),new RangeError(\"Cannot create final Buffer. It would be larger than 0x\"+u.toString(16)+\" bytes\");var _=n.concat(p,m);return h(this),_},s.inherits(l,o.Inflate),e.exports=r=f,r.Inflate=l,r.createInflate=function(t){return new l(t)},r.inflateSync=f}).call(this)}).call(this,t(\"_process\"),t(\"buffer\").Buffer)},{_process:184,assert:73,buffer:87,util:235,zlib:84}],183:[function(t,e,r){\"use strict\";var i=e.exports=function(t){this._buffer=t,this._reads=[]};i.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})},i.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var t=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=t.length||t.allowLess))break;this._reads.shift();var e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}return this._reads.length>0?new Error(\"There are some read requests waitng on finished stream\"):this._buffer.length>0?new Error(\"unrecognised content at end of stream\"):void 0}},{}],184:[function(t,e,r){var i,n,a=e.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function s(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i=\"function\"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n=\"function\"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var l,h=[],f=!1,c=-1;function d(){f&&l&&(f=!1,l.length?h=l.concat(h):c=-1,h.length&&p())}function p(){if(!f){var t=u(d);f=!0;for(var e=h.length;e;){for(l=h,h=[];++c<e;)l&&l[c].run();c=-1,e=h.length}l=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function b(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new m(t,e)),1!==h.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title=\"browser\",a.browser=!0,a.env={},a.argv=[],a.version=\"\",a.versions={},a.on=b,a.addListener=b,a.once=b,a.off=b,a.removeListener=b,a.removeAllListeners=b,a.emit=b,a.prependListener=b,a.prependOnceListener=b,a.listeners=function(t){return[]},a.binding=function(t){throw new Error(\"process.binding is not supported\")},a.cwd=function(){return\"/\"},a.chdir=function(t){throw new Error(\"process.chdir is not supported\")},a.umask=function(){return 0}},{}],185:[function(t,e,r){(function(t){(function(){!function(i){var n=\"object\"==typeof r&&r&&!r.nodeType&&r,a=\"object\"==typeof e&&e&&!e.nodeType&&e,o=\"object\"==typeof t&&t;o.global!==o&&o.window!==o&&o.self!==o||(i=o);var s,u,l=2147483647,h=36,f=1,c=26,d=38,p=700,m=72,b=128,g=\"-\",_=/^xn--/,y=/[^\\x20-\\x7E]/,v=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,w={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},E=h-f,x=Math.floor,I=String.fromCharCode;function S(t){throw new RangeError(w[t])}function A(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function M(t,e){var r=t.split(\"@\"),i=\"\";return r.length>1&&(i=r[0]+\"@\",t=r[1]),i+A((t=t.replace(v,\".\")).split(\".\"),e).join(\".\")}function C(t){for(var e,r,i=[],n=0,a=t.length;n<a;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<a?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function T(t){return A(t,function(t){var e=\"\";return t>65535&&(e+=I((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=I(t)}).join(\"\")}function k(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,r){var i=0;for(t=r?x(t/p):t>>1,t+=x(t/e);t>E*c>>1;i+=h)t=x(t/E);return x(i+(E+1)*t/(t+d))}function R(t){var e,r,i,n,a,o,s,u,d,p,_,y=[],v=t.length,w=0,E=b,I=m;for((r=t.lastIndexOf(g))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&S(\"not-basic\"),y.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<v;){for(a=w,o=1,s=h;n>=v&&S(\"invalid-input\"),((u=(_=t.charCodeAt(n++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:h)>=h||u>x((l-w)/o))&&S(\"overflow\"),w+=u*o,!(u<(d=s<=I?f:s>=I+c?c:s-I));s+=h)o>x(l/(p=h-d))&&S(\"overflow\"),o*=p;I=P(w-a,e=y.length+1,0==a),x(w/e)>l-E&&S(\"overflow\"),E+=x(w/e),w%=e,y.splice(w++,0,E)}return T(y)}function L(t){var e,r,i,n,a,o,s,u,d,p,_,y,v,w,E,A=[];for(y=(t=C(t)).length,e=b,r=0,a=m,o=0;o<y;++o)(_=t[o])<128&&A.push(I(_));for(i=n=A.length,n&&A.push(g);i<y;){for(s=l,o=0;o<y;++o)(_=t[o])>=e&&_<s&&(s=_);for(s-e>x((l-r)/(v=i+1))&&S(\"overflow\"),r+=(s-e)*v,e=s,o=0;o<y;++o)if((_=t[o])<e&&++r>l&&S(\"overflow\"),_==e){for(u=r,d=h;!(u<(p=d<=a?f:d>=a+c?c:d-a));d+=h)E=u-p,w=h-p,A.push(I(k(p+E%w,0))),u=x(E/w);A.push(I(k(u,0))),a=P(r,v,i==n),r=0,++i}++r,++e}return A.join(\"\")}if(s={version:\"1.4.1\",ucs2:{decode:C,encode:T},decode:R,encode:L,toASCII:function(t){return M(t,function(t){return y.test(t)?\"xn--\"+L(t):t})},toUnicode:function(t){return M(t,function(t){return _.test(t)?R(t.slice(4).toLowerCase()):t})}},\"function\"==typeof define&&\"object\"==typeof define.amd&&define.amd)define(\"punycode\",function(){return s});else if(n&&a)if(e.exports==n)a.exports=s;else for(u in s)s.hasOwnProperty(u)&&(n[u]=s[u]);else i.punycode=s}(this)}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],186:[function(t,e,r){\"use strict\";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,a){e=e||\"&\",r=r||\"=\";var o={};if(\"string\"!=typeof t||0===t.length)return o;var s=/\\+/g;t=t.split(e);var u=1e3;a&&\"number\"==typeof a.maxKeys&&(u=a.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var h=0;h<l;++h){var f,c,d,p,m=t[h].replace(s,\"%20\"),b=m.indexOf(r);b>=0?(f=m.substr(0,b),c=m.substr(b+1)):(f=m,c=\"\"),d=decodeURIComponent(f),p=decodeURIComponent(c),i(o,d)?n(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o};var n=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}},{}],187:[function(t,e,r){\"use strict\";var i=function(t){switch(typeof t){case\"string\":return t;case\"boolean\":return t?\"true\":\"false\";case\"number\":return isFinite(t)?t:\"\";default:return\"\"}};e.exports=function(t,e,r,s){return e=e||\"&\",r=r||\"=\",null===t&&(t=void 0),\"object\"==typeof t?a(o(t),function(o){var s=encodeURIComponent(i(o))+r;return n(t[o])?a(t[o],function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[o]))}).join(e):s?encodeURIComponent(i(s))+r+encodeURIComponent(i(t)):\"\"};var n=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var o=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],188:[function(t,e,r){\"use strict\";r.decode=r.parse=t(\"./decode\"),r.encode=r.stringify=t(\"./encode\")},{\"./decode\":186,\"./encode\":187}],189:[function(t,e,r){var i=function(t){\"use strict\";var e,r=Object.prototype,i=r.hasOwnProperty,n=\"function\"==typeof Symbol?Symbol:{},a=n.iterator||\"@@iterator\",o=n.asyncIterator||\"@@asyncIterator\",s=n.toStringTag||\"@@toStringTag\";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,i){var n=e&&e.prototype instanceof b?e:b,a=Object.create(n.prototype),o=new C(i||[]);return a._invoke=function(t,e,r){var i=f;return function(n,a){if(i===d)throw new Error(\"Generator is already running\");if(i===p){if(\"throw\"===n)throw a;return k()}for(r.method=n,r.arg=a;;){var o=r.delegate;if(o){var s=S(o,r);if(s){if(s===m)continue;return s}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);i=d;var u=h(t,e,r);if(\"normal\"===u.type){if(i=r.done?p:c,u.arg===m)continue;return{value:u.arg,done:r.done}}\"throw\"===u.type&&(i=p,r.method=\"throw\",r.arg=u.arg)}}}(t,r,o),a}function h(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}t.wrap=l;var f=\"suspendedStart\",c=\"suspendedYield\",d=\"executing\",p=\"completed\",m={};function b(){}function g(){}function _(){}var y={};u(y,a,function(){return this});var v=Object.getPrototypeOf,w=v&&v(v(T([])));w&&w!==r&&i.call(w,a)&&(y=w);var E=_.prototype=b.prototype=Object.create(y);function x(t){[\"next\",\"throw\",\"return\"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function I(t,e){var r;this._invoke=function(n,a){function o(){return new e(function(r,o){!function r(n,a,o,s){var u=h(t[n],t,a);if(\"throw\"!==u.type){var l=u.arg,f=l.value;return f&&\"object\"==typeof f&&i.call(f,\"__await\")?e.resolve(f.__await).then(function(t){r(\"next\",t,o,s)},function(t){r(\"throw\",t,o,s)}):e.resolve(f).then(function(t){l.value=t,o(l)},function(t){return r(\"throw\",t,o,s)})}s(u.arg)}(n,a,r,o)})}return r=r?r.then(o,o):o()}}function S(t,r){var i=t.iterator[r.method];if(i===e){if(r.delegate=null,\"throw\"===r.method){if(t.iterator.return&&(r.method=\"return\",r.arg=e,S(t,r),\"throw\"===r.method))return m;r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return m}var n=h(i,t.iterator,r.arg);if(\"throw\"===n.type)return r.method=\"throw\",r.arg=n.arg,r.delegate=null,m;var a=n.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(A,this),this.reset(!0)}function T(t){if(t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){for(;++n<t.length;)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:k}}function k(){return{value:e,done:!0}}return g.prototype=_,u(E,\"constructor\",_),u(_,\"constructor\",g),g.displayName=u(_,s,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===g||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,u(t,s,\"GeneratorFunction\")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},x(I.prototype),u(I.prototype,o,function(){return this}),t.AsyncIterator=I,t.async=function(e,r,i,n,a){void 0===a&&(a=Promise);var o=new I(l(e,r,i,n),a);return t.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(E),u(E,s,\"Generator\"),u(E,a,function(){return this}),u(E,\"toString\",function(){return\"[object Generator]\"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(M),!t)for(var r in this)\"t\"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(i,n){return s.type=\"throw\",s.arg=t,r.next=i,n&&(r.method=\"next\",r.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if(\"root\"===o.tryLoc)return n(\"end\");if(o.tryLoc<=this.prev){var u=i.call(o,\"catchLoc\"),l=i.call(o,\"finallyLoc\");if(u&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,\"finallyLoc\")&&this.prev<n.finallyLoc){var a=n;break}}a&&(\"break\"===t||\"continue\"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method=\"next\",this.next=a.finallyLoc,m):this.complete(o)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),M(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if(\"throw\"===i.type){var n=i.arg;M(r)}return n}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,i){return this.delegate={iterator:T(t),resultName:r,nextLoc:i},\"next\"===this.method&&(this.arg=e),m}},t}(\"object\"==typeof e?e.exports:{});try{regeneratorRuntime=i}catch(t){\"object\"==typeof globalThis?globalThis.regeneratorRuntime=i:Function(\"r\",\"regeneratorRuntime = r\")(i)}},{}],190:[function(t,e,r){var i=t(\"buffer\"),n=i.Buffer;function a(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(a(i,r),r.Buffer=o),o.prototype=Object.create(n.prototype),a(n,o),o.from=function(t,e,r){if(\"number\"==typeof t)throw new TypeError(\"Argument must not be a number\");return n(t,e,r)},o.alloc=function(t,e,r){if(\"number\"!=typeof t)throw new TypeError(\"Argument must be a number\");var i=n(t);return void 0!==e?\"string\"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if(\"number\"!=typeof t)throw new TypeError(\"Argument must be a number\");return n(t)},o.allocUnsafeSlow=function(t){if(\"number\"!=typeof t)throw new TypeError(\"Argument must be a number\");return i.SlowBuffer(t)}},{buffer:87}],191:[function(t,e,r){e.exports=n;var i=t(\"events\").EventEmitter;function n(){i.call(this)}t(\"inherits\")(n,i),n.Readable=t(\"readable-stream/lib/_stream_readable.js\"),n.Writable=t(\"readable-stream/lib/_stream_writable.js\"),n.Duplex=t(\"readable-stream/lib/_stream_duplex.js\"),n.Transform=t(\"readable-stream/lib/_stream_transform.js\"),n.PassThrough=t(\"readable-stream/lib/_stream_passthrough.js\"),n.finished=t(\"readable-stream/lib/internal/streams/end-of-stream.js\"),n.pipeline=t(\"readable-stream/lib/internal/streams/pipeline.js\"),n.Stream=n,n.prototype.pipe=function(t,e){var r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function a(){r.readable&&r.resume&&r.resume()}r.on(\"data\",n),t.on(\"drain\",a),t._isStdio||e&&!1===e.end||(r.on(\"end\",s),r.on(\"close\",u));var o=!1;function s(){o||(o=!0,t.end())}function u(){o||(o=!0,\"function\"==typeof t.destroy&&t.destroy())}function l(t){if(h(),0===i.listenerCount(this,\"error\"))throw t}function h(){r.removeListener(\"data\",n),t.removeListener(\"drain\",a),r.removeListener(\"end\",s),r.removeListener(\"close\",u),r.removeListener(\"error\",l),t.removeListener(\"error\",l),r.removeListener(\"end\",h),r.removeListener(\"close\",h),t.removeListener(\"close\",h)}return r.on(\"error\",l),t.on(\"error\",l),r.on(\"end\",h),r.on(\"close\",h),t.on(\"close\",h),t.emit(\"pipe\",r),t}},{events:92,inherits:121,\"readable-stream/lib/_stream_duplex.js\":193,\"readable-stream/lib/_stream_passthrough.js\":194,\"readable-stream/lib/_stream_readable.js\":195,\"readable-stream/lib/_stream_transform.js\":196,\"readable-stream/lib/_stream_writable.js\":197,\"readable-stream/lib/internal/streams/end-of-stream.js\":201,\"readable-stream/lib/internal/streams/pipeline.js\":203}],192:[function(t,e,r){\"use strict\";var i={};function n(t,e,r){r||(r=Error);var n=function(t){var r,i;function n(r,i,n){return t.call(this,function(t,r,i){return\"string\"==typeof e?e:e(t,r,i)}(r,i,n))||this}return i=t,(r=n).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i,n}(r);n.prototype.name=r.name,n.prototype.code=t,i[t]=n}function a(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(t){return String(t)}),r>2?\"one of \".concat(e,\" \").concat(t.slice(0,r-1).join(\", \"),\", or \")+t[r-1]:2===r?\"one of \".concat(e,\" \").concat(t[0],\" or \").concat(t[1]):\"of \".concat(e,\" \").concat(t[0])}return\"of \".concat(e,\" \").concat(String(t))}n(\"ERR_INVALID_OPT_VALUE\",function(t,e){return'The value \"'+e+'\" is invalid for option \"'+t+'\"'},TypeError),n(\"ERR_INVALID_ARG_TYPE\",function(t,e,r){var i,n,o,s;if(\"string\"==typeof e&&(n=\"not \",e.substr(!o||o<0?0:+o,n.length)===n)?(i=\"must not be\",e=e.replace(/^not /,\"\")):i=\"must be\",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t,\" argument\"))s=\"The \".concat(t,\" \").concat(i,\" \").concat(a(e,\"type\"));else{var u=function(t,e,r){return\"number\"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,\".\")?\"property\":\"argument\";s='The \"'.concat(t,'\" ').concat(u,\" \").concat(i,\" \").concat(a(e,\"type\"))}return s+=\". Received type \".concat(typeof r)},TypeError),n(\"ERR_STREAM_PUSH_AFTER_EOF\",\"stream.push() after EOF\"),n(\"ERR_METHOD_NOT_IMPLEMENTED\",function(t){return\"The \"+t+\" method is not implemented\"}),n(\"ERR_STREAM_PREMATURE_CLOSE\",\"Premature close\"),n(\"ERR_STREAM_DESTROYED\",function(t){return\"Cannot call \"+t+\" after a stream was destroyed\"}),n(\"ERR_MULTIPLE_CALLBACK\",\"Callback called multiple times\"),n(\"ERR_STREAM_CANNOT_PIPE\",\"Cannot pipe, not readable\"),n(\"ERR_STREAM_WRITE_AFTER_END\",\"write after end\"),n(\"ERR_STREAM_NULL_VALUES\",\"May not write null values to stream\",TypeError),n(\"ERR_UNKNOWN_ENCODING\",function(t){return\"Unknown encoding: \"+t},TypeError),n(\"ERR_STREAM_UNSHIFT_AFTER_END_EVENT\",\"stream.unshift() after end event\"),e.exports.codes=i},{}],193:[function(t,e,r){(function(r){(function(){\"use strict\";var i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};e.exports=l;var n=t(\"./_stream_readable\"),a=t(\"./_stream_writable\");t(\"inherits\")(l,n);for(var o=i(a.prototype),s=0;s<o.length;s++){var u=o[s];l.prototype[u]||(l.prototype[u]=a.prototype[u])}function l(t){if(!(this instanceof l))return new l(t);n.call(this,t),a.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once(\"end\",h)))}function h(){this._writableState.ended||r.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(l.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this)}).call(this,t(\"_process\"))},{\"./_stream_readable\":195,\"./_stream_writable\":197,_process:184,inherits:121}],194:[function(t,e,r){\"use strict\";e.exports=n;var i=t(\"./_stream_transform\");function n(t){if(!(this instanceof n))return new n(t);i.call(this,t)}t(\"inherits\")(n,i),n.prototype._transform=function(t,e,r){r(null,t)}},{\"./_stream_transform\":196,inherits:121}],195:[function(t,e,r){(function(r,i){(function(){\"use strict\";var n;e.exports=S,S.ReadableState=I;t(\"events\").EventEmitter;var a=function(t,e){return t.listeners(e).length},o=t(\"./internal/streams/stream\"),s=t(\"buffer\").Buffer,u=i.Uint8Array||function(){};var l,h=t(\"util\");l=h&&h.debuglog?h.debuglog(\"stream\"):function(){};var f,c,d,p=t(\"./internal/streams/buffer_list\"),m=t(\"./internal/streams/destroy\"),b=t(\"./internal/streams/state\").getHighWaterMark,g=t(\"../errors\").codes,_=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t(\"inherits\")(S,o);var E=m.errorOrDestroy,x=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function I(e,r,i){n=n||t(\"./_stream_duplex\"),e=e||{},\"boolean\"!=typeof i&&(i=r instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,\"readableHighWaterMark\",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=t(\"string_decoder/\").StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||t(\"./_stream_duplex\"),!(this instanceof S))return new S(e);var r=this instanceof n;this._readableState=new I(e,this,r),this.readable=!0,e&&(\"function\"==typeof e.read&&(this._read=e.read),\"function\"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function A(t,e,r,i,n){l(\"readableAddChunk\",e);var a,o=t._readableState;if(null===e)o.reading=!1,function(t,e){if(l(\"onEofChunk\"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?k(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,P(t)))}(t,o);else if(n||(a=function(t,e){var r;i=e,s.isBuffer(i)||i instanceof u||\"string\"==typeof e||void 0===e||t.objectMode||(r=new _(\"chunk\",[\"string\",\"Buffer\",\"Uint8Array\"],e));var i;return r}(o,e)),a)E(t,a);else if(o.objectMode||e&&e.length>0)if(\"string\"==typeof e||o.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),i)o.endEmitted?E(t,new w):M(t,o,e,!0);else if(o.ended)E(t,new y);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||0!==e.length?M(t,o,e,!1):R(t,o)):M(t,o,e,!1)}else i||(o.reading=!1,R(t,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function M(t,e,r,i){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit(\"data\",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&k(t)),R(t,e)}Object.defineProperty(S.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=m.destroy,S.prototype._undestroy=m.undestroy,S.prototype._destroy=function(t,e){e(t)},S.prototype.push=function(t,e){var r,i=this._readableState;return i.objectMode?r=!0:\"string\"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=s.from(t,e),e=\"\"),r=!0),A(this,t,e,!1,r)},S.prototype.unshift=function(t){return A(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){f||(f=t(\"string_decoder/\").StringDecoder);var r=new f(e);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n=\"\";null!==i;)n+=r.write(i.data),i=i.next;return this._readableState.buffer.clear(),\"\"!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var C=1073741824;function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=C?t=C:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function k(t){var e=t._readableState;l(\"emitReadable\",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(l(\"emitReadable\",e.flowing),e.emittedReadable=!0,r.nextTick(P,t))}function P(t){var e=t._readableState;l(\"emitReadable_\",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit(\"readable\"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,D(t)}function R(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(L,t,e))}function L(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(l(\"maybeReadMore read 0\"),t.read(0),r===e.length)break}e.readingMore=!1}function O(t){var e=t._readableState;e.readableListening=t.listenerCount(\"readable\")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount(\"data\")>0&&t.resume()}function B(t){l(\"readable nexttick read 0\"),t.read(0)}function N(t,e){l(\"resume\",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit(\"resume\"),D(t),e.flowing&&!e.reading&&t.read(0)}function D(t){var e=t._readableState;for(l(\"flow\",e.flowing);e.flowing&&null!==t.read(););}function U(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(\"\"):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function j(t){var e=t._readableState;l(\"endReadable\",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(F,e,t))}function F(t,e){if(l(\"endReadableNT\",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit(\"end\"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function z(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}S.prototype.read=function(t){l(\"read\",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return l(\"read: emitReadable\",e.length,e.ended),0===e.length&&e.ended?j(this):k(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&j(this),null;var i,n=e.needReadable;return l(\"need readable\",n),(0===e.length||e.length-t<e.highWaterMark)&&l(\"length less than watermark\",n=!0),e.ended||e.reading?l(\"reading or ended\",n=!1):n&&(l(\"do read\"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(r,e))),null===(i=t>0?U(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&j(this)),null!==i&&this.emit(\"data\",i),i},S.prototype._read=function(t){E(this,new v(\"_read()\"))},S.prototype.pipe=function(t,e){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,l(\"pipe count=%d opts=%j\",n.pipesCount,e);var o=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?u:b;function s(e,r){l(\"onunpipe\"),e===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l(\"cleanup\"),t.removeListener(\"close\",p),t.removeListener(\"finish\",m),t.removeListener(\"drain\",h),t.removeListener(\"error\",d),t.removeListener(\"unpipe\",s),i.removeListener(\"end\",u),i.removeListener(\"end\",b),i.removeListener(\"data\",c),f=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function u(){l(\"onend\"),t.end()}n.endEmitted?r.nextTick(o):i.once(\"end\",o),t.on(\"unpipe\",s);var h=function(t){return function(){var e=t._readableState;l(\"pipeOnDrain\",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,\"data\")&&(e.flowing=!0,D(t))}}(i);t.on(\"drain\",h);var f=!1;function c(e){l(\"ondata\");var r=t.write(e);l(\"dest.write\",r),!1===r&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==z(n.pipes,t))&&!f&&(l(\"false write response, pause\",n.awaitDrain),n.awaitDrain++),i.pause())}function d(e){l(\"onerror\",e),b(),t.removeListener(\"error\",d),0===a(t,\"error\")&&E(t,e)}function p(){t.removeListener(\"finish\",m),b()}function m(){l(\"onfinish\"),t.removeListener(\"close\",p),b()}function b(){l(\"unpipe\"),i.unpipe(t)}return i.on(\"data\",c),function(t,e,r){if(\"function\"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,\"error\",d),t.once(\"close\",p),t.once(\"finish\",m),t.emit(\"pipe\",i),n.flowing||(l(\"pipe resume\"),i.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit(\"unpipe\",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<n;a++)i[a].emit(\"unpipe\",this,{hasUnpiped:!1});return this}var o=z(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit(\"unpipe\",this,r),this)},S.prototype.on=function(t,e){var i=o.prototype.on.call(this,t,e),n=this._readableState;return\"data\"===t?(n.readableListening=this.listenerCount(\"readable\")>0,!1!==n.flowing&&this.resume()):\"readable\"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,l(\"on readable\",n.length,n.reading),n.length?k(this):n.reading||r.nextTick(B,this))),i},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(t,e){var i=o.prototype.removeListener.call(this,t,e);return\"readable\"===t&&r.nextTick(O,this),i},S.prototype.removeAllListeners=function(t){var e=o.prototype.removeAllListeners.apply(this,arguments);return\"readable\"!==t&&void 0!==t||r.nextTick(O,this),e},S.prototype.resume=function(){var t=this._readableState;return t.flowing||(l(\"resume\"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(N,t,e))}(this,t)),t.paused=!1,this},S.prototype.pause=function(){return l(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(l(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this._readableState.paused=!0,this},S.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;for(var n in t.on(\"end\",function(){if(l(\"wrapped end\"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on(\"data\",function(n){(l(\"wrapped data\"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n)||(r.objectMode||n&&n.length)&&(e.push(n)||(i=!0,t.pause()))}),t)void 0===this[n]&&\"function\"==typeof t[n]&&(this[n]=function(e){return function(){return t[e].apply(t,arguments)}}(n));for(var a=0;a<x.length;a++)t.on(x[a],this.emit.bind(this,x[a]));return this._read=function(e){l(\"wrapped _read\",e),i&&(i=!1,t.resume())},this},\"function\"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===c&&(c=t(\"./internal/streams/async_iterator\")),c(this)}),Object.defineProperty(S.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,\"readableBuffer\",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,\"readableFlowing\",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),S._fromList=U,Object.defineProperty(S.prototype,\"readableLength\",{enumerable:!1,get:function(){return this._readableState.length}}),\"function\"==typeof Symbol&&(S.from=function(e,r){return void 0===d&&(d=t(\"./internal/streams/from\")),d(S,e,r)})}).call(this)}).call(this,t(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"../errors\":192,\"./_stream_duplex\":193,\"./internal/streams/async_iterator\":198,\"./internal/streams/buffer_list\":199,\"./internal/streams/destroy\":200,\"./internal/streams/from\":202,\"./internal/streams/state\":204,\"./internal/streams/stream\":205,_process:184,buffer:87,events:92,inherits:121,\"string_decoder/\":225,util:82}],196:[function(t,e,r){\"use strict\";e.exports=h;var i=t(\"../errors\").codes,n=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,u=t(\"./_stream_duplex\");function l(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit(\"error\",new a);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function h(t){if(!(this instanceof h))return new h(t);u.call(this,t),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(\"function\"==typeof t.transform&&(this._transform=t.transform),\"function\"==typeof t.flush&&(this._flush=t.flush)),this.on(\"prefinish\",f)}function f(){var t=this;\"function\"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush(function(e,r){c(t,e,r)})}function c(t,e,r){if(e)return t.emit(\"error\",e);if(null!=r&&t.push(r),t._writableState.length)throw new s;if(t._transformState.transforming)throw new o;return t.push(null)}t(\"inherits\")(h,u),h.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},h.prototype._transform=function(t,e,r){r(new n(\"_transform()\"))},h.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},h.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},h.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,function(t){e(t)})}},{\"../errors\":192,\"./_stream_duplex\":193,inherits:121}],197:[function(t,e,r){(function(r,i){(function(){\"use strict\";function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var i=t.entry;t.entry=null;for(;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}(e,t)}}var a;e.exports=S,S.WritableState=I;var o={deprecate:t(\"util-deprecate\")},s=t(\"./internal/streams/stream\"),u=t(\"buffer\").Buffer,l=i.Uint8Array||function(){};var h,f=t(\"./internal/streams/destroy\"),c=t(\"./internal/streams/state\").getHighWaterMark,d=t(\"../errors\").codes,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,E=f.errorOrDestroy;function x(){}function I(e,i,o){a=a||t(\"./_stream_duplex\"),e=e||{},\"boolean\"!=typeof o&&(o=i instanceof a),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=c(this,e,\"writableHighWaterMark\",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var i=t._writableState,n=i.sync,a=i.writecb;if(\"function\"!=typeof a)throw new b;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(i),e)!function(t,e,i,n,a){--e.pendingcb,i?(r.nextTick(a,n),r.nextTick(P,t,e),t._writableState.errorEmitted=!0,E(t,n)):(a(n),t._writableState.errorEmitted=!0,E(t,n),P(t,e))}(t,i,n,e,a);else{var o=T(i)||t.destroyed;o||i.corked||i.bufferProcessing||!i.bufferedRequest||C(t,i),n?r.nextTick(M,t,i,o,a):M(t,i,o,a)}}(i,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var r=this instanceof(a=a||t(\"./_stream_duplex\"));if(!r&&!h.call(S,this))return new S(e);this._writableState=new I(e,this,r),this.writable=!0,e&&(\"function\"==typeof e.write&&(this._write=e.write),\"function\"==typeof e.writev&&(this._writev=e.writev),\"function\"==typeof e.destroy&&(this._destroy=e.destroy),\"function\"==typeof e.final&&(this._final=e.final)),s.call(this)}function A(t,e,r,i,n,a,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new _(\"write\")):r?t._writev(n,e.onwrite):t._write(n,a,e.onwrite),e.sync=!1}function M(t,e,r,i){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit(\"drain\"))}(t,e),e.pendingcb--,i(),P(t,e)}function C(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,a=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,A(t,e,!0,e.length,a,\"\",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new n(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,h=r.encoding,f=r.callback;if(A(t,e,!1,e.objectMode?1:l.length,l,h,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final(function(r){e.pendingcb--,r&&E(t,r),e.prefinished=!0,t.emit(\"prefinish\"),P(t,e)})}function P(t,e){var i=T(e);if(i&&(function(t,e){e.prefinished||e.finalCalled||(\"function\"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit(\"prefinish\")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(k,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit(\"finish\"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return i}t(\"inherits\")(S,s),I.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(I.prototype,\"buffer\",{get:o.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(t){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===S&&(t&&t._writableState instanceof I)}})):h=function(t){return t instanceof this},S.prototype.pipe=function(){E(this,new g)},S.prototype.write=function(t,e,i){var n,a=this._writableState,o=!1,s=!a.objectMode&&(n=t,u.isBuffer(n)||n instanceof l);return s&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),\"function\"==typeof e&&(i=e,e=null),s?e=\"buffer\":e||(e=a.defaultEncoding),\"function\"!=typeof i&&(i=x),a.ending?function(t,e){var i=new v;E(t,i),r.nextTick(e,i)}(this,i):(s||function(t,e,i,n){var a;return null===i?a=new y:\"string\"==typeof i||e.objectMode||(a=new p(\"chunk\",[\"string\",\"Buffer\"],i)),!a||(E(t,a),r.nextTick(n,a),!1)}(this,a,t,i))&&(a.pendingcb++,o=function(t,e,r,i,n,a){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||\"string\"!=typeof e||(e=u.from(e,r));return e}(e,i,n);i!==o&&(r=!0,n=\"buffer\",i=o)}var s=e.objectMode?1:i.length;e.length+=s;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else A(t,e,!1,s,i,n,a);return l}(this,a,s,t,e,i)),o},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||C(this,t))},S.prototype.setDefaultEncoding=function(t){if(\"string\"==typeof t&&(t=t.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((t+\"\").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,r){r(new m(\"_write()\"))},S.prototype._writev=null,S.prototype.end=function(t,e,i){var n=this._writableState;return\"function\"==typeof t?(i=t,t=null,e=null):\"function\"==typeof e&&(i=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,i){e.ending=!0,P(t,e),i&&(e.finished?r.nextTick(i):t.once(\"finish\",i));e.ended=!0,t.writable=!1}(this,n,i),this},Object.defineProperty(S.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=f.destroy,S.prototype._undestroy=f.undestroy,S.prototype._destroy=function(t,e){e(t)}}).call(this)}).call(this,t(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"../errors\":192,\"./_stream_duplex\":193,\"./internal/streams/destroy\":200,\"./internal/streams/state\":204,\"./internal/streams/stream\":205,_process:184,buffer:87,inherits:121,\"util-deprecate\":232}],198:[function(t,e,r){(function(r){(function(){\"use strict\";var i;function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=t(\"./end-of-stream\"),o=Symbol(\"lastResolve\"),s=Symbol(\"lastReject\"),u=Symbol(\"error\"),l=Symbol(\"ended\"),h=Symbol(\"lastPromise\"),f=Symbol(\"handlePromise\"),c=Symbol(\"stream\");function d(t,e){return{value:t,done:e}}function p(t){var e=t[o];if(null!==e){var r=t[c].read();null!==r&&(t[h]=null,t[o]=null,t[s]=null,e(d(r,!1)))}}var m=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((n(i={get stream(){return this[c]},next:function(){var t=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[l])return Promise.resolve(d(void 0,!0));if(this[c].destroyed)return new Promise(function(e,i){r.nextTick(function(){t[u]?i(t[u]):e(d(void 0,!0))})});var i,n=this[h];if(n)i=new Promise(function(t,e){return function(r,i){t.then(function(){e[l]?r(d(void 0,!0)):e[f](r,i)},i)}}(n,this));else{var a=this[c].read();if(null!==a)return Promise.resolve(d(a,!1));i=new Promise(this[f])}return this[h]=i,i}},Symbol.asyncIterator,function(){return this}),n(i,\"return\",function(){var t=this;return new Promise(function(e,r){t[c].destroy(null,function(t){t?r(t):e(d(void 0,!0))})})}),i),m);e.exports=function(t){var e,i=Object.create(b,(n(e={},c,{value:t,writable:!0}),n(e,o,{value:null,writable:!0}),n(e,s,{value:null,writable:!0}),n(e,u,{value:null,writable:!0}),n(e,l,{value:t._readableState.endEmitted,writable:!0}),n(e,f,{value:function(t,e){var r=i[c].read();r?(i[h]=null,i[o]=null,i[s]=null,t(d(r,!1))):(i[o]=t,i[s]=e)},writable:!0}),e));return i[h]=null,a(t,function(t){if(t&&\"ERR_STREAM_PREMATURE_CLOSE\"!==t.code){var e=i[s];return null!==e&&(i[h]=null,i[o]=null,i[s]=null,e(t)),void(i[u]=t)}var r=i[o];null!==r&&(i[h]=null,i[o]=null,i[s]=null,r(d(void 0,!0))),i[l]=!0}),t.on(\"readable\",function(t){r.nextTick(p,t)}.bind(null,i)),i}}).call(this)}).call(this,t(\"_process\"))},{\"./end-of-stream\":201,_process:184}],199:[function(t,e,r){\"use strict\";function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=t(\"buffer\").Buffer,s=t(\"util\").inspect,u=s&&s.custom||\"inspect\";e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,l;return e=t,(r=[{key:\"push\",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:\"unshift\",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:\"shift\",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:\"clear\",value:function(){this.head=this.tail=null,this.length=0}},{key:\"join\",value:function(t){if(0===this.length)return\"\";for(var e=this.head,r=\"\"+e.data;e=e.next;)r+=t+e.data;return r}},{key:\"concat\",value:function(t){if(0===this.length)return o.alloc(0);for(var e,r,i,n=o.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,r=n,i=s,o.prototype.copy.call(e,r,i),s+=a.data.length,a=a.next;return n}},{key:\"consume\",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:\"first\",value:function(){return this.head.data}},{key:\"_getString\",value:function(t){var e=this.head,r=1,i=e.data;for(t-=i.length;e=e.next;){var n=e.data,a=t>n.length?n.length:t;if(a===n.length?i+=n:i+=n.slice(0,t),0===(t-=a)){a===n.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=n.slice(a));break}++r}return this.length-=r,i}},{key:\"_getBuffer\",value:function(t){var e=o.allocUnsafe(t),r=this.head,i=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var n=r.data,a=t>n.length?n.length:t;if(n.copy(e,e.length-t,0,a),0===(t-=a)){a===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(a));break}++i}return this.length-=i,e}},{key:u,value:function(t,e){return s(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){n(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e,{depth:0,customInspect:!1}))}}])&&a(e.prototype,r),l&&a(e,l),t}()},{buffer:87,util:82}],200:[function(t,e,r){(function(t){(function(){\"use strict\";function r(t,e){n(t,e),i(t)}function i(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit(\"close\")}function n(t,e){t.emit(\"error\",e)}e.exports={destroy:function(e,a){var o=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(a?a(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(n,this,e)):t.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?o._writableState?o._writableState.errorEmitted?t.nextTick(i,o):(o._writableState.errorEmitted=!0,t.nextTick(r,o,e)):t.nextTick(r,o,e):a?(t.nextTick(i,o),a(e)):t.nextTick(i,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit(\"error\",e)}}}).call(this)}).call(this,t(\"_process\"))},{_process:184}],201:[function(t,e,r){\"use strict\";var i=t(\"../../../errors\").codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function t(e,r,a){if(\"function\"==typeof r)return t(e,null,r);r||(r={}),a=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}(a||n);var o=r.readable||!1!==r.readable&&e.readable,s=r.writable||!1!==r.writable&&e.writable,u=function(){e.writable||h()},l=e._writableState&&e._writableState.finished,h=function(){s=!1,l=!0,o||a.call(e)},f=e._readableState&&e._readableState.endEmitted,c=function(){o=!1,f=!0,s||a.call(e)},d=function(t){a.call(e,t)},p=function(){var t;return o&&!f?(e._readableState&&e._readableState.ended||(t=new i),a.call(e,t)):s&&!l?(e._writableState&&e._writableState.ended||(t=new i),a.call(e,t)):void 0},m=function(){e.req.on(\"finish\",h)};return function(t){return t.setHeader&&\"function\"==typeof t.abort}(e)?(e.on(\"complete\",h),e.on(\"abort\",p),e.req?m():e.on(\"request\",m)):s&&!e._writableState&&(e.on(\"end\",u),e.on(\"close\",u)),e.on(\"end\",c),e.on(\"finish\",h),!1!==r.error&&e.on(\"error\",d),e.on(\"close\",p),function(){e.removeListener(\"complete\",h),e.removeListener(\"abort\",p),e.removeListener(\"request\",m),e.req&&e.req.removeListener(\"finish\",h),e.removeListener(\"end\",u),e.removeListener(\"close\",u),e.removeListener(\"finish\",h),e.removeListener(\"end\",c),e.removeListener(\"error\",d),e.removeListener(\"close\",p)}}},{\"../../../errors\":192}],202:[function(t,e,r){e.exports=function(){throw new Error(\"Readable.from is not available in the browser\")}},{}],203:[function(t,e,r){\"use strict\";var i;var n=t(\"../../../errors\").codes,a=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function u(t){t()}function l(t,e){return t.pipe(e)}e.exports=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var h,f=function(t){return t.length?\"function\"!=typeof t[t.length-1]?s:t.pop():s}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new a(\"streams\");var c=r.map(function(e,n){var a=n<r.length-1;return function(e,r,n,a){a=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(a);var s=!1;e.on(\"close\",function(){s=!0}),void 0===i&&(i=t(\"./end-of-stream\")),i(e,{readable:r,writable:n},function(t){if(t)return a(t);s=!0,a()});var u=!1;return function(t){if(!s&&!u)return u=!0,function(t){return t.setHeader&&\"function\"==typeof t.abort}(e)?e.abort():\"function\"==typeof e.destroy?e.destroy():void a(t||new o(\"pipe\"))}}(e,a,n>0,function(t){h||(h=t),t&&c.forEach(u),a||(c.forEach(u),f(h))})});return r.reduce(l)}},{\"../../../errors\":192,\"./end-of-stream\":201}],204:[function(t,e,r){\"use strict\";var i=t(\"../../../errors\").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(t,e,r,n){var a=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,n,r);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new i(n?r:\"highWaterMark\",a);return Math.floor(a)}return t.objectMode?16:16384}}},{\"../../../errors\":192}],205:[function(t,e,r){e.exports=t(\"events\").EventEmitter},{events:92}],206:[function(t,e,r){(function(e){(function(){var i=t(\"./lib/request\"),n=t(\"./lib/response\"),a=t(\"xtend\"),o=t(\"builtin-status-codes\"),s=t(\"url\"),u=r;u.request=function(t,r){t=\"string\"==typeof t?s.parse(t):a(t);var n=-1===e.location.protocol.search(/^https?:$/)?\"http:\":\"\",o=t.protocol||n,u=t.hostname||t.host,l=t.port,h=t.path||\"/\";u&&-1!==u.indexOf(\":\")&&(u=\"[\"+u+\"]\"),t.url=(u?o+\"//\"+u:\"\")+(l?\":\"+l:\"\")+h,t.method=(t.method||\"GET\").toUpperCase(),t.headers=t.headers||{};var f=new i(t);return r&&f.on(\"response\",r),f},u.get=function(t,e){var r=u.request(t,e);return r.end(),r},u.ClientRequest=i,u.IncomingMessage=n.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=o,u.METHODS=[\"CHECKOUT\",\"CONNECT\",\"COPY\",\"DELETE\",\"GET\",\"HEAD\",\"LOCK\",\"M-SEARCH\",\"MERGE\",\"MKACTIVITY\",\"MKCOL\",\"MOVE\",\"NOTIFY\",\"OPTIONS\",\"PATCH\",\"POST\",\"PROPFIND\",\"PROPPATCH\",\"PURGE\",\"PUT\",\"REPORT\",\"SEARCH\",\"SUBSCRIBE\",\"TRACE\",\"UNLOCK\",\"UNSUBSCRIBE\"]}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./lib/request\":208,\"./lib/response\":209,\"builtin-status-codes\":88,url:229,xtend:239}],207:[function(t,e,r){(function(t){(function(){var e;function i(){if(void 0!==e)return e;if(t.XMLHttpRequest){e=new t.XMLHttpRequest;try{e.open(\"GET\",t.XDomainRequest?\"/\":\"https://example.com\")}catch(t){e=null}}else e=null;return e}function n(t){var e=i();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}function a(t){return\"function\"==typeof t}r.fetch=a(t.fetch)&&a(t.ReadableStream),r.writableStream=a(t.WritableStream),r.abortController=a(t.AbortController),r.arraybuffer=r.fetch||n(\"arraybuffer\"),r.msstream=!r.fetch&&n(\"ms-stream\"),r.mozchunkedarraybuffer=!r.fetch&&n(\"moz-chunked-arraybuffer\"),r.overrideMimeType=r.fetch||!!i()&&a(i().overrideMimeType),e=null}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],208:[function(t,e,r){(function(r,i,n){(function(){var a=t(\"./capability\"),o=t(\"inherits\"),s=t(\"./response\"),u=t(\"readable-stream\"),l=s.IncomingMessage,h=s.readyStates;var f=e.exports=function(t){var e,r=this;u.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader(\"Authorization\",\"Basic \"+n.from(t.auth).toString(\"base64\")),Object.keys(t.headers).forEach(function(e){r.setHeader(e,t.headers[e])});var i=!0;if(\"disable-fetch\"===t.mode||\"requestTimeout\"in t&&!a.abortController)i=!1,e=!0;else if(\"prefer-streaming\"===t.mode)e=!1;else if(\"allow-wrong-content-type\"===t.mode)e=!a.overrideMimeType;else{if(t.mode&&\"default\"!==t.mode&&\"prefer-fast\"!==t.mode)throw new Error(\"Invalid value for opts.mode\");e=!0}r._mode=function(t,e){return a.fetch&&e?\"fetch\":a.mozchunkedarraybuffer?\"moz-chunked-arraybuffer\":a.msstream?\"ms-stream\":a.arraybuffer&&t?\"arraybuffer\":\"text\"}(e,i),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on(\"finish\",function(){r._onFinish()})};o(f,u.Writable),f.prototype.setHeader=function(t,e){var r=t.toLowerCase();-1===c.indexOf(r)&&(this._headers[r]={name:t,value:e})},f.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},f.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},f.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts;\"timeout\"in e&&0!==e.timeout&&t.setTimeout(e.timeout);var n=t._headers,o=null;\"GET\"!==e.method&&\"HEAD\"!==e.method&&(o=new Blob(t._body,{type:(n[\"content-type\"]||{}).value||\"\"}));var s=[];if(Object.keys(n).forEach(function(t){var e=n[t].name,r=n[t].value;Array.isArray(r)?r.forEach(function(t){s.push([e,t])}):s.push([e,r])}),\"fetch\"===t._mode){var u=null;if(a.abortController){var l=new AbortController;u=l.signal,t._fetchAbortController=l,\"requestTimeout\"in e&&0!==e.requestTimeout&&(t._fetchTimer=i.setTimeout(function(){t.emit(\"requestTimeout\"),t._fetchAbortController&&t._fetchAbortController.abort()},e.requestTimeout))}i.fetch(t._opts.url,{method:t._opts.method,headers:s,body:o||void 0,mode:\"cors\",credentials:e.withCredentials?\"include\":\"same-origin\",signal:u}).then(function(e){t._fetchResponse=e,t._resetTimers(!1),t._connect()},function(e){t._resetTimers(!0),t._destroyed||t.emit(\"error\",e)})}else{var f=t._xhr=new i.XMLHttpRequest;try{f.open(t._opts.method,t._opts.url,!0)}catch(e){return void r.nextTick(function(){t.emit(\"error\",e)})}\"responseType\"in f&&(f.responseType=t._mode),\"withCredentials\"in f&&(f.withCredentials=!!e.withCredentials),\"text\"===t._mode&&\"overrideMimeType\"in f&&f.overrideMimeType(\"text/plain; charset=x-user-defined\"),\"requestTimeout\"in e&&(f.timeout=e.requestTimeout,f.ontimeout=function(){t.emit(\"requestTimeout\")}),s.forEach(function(t){f.setRequestHeader(t[0],t[1])}),t._response=null,f.onreadystatechange=function(){switch(f.readyState){case h.LOADING:case h.DONE:t._onXHRProgress()}},\"moz-chunked-arraybuffer\"===t._mode&&(f.onprogress=function(){t._onXHRProgress()}),f.onerror=function(){t._destroyed||(t._resetTimers(!0),t.emit(\"error\",new Error(\"XHR error\")))};try{f.send(o)}catch(e){return void r.nextTick(function(){t.emit(\"error\",e)})}}}},f.prototype._onXHRProgress=function(){this._resetTimers(!1),function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}}(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress(this._resetTimers.bind(this)))},f.prototype._connect=function(){var t=this;t._destroyed||(t._response=new l(t._xhr,t._fetchResponse,t._mode,t._resetTimers.bind(t)),t._response.on(\"error\",function(e){t.emit(\"error\",e)}),t.emit(\"response\",t._response))},f.prototype._write=function(t,e,r){this._body.push(t),r()},f.prototype._resetTimers=function(t){var e=this;i.clearTimeout(e._socketTimer),e._socketTimer=null,t?(i.clearTimeout(e._fetchTimer),e._fetchTimer=null):e._socketTimeout&&(e._socketTimer=i.setTimeout(function(){e.emit(\"timeout\")},e._socketTimeout))},f.prototype.abort=f.prototype.destroy=function(t){this._destroyed=!0,this._resetTimers(!0),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort(),t&&this.emit(\"error\",t)},f.prototype.end=function(t,e,r){\"function\"==typeof t&&(r=t,t=void 0),u.Writable.prototype.end.call(this,t,e,r)},f.prototype.setTimeout=function(t,e){e&&this.once(\"timeout\",e),this._socketTimeout=t,this._resetTimers(!1)},f.prototype.flushHeaders=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var c=[\"accept-charset\",\"accept-encoding\",\"access-control-request-headers\",\"access-control-request-method\",\"connection\",\"content-length\",\"cookie\",\"cookie2\",\"date\",\"dnt\",\"expect\",\"host\",\"keep-alive\",\"origin\",\"referer\",\"te\",\"trailer\",\"transfer-encoding\",\"upgrade\",\"via\"]}).call(this)}).call(this,t(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},t(\"buffer\").Buffer)},{\"./capability\":207,\"./response\":209,_process:184,buffer:87,inherits:121,\"readable-stream\":224}],209:[function(t,e,r){(function(e,i,n){(function(){var a=t(\"./capability\"),o=t(\"inherits\"),s=t(\"readable-stream\"),u=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=r.IncomingMessage=function(t,r,i,o){var u=this;if(s.Readable.call(u),u._mode=i,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on(\"end\",function(){e.nextTick(function(){u.emit(\"close\")})}),\"fetch\"===i){if(u._fetchResponse=r,u.url=r.url,u.statusCode=r.status,u.statusMessage=r.statusText,r.headers.forEach(function(t,e){u.headers[e.toLowerCase()]=t,u.rawHeaders.push(e,t)}),a.writableStream){var l=new WritableStream({write:function(t){return o(!1),new Promise(function(e,r){u._destroyed?r():u.push(n.from(t))?e():u._resumeFetch=e})},close:function(){o(!0),u._destroyed||u.push(null)},abort:function(t){o(!0),u._destroyed||u.emit(\"error\",t)}});try{return void r.body.pipeTo(l).catch(function(t){o(!0),u._destroyed||u.emit(\"error\",t)})}catch(t){}}var h=r.body.getReader();!function t(){h.read().then(function(e){u._destroyed||(o(e.done),e.done?u.push(null):(u.push(n.from(e.value)),t()))}).catch(function(t){o(!0),u._destroyed||u.emit(\"error\",t)})}()}else{if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\\r?\\n/).forEach(function(t){var e=t.match(/^([^:]+):\\s*(.*)/);if(e){var r=e[1].toLowerCase();\"set-cookie\"===r?(void 0===u.headers[r]&&(u.headers[r]=[]),u.headers[r].push(e[2])):void 0!==u.headers[r]?u.headers[r]+=\", \"+e[2]:u.headers[r]=e[2],u.rawHeaders.push(e[1],e[2])}}),u._charset=\"x-user-defined\",!a.overrideMimeType){var f=u.rawHeaders[\"mime-type\"];if(f){var c=f.match(/;\\s*charset=([^;])(;|$)/);c&&(u._charset=c[1].toLowerCase())}u._charset||(u._charset=\"utf-8\")}}};o(l,s.Readable),l.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},l.prototype._onXHRProgress=function(t){var e=this,r=e._xhr,a=null;switch(e._mode){case\"text\":if((a=r.responseText).length>e._pos){var o=a.substr(e._pos);if(\"x-user-defined\"===e._charset){for(var s=n.alloc(o.length),l=0;l<o.length;l++)s[l]=255&o.charCodeAt(l);e.push(s)}else e.push(o,e._charset);e._pos=a.length}break;case\"arraybuffer\":if(r.readyState!==u.DONE||!r.response)break;a=r.response,e.push(n.from(new Uint8Array(a)));break;case\"moz-chunked-arraybuffer\":if(a=r.response,r.readyState!==u.LOADING||!a)break;e.push(n.from(new Uint8Array(a)));break;case\"ms-stream\":if(a=r.response,r.readyState!==u.LOADING)break;var h=new i.MSStreamReader;h.onprogress=function(){h.result.byteLength>e._pos&&(e.push(n.from(new Uint8Array(h.result.slice(e._pos)))),e._pos=h.result.byteLength)},h.onload=function(){t(!0),e.push(null)},h.readAsArrayBuffer(a)}e._xhr.readyState===u.DONE&&\"ms-stream\"!==e._mode&&(t(!0),e.push(null))}}).call(this)}).call(this,t(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},t(\"buffer\").Buffer)},{\"./capability\":207,_process:184,buffer:87,inherits:121,\"readable-stream\":224}],210:[function(t,e,r){arguments[4][192][0].apply(r,arguments)},{dup:192}],211:[function(t,e,r){arguments[4][193][0].apply(r,arguments)},{\"./_stream_readable\":213,\"./_stream_writable\":215,_process:184,dup:193,inherits:121}],212:[function(t,e,r){arguments[4][194][0].apply(r,arguments)},{\"./_stream_transform\":214,dup:194,inherits:121}],213:[function(t,e,r){arguments[4][195][0].apply(r,arguments)},{\"../errors\":210,\"./_stream_duplex\":211,\"./internal/streams/async_iterator\":216,\"./internal/streams/buffer_list\":217,\"./internal/streams/destroy\":218,\"./internal/streams/from\":220,\"./internal/streams/state\":222,\"./internal/streams/stream\":223,_process:184,buffer:87,dup:195,events:92,inherits:121,\"string_decoder/\":225,util:82}],214:[function(t,e,r){arguments[4][196][0].apply(r,arguments)},{\"../errors\":210,\"./_stream_duplex\":211,dup:196,inherits:121}],215:[function(t,e,r){arguments[4][197][0].apply(r,arguments)},{\"../errors\":210,\"./_stream_duplex\":211,\"./internal/streams/destroy\":218,\"./internal/streams/state\":222,\"./internal/streams/stream\":223,_process:184,buffer:87,dup:197,inherits:121,\"util-deprecate\":232}],216:[function(t,e,r){arguments[4][198][0].apply(r,arguments)},{\"./end-of-stream\":219,_process:184,dup:198}],217:[function(t,e,r){arguments[4][199][0].apply(r,arguments)},{buffer:87,dup:199,util:82}],218:[function(t,e,r){arguments[4][200][0].apply(r,arguments)},{_process:184,dup:200}],219:[function(t,e,r){arguments[4][201][0].apply(r,arguments)},{\"../../../errors\":210,dup:201}],220:[function(t,e,r){arguments[4][202][0].apply(r,arguments)},{dup:202}],221:[function(t,e,r){arguments[4][203][0].apply(r,arguments)},{\"../../../errors\":210,\"./end-of-stream\":219,dup:203}],222:[function(t,e,r){arguments[4][204][0].apply(r,arguments)},{\"../../../errors\":210,dup:204}],223:[function(t,e,r){arguments[4][205][0].apply(r,arguments)},{dup:205,events:92}],224:[function(t,e,r){(r=e.exports=t(\"./lib/_stream_readable.js\")).Stream=r,r.Readable=r,r.Writable=t(\"./lib/_stream_writable.js\"),r.Duplex=t(\"./lib/_stream_duplex.js\"),r.Transform=t(\"./lib/_stream_transform.js\"),r.PassThrough=t(\"./lib/_stream_passthrough.js\"),r.finished=t(\"./lib/internal/streams/end-of-stream.js\"),r.pipeline=t(\"./lib/internal/streams/pipeline.js\")},{\"./lib/_stream_duplex.js\":211,\"./lib/_stream_passthrough.js\":212,\"./lib/_stream_readable.js\":213,\"./lib/_stream_transform.js\":214,\"./lib/_stream_writable.js\":215,\"./lib/internal/streams/end-of-stream.js\":219,\"./lib/internal/streams/pipeline.js\":221}],225:[function(t,e,r){\"use strict\";var i=t(\"safe-buffer\").Buffer,n=i.isEncoding||function(t){switch((t=\"\"+t)&&t.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function a(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return\"utf8\";for(var e;;)switch(t){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return t;default:if(e)return;t=(\"\"+t).toLowerCase(),e=!0}}(t);if(\"string\"!=typeof e&&(i.isEncoding===n||!n(t)))throw new Error(\"Unknown encoding: \"+t);return e||t}(t),this.encoding){case\"utf16le\":this.text=u,this.end=l,e=4;break;case\"utf8\":this.fillLast=s,e=4;break;case\"base64\":this.text=h,this.end=f,e=3;break;default:return this.write=c,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,\"\";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,\"\";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,\"\"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString(\"utf16le\",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString(\"utf16le\",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):\"\";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString(\"utf16le\",0,r)}return e}function h(t,e){var r=(t.length-e)%3;return 0===r?t.toString(\"base64\",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString(\"base64\",e,t.length-r))}function f(t){var e=t&&t.length?this.write(t):\"\";return this.lastNeed?e+this.lastChar.toString(\"base64\",0,3-this.lastNeed):e}function c(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):\"\"}r.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return\"\";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return\"\";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||\"\"},a.prototype.end=function(t){var e=t&&t.length?this.write(t):\"\";return this.lastNeed?e+\"\":e},a.prototype.text=function(t,e){var r=function(t,e,r){var i=e.length-1;if(i<r)return 0;var n=o(e[i]);if(n>=0)return n>0&&(t.lastNeed=n-1),n;if(--i<r||-2===n)return 0;if((n=o(e[i]))>=0)return n>0&&(t.lastNeed=n-2),n;if(--i<r||-2===n)return 0;if((n=o(e[i]))>=0)return n>0&&(2===n?n=0:t.lastNeed=n-3),n;return 0}(this,t,e);if(!this.lastNeed)return t.toString(\"utf8\",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString(\"utf8\",e,i)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{\"safe-buffer\":190}],226:[function(t,e,r){(function(e,i){(function(){var n=t(\"process/browser.js\").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,s={},u=0;function l(t,e){this._id=t,this._clearFn=e}r.setTimeout=function(){return new l(a.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r.setImmediate=\"function\"==typeof e?e:function(t){var e=u++,i=!(arguments.length<2)&&o.call(arguments,1);return s[e]=!0,n(function(){s[e]&&(i?t.apply(null,i):t.call(null),r.clearImmediate(e))}),e},r.clearImmediate=\"function\"==typeof i?i:function(t){delete s[t]}}).call(this)}).call(this,t(\"timers\").setImmediate,t(\"timers\").clearImmediate)},{\"process/browser.js\":184,timers:226}],227:[function(t,e,r){(function(t){(function(){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.clone=s,r.addLast=l,r.addFirst=h,r.removeLast=f,r.removeFirst=c,r.insert=d,r.removeAt=p,r.replaceAt=m,r.getIn=b,r.set=g,r.setIn=_,r.update=y,r.updateIn=v,r.merge=w,r.mergeDeep=E,r.mergeIn=x,r.omit=I,r.addDefaults=S,r.default=void 0;const e=\"INVALID_ARGS\",i=\"production\"!==t.env.NODE_ENV;function n(t){throw new Error(t)}function a(t){const e=Object.keys(t);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e}const o={}.hasOwnProperty;function s(t){if(Array.isArray(t))return t.slice();const e=t,r=a(e),i={};for(let t=0;t<r.length;t++){const n=r[t];i[n]=e[n]}return i}function u(t){return null!=t&&\"object\"==typeof t}function l(t,e){return Array.isArray(e)?t.concat(e):t.concat([e])}function h(t,e){return Array.isArray(e)?e.concat(t):[e].concat(t)}function f(t){return t.length?t.slice(0,t.length-1):t}function c(t){return t.length?t.slice(1):t}function d(t,e,r){return t.slice(0,e).concat(Array.isArray(r)?r:[r]).concat(t.slice(e))}function p(t,e){return e>=t.length||e<0?t:t.slice(0,e).concat(t.slice(e+1))}function m(t,e,r){if(t[e]===r)return t;const i=t.length,n=Array(i);for(let e=0;e<i;e++)n[e]=t[e];return n[e]=r,n}function b(t,r){if(Array.isArray(r)||n(i?\"A path array should be provided when calling getIn()\":e),null==t)return;let a=t;for(let t=0;t<r.length;t++){const e=r[t];if(void 0===(a=null!=a?a[e]:void 0))return a}return a}function g(t,e,r){let i=t;if(null==i&&(i=\"number\"==typeof e?[]:{}),i[e]===r)return i;const n=s(i);return n[e]=r,n}function _(t,e,r){return e.length?function t(e,r,i,n){let a;const o=r[n];if(n===r.length-1)a=i;else{const s=u(e)&&u(e[o])?e[o]:\"number\"==typeof r[n+1]?[]:{};a=t(s,r,i,n+1)}return g(e,o,a)}(t,e,r,0):r}function y(t,e,r){return g(t,e,r(null==t?void 0:t[e]))}function v(t,e,r){return _(t,e,r(b(t,e)))}function w(t,e,r,i,n,a,...o){return o.length?A.call(null,!1,!1,t,e,r,i,n,a,...o):A(!1,!1,t,e,r,i,n,a)}function E(t,e,r,i,n,a,...o){return o.length?A.call(null,!1,!0,t,e,r,i,n,a,...o):A(!1,!0,t,e,r,i,n,a)}function x(t,e,r,i,n,a,o,...s){let u,l=b(t,e);return null==l&&(l={}),_(t,e,u=s.length?A.call(null,!1,!1,l,r,i,n,a,o,...s):A(!1,!1,l,r,i,n,a,o))}function I(t,e){const r=Array.isArray(e)?e:[e];let i=!1;for(let e=0;e<r.length;e++)if(o.call(t,r[e])){i=!0;break}if(!i)return t;const n={},s=a(t);for(let e=0;e<s.length;e++){const i=s[e];r.indexOf(i)>=0||(n[i]=t[i])}return n}function S(t,e,r,i,n,a,...o){return o.length?A.call(null,!0,!1,t,e,r,i,n,a,...o):A(!0,!1,t,e,r,i,n,a)}function A(t,r,o,...l){let h=o;null==h&&n(i?\"At least one object should be provided to merge()\":e);let f=!1;for(let e=0;e<l.length;e++){const i=l[e];if(null==i)continue;const n=a(i);if(n.length)for(let e=0;e<=n.length;e++){const a=n[e];if(t&&void 0!==h[a])continue;let o=i[a];r&&u(h[a])&&u(o)&&(o=A(t,r,h[a],o)),void 0!==o&&o!==h[a]&&(f||(f=!0,h=s(h)),h[a]=o)}}return h}var M={clone:s,addLast:l,addFirst:h,removeLast:f,removeFirst:c,insert:d,removeAt:p,replaceAt:m,getIn:b,set:g,setIn:_,update:y,updateIn:v,merge:w,mergeDeep:E,mergeIn:x,omit:I,addDefaults:S};r.default=M}).call(this)}).call(this,t(\"_process\"))},{_process:184}],228:[function(t,e,r){!function(t){var r=/^\\s+/,i=/\\s+$/,n=0,a=t.round,o=t.min,s=t.max,u=t.random;function l(e,u){if(u=u||{},(e=e||\"\")instanceof l)return e;if(!(this instanceof l))return new l(e,u);var h=function(e){var n={r:0,g:0,b:0},a=1,u=null,l=null,h=null,f=!1,c=!1;\"string\"==typeof e&&(e=function(t){t=t.replace(r,\"\").replace(i,\"\").toLowerCase();var e,n=!1;if(M[t])t=M[t],n=!0;else if(\"transparent\"==t)return{r:0,g:0,b:0,a:0,format:\"name\"};if(e=F.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=F.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=F.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=F.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=F.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=F.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=F.hex8.exec(t))return{r:R(e[1]),g:R(e[2]),b:R(e[3]),a:N(e[4]),format:n?\"name\":\"hex8\"};if(e=F.hex6.exec(t))return{r:R(e[1]),g:R(e[2]),b:R(e[3]),format:n?\"name\":\"hex\"};if(e=F.hex4.exec(t))return{r:R(e[1]+\"\"+e[1]),g:R(e[2]+\"\"+e[2]),b:R(e[3]+\"\"+e[3]),a:N(e[4]+\"\"+e[4]),format:n?\"name\":\"hex8\"};if(e=F.hex3.exec(t))return{r:R(e[1]+\"\"+e[1]),g:R(e[2]+\"\"+e[2]),b:R(e[3]+\"\"+e[3]),format:n?\"name\":\"hex\"};return!1}(e));\"object\"==typeof e&&(z(e.r)&&z(e.g)&&z(e.b)?(d=e.r,p=e.g,m=e.b,n={r:255*k(d,255),g:255*k(p,255),b:255*k(m,255)},f=!0,c=\"%\"===String(e.r).substr(-1)?\"prgb\":\"rgb\"):z(e.h)&&z(e.s)&&z(e.v)?(u=O(e.s),l=O(e.v),n=function(e,r,i){e=6*k(e,360),r=k(r,100),i=k(i,100);var n=t.floor(e),a=e-n,o=i*(1-r),s=i*(1-a*r),u=i*(1-(1-a)*r),l=n%6;return{r:255*[i,s,o,o,u,i][l],g:255*[u,i,i,s,o,o][l],b:255*[o,o,u,i,i,s][l]}}(e.h,u,l),f=!0,c=\"hsv\"):z(e.h)&&z(e.s)&&z(e.l)&&(u=O(e.s),h=O(e.l),n=function(t,e,r){var i,n,a;function o(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=k(t,360),e=k(e,100),r=k(r,100),0===e)i=n=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,u=2*r-s;i=o(u,s,t+1/3),n=o(u,s,t),a=o(u,s,t-1/3)}return{r:255*i,g:255*n,b:255*a}}(e.h,u,h),f=!0,c=\"hsl\"),e.hasOwnProperty(\"a\")&&(a=e.a));var d,p,m;return a=T(a),{ok:f,format:e.format||c,r:o(255,s(n.r,0)),g:o(255,s(n.g,0)),b:o(255,s(n.b,0)),a:a}}(e);this._originalInput=e,this._r=h.r,this._g=h.g,this._b=h.b,this._a=h.a,this._roundA=a(100*this._a)/100,this._format=u.format||h.format,this._gradientType=u.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=h.ok,this._tc_id=n++}function h(t,e,r){t=k(t,255),e=k(e,255),r=k(r,255);var i,n,a=s(t,e,r),u=o(t,e,r),l=(a+u)/2;if(a==u)i=n=0;else{var h=a-u;switch(n=l>.5?h/(2-a-u):h/(a+u),a){case t:i=(e-r)/h+(e<r?6:0);break;case e:i=(r-t)/h+2;break;case r:i=(t-e)/h+4}i/=6}return{h:i,s:n,l:l}}function f(t,e,r){t=k(t,255),e=k(e,255),r=k(r,255);var i,n,a=s(t,e,r),u=o(t,e,r),l=a,h=a-u;if(n=0===a?0:h/a,a==u)i=0;else{switch(a){case t:i=(e-r)/h+(e<r?6:0);break;case e:i=(r-t)/h+2;break;case r:i=(t-e)/h+4}i/=6}return{h:i,s:n,v:l}}function c(t,e,r,i){var n=[L(a(t).toString(16)),L(a(e).toString(16)),L(a(r).toString(16))];return i&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join(\"\")}function d(t,e,r,i){return[L(B(i)),L(a(t).toString(16)),L(a(e).toString(16)),L(a(r).toString(16))].join(\"\")}function p(t,e){e=0===e?0:e||10;var r=l(t).toHsl();return r.s-=e/100,r.s=P(r.s),l(r)}function m(t,e){e=0===e?0:e||10;var r=l(t).toHsl();return r.s+=e/100,r.s=P(r.s),l(r)}function b(t){return l(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;var r=l(t).toHsl();return r.l+=e/100,r.l=P(r.l),l(r)}function _(t,e){e=0===e?0:e||10;var r=l(t).toRgb();return r.r=s(0,o(255,r.r-a(-e/100*255))),r.g=s(0,o(255,r.g-a(-e/100*255))),r.b=s(0,o(255,r.b-a(-e/100*255))),l(r)}function y(t,e){e=0===e?0:e||10;var r=l(t).toHsl();return r.l-=e/100,r.l=P(r.l),l(r)}function v(t,e){var r=l(t).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,l(r)}function w(t){var e=l(t).toHsl();return e.h=(e.h+180)%360,l(e)}function E(t){var e=l(t).toHsl(),r=e.h;return[l(t),l({h:(r+120)%360,s:e.s,l:e.l}),l({h:(r+240)%360,s:e.s,l:e.l})]}function x(t){var e=l(t).toHsl(),r=e.h;return[l(t),l({h:(r+90)%360,s:e.s,l:e.l}),l({h:(r+180)%360,s:e.s,l:e.l}),l({h:(r+270)%360,s:e.s,l:e.l})]}function I(t){var e=l(t).toHsl(),r=e.h;return[l(t),l({h:(r+72)%360,s:e.s,l:e.l}),l({h:(r+216)%360,s:e.s,l:e.l})]}function S(t,e,r){e=e||6,r=r||30;var i=l(t).toHsl(),n=360/r,a=[l(t)];for(i.h=(i.h-(n*e>>1)+720)%360;--e;)i.h=(i.h+n)%360,a.push(l(i));return a}function A(t,e){e=e||6;for(var r=l(t).toHsv(),i=r.h,n=r.s,a=r.v,o=[],s=1/e;e--;)o.push(l({h:i,s:n,v:a})),a=(a+s)%1;return o}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,r,i,n=this.toRgb();return e=n.r/255,r=n.g/255,i=n.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:t.pow((i+.055)/1.055,2.4))},setAlpha:function(t){return this._a=T(t),this._roundA=a(100*this._a)/100,this},toHsv:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=f(this._r,this._g,this._b),e=a(360*t.h),r=a(100*t.s),i=a(100*t.v);return 1==this._a?\"hsv(\"+e+\", \"+r+\"%, \"+i+\"%)\":\"hsva(\"+e+\", \"+r+\"%, \"+i+\"%, \"+this._roundA+\")\"},toHsl:function(){var t=h(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=h(this._r,this._g,this._b),e=a(360*t.h),r=a(100*t.s),i=a(100*t.l);return 1==this._a?\"hsl(\"+e+\", \"+r+\"%, \"+i+\"%)\":\"hsla(\"+e+\", \"+r+\"%, \"+i+\"%, \"+this._roundA+\")\"},toHex:function(t){return c(this._r,this._g,this._b,t)},toHexString:function(t){return\"#\"+this.toHex(t)},toHex8:function(t){return function(t,e,r,i,n){var o=[L(a(t).toString(16)),L(a(e).toString(16)),L(a(r).toString(16)),L(B(i))];if(n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join(\"\")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return\"#\"+this.toHex8(t)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?\"rgb(\"+a(this._r)+\", \"+a(this._g)+\", \"+a(this._b)+\")\":\"rgba(\"+a(this._r)+\", \"+a(this._g)+\", \"+a(this._b)+\", \"+this._roundA+\")\"},toPercentageRgb:function(){return{r:a(100*k(this._r,255))+\"%\",g:a(100*k(this._g,255))+\"%\",b:a(100*k(this._b,255))+\"%\",a:this._a}},toPercentageRgbString:function(){return 1==this._a?\"rgb(\"+a(100*k(this._r,255))+\"%, \"+a(100*k(this._g,255))+\"%, \"+a(100*k(this._b,255))+\"%)\":\"rgba(\"+a(100*k(this._r,255))+\"%, \"+a(100*k(this._g,255))+\"%, \"+a(100*k(this._b,255))+\"%, \"+this._roundA+\")\"},toName:function(){return 0===this._a?\"transparent\":!(this._a<1)&&(C[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e=\"#\"+d(this._r,this._g,this._b,this._a),r=e,i=this._gradientType?\"GradientType = 1, \":\"\";if(t){var n=l(t);r=\"#\"+d(n._r,n._g,n._b,n._a)}return\"progid:DXImageTransform.Microsoft.gradient(\"+i+\"startColorstr=\"+e+\",endColorstr=\"+r+\")\"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0;return e||!i||\"hex\"!==t&&\"hex6\"!==t&&\"hex3\"!==t&&\"hex4\"!==t&&\"hex8\"!==t&&\"name\"!==t?(\"rgb\"===t&&(r=this.toRgbString()),\"prgb\"===t&&(r=this.toPercentageRgbString()),\"hex\"!==t&&\"hex6\"!==t||(r=this.toHexString()),\"hex3\"===t&&(r=this.toHexString(!0)),\"hex4\"===t&&(r=this.toHex8String(!0)),\"hex8\"===t&&(r=this.toHex8String()),\"name\"===t&&(r=this.toName()),\"hsl\"===t&&(r=this.toHslString()),\"hsv\"===t&&(r=this.toHsvString()),r||this.toHexString()):\"name\"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return l(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},l.fromRatio=function(t,e){if(\"object\"==typeof t){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=\"a\"===i?t[i]:O(t[i]));t=r}return l(t,e)},l.equals=function(t,e){return!(!t||!e)&&l(t).toRgbString()==l(e).toRgbString()},l.random=function(){return l.fromRatio({r:u(),g:u(),b:u()})},l.mix=function(t,e,r){r=0===r?0:r||50;var i=l(t).toRgb(),n=l(e).toRgb(),a=r/100;return l({r:(n.r-i.r)*a+i.r,g:(n.g-i.g)*a+i.g,b:(n.b-i.b)*a+i.b,a:(n.a-i.a)*a+i.a})},l.readability=function(e,r){var i=l(e),n=l(r);return(t.max(i.getLuminance(),n.getLuminance())+.05)/(t.min(i.getLuminance(),n.getLuminance())+.05)},l.isReadable=function(t,e,r){var i,n,a=l.readability(t,e);switch(n=!1,(i=function(t){var e,r;e=((t=t||{level:\"AA\",size:\"small\"}).level||\"AA\").toUpperCase(),r=(t.size||\"small\").toLowerCase(),\"AA\"!==e&&\"AAA\"!==e&&(e=\"AA\");\"small\"!==r&&\"large\"!==r&&(r=\"small\");return{level:e,size:r}}(r)).level+i.size){case\"AAsmall\":case\"AAAlarge\":n=a>=4.5;break;case\"AAlarge\":n=a>=3;break;case\"AAAsmall\":n=a>=7}return n},l.mostReadable=function(t,e,r){var i,n,a,o,s=null,u=0;n=(r=r||{}).includeFallbackColors,a=r.level,o=r.size;for(var h=0;h<e.length;h++)(i=l.readability(t,e[h]))>u&&(u=i,s=l(e[h]));return l.isReadable(t,s,{level:a,size:o})||!n?s:(r.includeFallbackColors=!1,l.mostReadable(t,[\"#fff\",\"#000\"],r))};var M=l.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"663399\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"},C=l.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(M);function T(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function k(e,r){(function(t){return\"string\"==typeof t&&-1!=t.indexOf(\".\")&&1===parseFloat(t)})(e)&&(e=\"100%\");var i=function(t){return\"string\"==typeof t&&-1!=t.indexOf(\"%\")}(e);return e=o(r,s(0,parseFloat(e))),i&&(e=parseInt(e*r,10)/100),t.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function P(t){return o(1,s(0,t))}function R(t){return parseInt(t,16)}function L(t){return 1==t.length?\"0\"+t:\"\"+t}function O(t){return t<=1&&(t=100*t+\"%\"),t}function B(e){return t.round(255*parseFloat(e)).toString(16)}function N(t){return R(t)/255}var D,U,j,F=(U=\"[\\\\s|\\\\(]+(\"+(D=\"(?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?)\")+\")[,|\\\\s]+(\"+D+\")[,|\\\\s]+(\"+D+\")\\\\s*\\\\)?\",j=\"[\\\\s|\\\\(]+(\"+D+\")[,|\\\\s]+(\"+D+\")[,|\\\\s]+(\"+D+\")[,|\\\\s]+(\"+D+\")\\\\s*\\\\)?\",{CSS_UNIT:new RegExp(D),rgb:new RegExp(\"rgb\"+U),rgba:new RegExp(\"rgba\"+j),hsl:new RegExp(\"hsl\"+U),hsla:new RegExp(\"hsla\"+j),hsv:new RegExp(\"hsv\"+U),hsva:new RegExp(\"hsva\"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function z(t){return!!F.CSS_UNIT.exec(t)}void 0!==e&&e.exports?e.exports=l:\"function\"==typeof define&&define.amd?define(function(){return l}):window.tinycolor=l}(Math)},{}],229:[function(t,e,r){\"use strict\";var i=t(\"punycode\"),n=t(\"./util\");function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=y,r.resolve=function(t,e){return y(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?y(t,!1,!0).resolveObject(e):e},r.format=function(t){n.isString(t)&&(t=y(t));return t instanceof a?t.format():a.prototype.format.call(t)},r.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,l=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),h=[\"'\"].concat(l),f=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(h),c=[\"/\",\"?\",\"#\"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,\"javascript:\":!0},b={javascript:!0,\"javascript:\":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},_=t(\"querystring\");function y(t,e,r){if(t&&n.isObject(t)&&t instanceof a)return t;var i=new a;return i.parse(t,e,r),i}a.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof t);var a=t.indexOf(\"?\"),s=-1!==a&&a<t.indexOf(\"#\")?\"?\":\"#\",l=t.split(s);l[0]=l[0].replace(/\\\\/g,\"/\");var y=t=l.join(s);if(y=y.trim(),!r&&1===t.split(\"#\").length){var v=u.exec(y);if(v)return this.path=y,this.href=y,this.pathname=v[1],v[2]?(this.search=v[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search=\"\",this.query={}),this}var w=o.exec(y);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,y=y.substr(w.length)}if(r||w||y.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var x=\"//\"===y.substr(0,2);!x||w&&b[w]||(y=y.substr(2),this.slashes=!0)}if(!b[w]&&(x||w&&!g[w])){for(var I,S,A=-1,M=0;M<c.length;M++){-1!==(C=y.indexOf(c[M]))&&(-1===A||C<A)&&(A=C)}-1!==(S=-1===A?y.lastIndexOf(\"@\"):y.lastIndexOf(\"@\",A))&&(I=y.slice(0,S),y=y.slice(S+1),this.auth=decodeURIComponent(I)),A=-1;for(M=0;M<f.length;M++){var C;-1!==(C=y.indexOf(f[M]))&&(-1===A||C<A)&&(A=C)}-1===A&&(A=y.length),this.host=y.slice(0,A),y=y.slice(A),this.parseHost(),this.hostname=this.hostname||\"\";var T=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!T)for(var k=this.hostname.split(/\\./),P=(M=0,k.length);M<P;M++){var R=k[M];if(R&&!R.match(d)){for(var L=\"\",O=0,B=R.length;O<B;O++)R.charCodeAt(O)>127?L+=\"x\":L+=R[O];if(!L.match(d)){var N=k.slice(0,M),D=k.slice(M+1),U=R.match(p);U&&(N.push(U[1]),D.unshift(U[2])),D.length&&(y=\"/\"+D.join(\".\")+y),this.hostname=N.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=i.toASCII(this.hostname));var j=this.port?\":\"+this.port:\"\",F=this.hostname||\"\";this.host=F+j,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==y[0]&&(y=\"/\"+y))}if(!m[E])for(M=0,P=h.length;M<P;M++){var z=h[M];if(-1!==y.indexOf(z)){var G=encodeURIComponent(z);G===z&&(G=escape(z)),y=y.split(z).join(G)}}var H=y.indexOf(\"#\");-1!==H&&(this.hash=y.substr(H),y=y.slice(0,H));var q=y.indexOf(\"?\");if(-1!==q?(this.search=y.substr(q),this.query=y.substr(q+1),e&&(this.query=_.parse(this.query)),y=y.slice(0,q)):e&&(this.search=\"\",this.query={}),y&&(this.pathname=y),g[E]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){j=this.pathname||\"\";var W=this.search||\"\";this.path=j+W}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||\"\";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,\":\"),t+=\"@\");var e=this.protocol||\"\",r=this.pathname||\"\",i=this.hash||\"\",a=!1,o=\"\";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(a+=\":\"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(o=_.stringify(this.query));var s=this.search||o&&\"?\"+o||\"\";return e&&\":\"!==e.substr(-1)&&(e+=\":\"),this.slashes||(!e||g[e])&&!1!==a?(a=\"//\"+(a||\"\"),r&&\"/\"!==r.charAt(0)&&(r=\"/\"+r)):a||(a=\"\"),i&&\"#\"!==i.charAt(0)&&(i=\"#\"+i),s&&\"?\"!==s.charAt(0)&&(s=\"?\"+s),e+a+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace(\"#\",\"%23\"))+i},a.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(n.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var r=new a,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];r[s]=this[s]}if(r.hash=t.hash,\"\"===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var h=u[l];\"protocol\"!==h&&(r[h]=t[h])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname=\"/\"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var f=Object.keys(t),c=0;c<f.length;c++){var d=f[c];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||b[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||\"\").split(\"/\");p.length&&!(t.host=p.shift()););t.host||(t.host=\"\"),t.hostname||(t.hostname=\"\"),\"\"!==p[0]&&p.unshift(\"\"),p.length<2&&p.unshift(\"\"),r.pathname=p.join(\"/\")}if(r.search=t.search,r.query=t.query,r.host=t.host||\"\",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||\"\",_=r.search||\"\";r.path=m+_}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&\"/\"===r.pathname.charAt(0),v=t.host||t.pathname&&\"/\"===t.pathname.charAt(0),w=v||y||r.host&&t.pathname,E=w,x=r.pathname&&r.pathname.split(\"/\")||[],I=(p=t.pathname&&t.pathname.split(\"/\")||[],r.protocol&&!g[r.protocol]);if(I&&(r.hostname=\"\",r.port=null,r.host&&(\"\"===x[0]?x[0]=r.host:x.unshift(r.host)),r.host=\"\",t.protocol&&(t.hostname=null,t.port=null,t.host&&(\"\"===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),w=w&&(\"\"===p[0]||\"\"===x[0])),v)r.host=t.host||\"\"===t.host?t.host:r.host,r.hostname=t.hostname||\"\"===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,x=p;else if(p.length)x||(x=[]),x.pop(),x=x.concat(p),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(I)r.hostname=r.host=x.shift(),(T=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift());return r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path=\"/\"+r.search:r.path=null,r.href=r.format(),r;for(var S=x.slice(-1)[0],A=(r.host||t.host||x.length>1)&&(\".\"===S||\"..\"===S)||\"\"===S,M=0,C=x.length;C>=0;C--)\".\"===(S=x[C])?x.splice(C,1):\"..\"===S?(x.splice(C,1),M++):M&&(x.splice(C,1),M--);if(!w&&!E)for(;M--;M)x.unshift(\"..\");!w||\"\"===x[0]||x[0]&&\"/\"===x[0].charAt(0)||x.unshift(\"\"),A&&\"/\"!==x.join(\"/\").substr(-1)&&x.push(\"\");var T,k=\"\"===x[0]||x[0]&&\"/\"===x[0].charAt(0);I&&(r.hostname=r.host=k?\"\":x.length?x.shift():\"\",(T=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift()));return(w=w||r.host&&x.length)&&!k&&x.unshift(\"\"),x.length?r.pathname=x.join(\"/\"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(\":\"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{\"./util\":230,punycode:185,querystring:188}],230:[function(t,e,r){\"use strict\";e.exports={isString:function(t){return\"string\"==typeof t},isObject:function(t){return\"object\"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],231:[function(t,e,r){(function(r){(function(){!function(){var i={};function n(){void 0!==r&&\"development\"!=r.env.NODE_ENV||console.log.apply(console,arguments)}\"object\"==typeof e?e.exports=i:self.UTIF=i,function(t,e){var r,i,a;r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(){function t(t){this.message=\"JPEG error: \"+t}return t.prototype=Error(),t.prototype.name=\"JpegError\",t.constructor=t}(),a=function(){function t(t,e){this.message=t,this.g=e}return t.prototype=Error(),t.prototype.name=\"DNLMarkerError\",t.constructor=t}(),function(){function e(){this.M=null,this.B=-1}function n(t,e){for(var r,i,n=0,a=[],o=16;0<o&&!t[o-1];)o--;a.push({children:[],index:0});var s,u=a[0];for(r=0;r<o;r++){for(i=0;i<t[r];i++){for((u=a.pop()).children[u.index]=e[n];0<u.index;)u=a.pop();for(u.index++,a.push(u);a.length<=r;)a.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s;n++}r+1<o&&(a.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s)}return a[0].children}function o(t,e,n,o,s,h,f,c,d){function p(){if(0<T)return C>>--T&1;if(255===(C=t[e++])){var r=t[e++];if(r){if(220===r&&S){e+=2;var o=t[e++]<<8|t[e++];if(0<o&&o!==n.g)throw new a(\"Found DNL marker (0xFFDC) while parsing scan data\",o)}throw new i(\"unexpected marker \"+(C<<8|r).toString(16))}}return T=7,C>>>7}function m(t){for(;;){if(\"number\"==typeof(t=t[p()]))return t;if(\"object\"!==(void 0===t?\"undefined\":r(t)))throw new i(\"invalid huffman sequence\")}}function b(t){for(var e=0;0<t;)e=e<<1|p(),t--;return e}function g(t){if(1===t)return 1===p()?1:-1;var e=b(t);return e>=1<<t-1?e:e+(-1<<t)+1}for(var _,y,v,w,E,x,I,S=9<arguments.length&&void 0!==arguments[9]&&arguments[9],A=n.P,M=e,C=0,T=0,k=0,P=0,R=o.length,L=n.S?0===h?0===c?function(t,e){var r=m(t.D);r=0===r?0:g(r)<<d,t.a[e]=t.m+=r}:function(t,e){t.a[e]|=p()<<d}:0===c?function(t,e){if(0<k)k--;else for(var r=h;r<=f;){var i=m(t.o),n=15&i;if(i>>=4,0===n){if(15>i){k=b(i)+(1<<i)-1;break}r+=16}else r+=i,t.a[e+l[r]]=g(n)*(1<<d),r++}}:function(t,e){for(var r,n=h,a=0;n<=f;){r=e+l[n];var o=0>t.a[r]?-1:1;switch(P){case 0:if(r=15&(a=m(t.o)),a>>=4,0===r)15>a?(k=b(a)+(1<<a),P=4):(a=16,P=1);else{if(1!==r)throw new i(\"invalid ACn encoding\");_=g(r),P=a?2:3}continue;case 1:case 2:t.a[r]?t.a[r]+=o*(p()<<d):0==--a&&(P=2===P?3:0);break;case 3:t.a[r]?t.a[r]+=o*(p()<<d):(t.a[r]=_<<d,P=0);break;case 4:t.a[r]&&(t.a[r]+=o*(p()<<d))}n++}4===P&&0==--k&&(P=0)}:function(t,e){var r=m(t.D);for(r=0===r?0:g(r),t.a[e]=t.m+=r,r=1;64>r;){var i=m(t.o),n=15&i;if(i>>=4,0===n){if(15>i)break;r+=16}else r+=i,t.a[e+l[r]]=g(n),r++}},O=0,B=1===R?o[0].c*o[0].l:A*n.O;O<B;){var N=s?Math.min(B-O,s):B;for(y=0;y<R;y++)o[y].m=0;if(k=0,1===R){var D=o[0];for(E=0;E<N;E++)L(D,64*((D.c+1)*(O/D.c|0)+O%D.c)),O++}else for(E=0;E<N;E++){for(y=0;y<R;y++)for(x=(D=o[y]).h,I=D.j,v=0;v<I;v++)for(w=0;w<x;w++)L(D,64*((D.c+1)*((O/A|0)*D.j+v)+(O%A*D.h+w)));O++}if(T=0,(D=u(t,e))&&D.f&&((0,_util.warn)(\"decodeScan - unexpected MCU data, current marker is: \"+D.f),e=D.offset),!(D=D&&D.F)||65280>=D)throw new i(\"marker was not found\");if(!(65488<=D&&65495>=D))break;e+=2}return(D=u(t,e))&&D.f&&((0,_util.warn)(\"decodeScan - unexpected Scan data, current marker is: \"+D.f),e=D.offset),e-M}function s(t,e){for(var r=e.c,n=e.l,a=new Int16Array(64),o=0;o<n;o++)for(var s=0;s<r;s++){var u=64*((e.c+1)*o+s),l=a,h=e.G,f=e.a;if(!h)throw new i(\"missing required Quantization Table.\");for(var c=0;64>c;c+=8){var d=f[u+c],p=f[u+c+1],m=f[u+c+2],b=f[u+c+3],g=f[u+c+4],_=f[u+c+5],y=f[u+c+6],v=f[u+c+7];if(d*=h[c],0==(p|m|b|g|_|y|v))d=5793*d+512>>10,l[c]=d,l[c+1]=d,l[c+2]=d,l[c+3]=d,l[c+4]=d,l[c+5]=d,l[c+6]=d,l[c+7]=d;else{p*=h[c+1],m*=h[c+2],b*=h[c+3],g*=h[c+4],_*=h[c+5];var w=5793*d+128>>8,E=5793*g+128>>8,x=m,I=y*=h[c+6];E=(w=w+E+1>>1)-E,d=3784*x+1567*I+128>>8,x=1567*x-3784*I+128>>8,_=(g=(g=2896*(p-(v*=h[c+7]))+128>>8)+(_<<=4)+1>>1)-_,b=(v=(v=2896*(p+v)+128>>8)+(b<<=4)+1>>1)-b,I=(w=w+(I=d)+1>>1)-I,x=(E=E+x+1>>1)-x,d=2276*g+3406*v+2048>>12,g=3406*g-2276*v+2048>>12,v=d,d=799*b+4017*_+2048>>12,b=4017*b-799*_+2048>>12,_=d,l[c]=w+v,l[c+7]=w-v,l[c+1]=E+_,l[c+6]=E-_,l[c+2]=x+b,l[c+5]=x-b,l[c+3]=I+g,l[c+4]=I-g}}for(h=0;8>h;++h)d=l[h],0==((p=l[h+8])|(m=l[h+16])|(b=l[h+24])|(g=l[h+32])|(_=l[h+40])|(y=l[h+48])|(v=l[h+56]))?(d=-2040>(d=5793*d+8192>>14)?0:2024<=d?255:d+2056>>4,f[u+h]=d,f[u+h+8]=d,f[u+h+16]=d,f[u+h+24]=d,f[u+h+32]=d,f[u+h+40]=d,f[u+h+48]=d,f[u+h+56]=d):(w=5793*d+2048>>12,E=5793*g+2048>>12,d=3784*(x=m)+1567*(I=y)+2048>>12,x=1567*x-3784*I+2048>>12,I=d,_=(g=(g=2896*(p-v)+2048>>12)+_+1>>1)-_,b=(v=(v=2896*(p+v)+2048>>12)+b+1>>1)-b,d=2276*g+3406*v+2048>>12,g=3406*g-2276*v+2048>>12,v=d,d=799*b+4017*_+2048>>12,b=4017*b-799*_+2048>>12,p=(E=(E=(w=4112+(w+E+1>>1))-E)+x+1>>1)+(_=d),y=E-_,_=(x=E-x)-b,d=16>(d=(w=w+I+1>>1)+v)?0:4080<=d?255:d>>4,p=16>p?0:4080<=p?255:p>>4,m=16>(m=x+b)?0:4080<=m?255:m>>4,b=16>(b=(I=w-I)+g)?0:4080<=b?255:b>>4,g=16>(g=I-g)?0:4080<=g?255:g>>4,_=16>_?0:4080<=_?255:_>>4,y=16>y?0:4080<=y?255:y>>4,v=16>(v=w-v)?0:4080<=v?255:v>>4,f[u+h]=d,f[u+h+8]=p,f[u+h+16]=m,f[u+h+24]=b,f[u+h+32]=g,f[u+h+40]=_,f[u+h+48]=y,f[u+h+56]=v)}return e.a}function u(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,i=t.length-1;if(r=r<e?r:e,e>=i)return null;var n=t[e]<<8|t[e+1];if(65472<=n&&65534>=n)return{f:null,F:n,offset:e};for(var a=t[r]<<8|t[r+1];!(65472<=a&&65534>=a);){if(++r>=i)return null;a=t[r]<<8|t[r+1]}return{f:n.toString(16),F:a,offset:r}}var l=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);e.prototype={parse:function(t){function e(){var e=t[d]<<8|t[d+1];return d+=2,e}function r(){var r=e(),i=u(t,r=d+r-2,d);return i&&i.f&&((0,_util.warn)(\"readDataBlock - incorrect length, current marker is: \"+i.f),r=i.offset),r=t.subarray(d,r),d+=r.length,r}function h(t){for(var e=Math.ceil(t.v/8/t.s),r=Math.ceil(t.g/8/t.u),i=0;i<t.b.length;i++){M=t.b[i];var n=Math.ceil(Math.ceil(t.v/8)*M.h/t.s),a=Math.ceil(Math.ceil(t.g/8)*M.j/t.u);M.a=new Int16Array(64*r*M.j*(e*M.h+1)),M.c=n,M.l=a}t.P=e,t.O=r}var f=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,c=void 0===f?null:f,d=0,p=null,m=0;f=[];var b=[],g=[],_=e();if(65496!==_)throw new i(\"SOI not found\");for(_=e();65497!==_;){switch(_){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var y=r();65518===_&&65===y[0]&&100===y[1]&&111===y[2]&&98===y[3]&&101===y[4]&&(p={version:y[5]<<8|y[6],Y:y[7]<<8|y[8],Z:y[9]<<8|y[10],W:y[11]});break;case 65499:_=e()+d-2;for(var v;d<_;){var w=t[d++],E=new Uint16Array(64);if(0==w>>4)for(y=0;64>y;y++)E[v=l[y]]=t[d++];else{if(1!=w>>4)throw new i(\"DQT - invalid table spec\");for(y=0;64>y;y++)E[v=l[y]]=e()}f[15&w]=E}break;case 65472:case 65473:case 65474:if(x)throw new i(\"Only single frame JPEGs supported\");e();var x={};for(x.X=65473===_,x.S=65474===_,x.precision=t[d++],_=e(),x.g=c||_,x.v=e(),x.b=[],x.C={},y=t[d++],_=E=w=0;_<y;_++){v=t[d];var I=t[d+1]>>4,S=15&t[d+1];w<I&&(w=I),E<S&&(E=S),I=x.b.push({h:I,j:S,T:t[d+2],G:null}),x.C[v]=I-1,d+=3}x.s=w,x.u=E,h(x);break;case 65476:for(v=e(),_=2;_<v;){for(w=t[d++],E=new Uint8Array(16),y=I=0;16>y;y++,d++)I+=E[y]=t[d];for(S=new Uint8Array(I),y=0;y<I;y++,d++)S[y]=t[d];_+=17+I,(0==w>>4?g:b)[15&w]=n(E,S)}break;case 65501:e();var A=e();break;case 65498:for(y=1==++m&&!c,e(),w=t[d++],v=[],_=0;_<w;_++){E=x.C[t[d++]];var M=x.b[E];E=t[d++],M.D=g[E>>4],M.o=b[15&E],v.push(M)}_=t[d++],w=t[d++],E=t[d++];try{var C=o(t,d,x,v,A,_,w,E>>4,15&E,y);d+=C}catch(e){if(e instanceof a)return(0,_util.warn)('Attempting to re-parse JPEG image using \"scanLines\" parameter found in DNL marker (0xFFDC) segment.'),this.parse(t,{N:e.g});throw e}break;case 65500:d+=4;break;case 65535:255!==t[d]&&d--;break;default:if(255===t[d-3]&&192<=t[d-2]&&254>=t[d-2])d-=3;else{if(!(y=u(t,d-2))||!y.f)throw new i(\"unknown marker \"+_.toString(16));(0,_util.warn)(\"JpegImage.parse - unexpected data, current marker is: \"+y.f),d=y.offset}}_=e()}for(this.width=x.v,this.height=x.g,this.A=p,this.b=[],_=0;_<x.b.length;_++)(A=f[(M=x.b[_]).T])&&(M.G=A),this.b.push({R:s(0,M),U:M.h/x.s,V:M.j/x.u,c:M.c,l:M.l});this.i=this.b.length},L:function(t,e){var r,i,n=this.width/t,a=this.height/e,o=this.b.length,s=t*e*o,u=new Uint8ClampedArray(s),l=new Uint32Array(t);for(i=0;i<o;i++){var h=this.b[i],f=h.U*n,c=h.V*a,d=i,p=h.R,m=h.c+1<<3;for(r=0;r<t;r++)h=0|r*f,l[r]=(4294967288&h)<<3|7&h;for(f=0;f<e;f++)for(h=m*(4294967288&(h=0|f*c))|(7&h)<<3,r=0;r<t;r++)u[d]=p[h+l[r]],d+=o}if(a=this.M)for(i=0;i<s;)for(n=h=0;h<o;h++,i++,n+=2)u[i]=(u[i]*a[n]>>8)+a[n+1];return u},w:function(){return this.A?!!this.A.W:3===this.i?0!==this.B:1===this.B},I:function(t){for(var e,r,i,n=0,a=t.length;n<a;n+=3)e=t[n],r=t[n+1],i=t[n+2],t[n]=e-179.456+1.402*i,t[n+1]=e+135.459-.344*r-.714*i,t[n+2]=e-226.816+1.772*r;return t},K:function(t){for(var e,r,i,n,a=0,o=0,s=t.length;o<s;o+=4)e=t[o],r=t[o+1],i=t[o+2],n=t[o+3],t[a++]=r*(-660635669420364e-19*r+.000437130475926232*i-54080610064599e-18*e+.00048449797120281*n-.154362151871126)-122.67195406894+i*(-.000957964378445773*i+.000817076911346625*e-.00477271405408747*n+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*n+.48357088451265)+n*(-.000336197177618394*n+.484791561490776),t[a++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*i+.000659397001245577*e+.000426105652938837*n-.176491792462875)+i*(-.000778269941513683*i+.00130872261408275*e+.000770482631801132*n-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*n+.25802910206845)+n*(-.000318913117588328*n-.213742400323665),t[a++]=r*(-.000570115196973677*r-263409051004589e-19*i+.0020741088115012*e-.00288260236853442*n+.814272968359295)-20.810012546947+i*(-153496057440975e-19*i-.000132689043961446*e+.000560833691242812*n-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*n+.116935020465145)+n*(-.000343531996510555*n+.24165260232407);return t.subarray(0,a)},J:function(t){for(var e,r,i,n=0,a=t.length;n<a;n+=4)e=t[n],r=t[n+1],i=t[n+2],t[n]=434.456-e-1.402*i,t[n+1]=119.541-e+.344*r+.714*i,t[n+2]=481.816-e-1.772*r;return t},H:function(t){for(var e,r,i,n,a=0,o=1/255,s=0,u=t.length;s<u;s+=4)e=t[s]*o,r=t[s+1]*o,i=t[s+2]*o,n=t[s+3]*o,t[a++]=255+e*(-4.387332384609988*e+54.48615194189176*r+18.82290502165302*i+212.25662451639585*n-285.2331026137004)+r*(1.7149763477362134*r-5.6096736904047315*i-17.873870861415444*n-5.497006427196366)+i*(-2.5217340131683033*i-21.248923337353073*n+17.5119270841813)-n*(21.86122147463605*n+189.48180835922747),t[a++]=255+e*(8.841041422036149*e+60.118027045597366*r+6.871425592049007*i+31.159100130055922*n-79.2970844816548)+r*(-15.310361306967817*r+17.575251261109482*i+131.35250912493976*n-190.9453302588951)+i*(4.444339102852739*i+9.8632861493405*n-24.86741582555878)-n*(20.737325471181034*n+187.80453709719578),t[a++]=255+e*(.8842522430003296*e+8.078677503112928*r+30.89978309703729*i-.23883238689178934*n-14.183576799673286)+r*(10.49593273432072*r+63.02378494754052*i+50.606957656360734*n-112.23884253719248)+i*(.03296041114873217*i+115.60384449646641*n-193.58209356861505)-n*(22.33816807309886*n+180.12613974708367);return t.subarray(0,a)},getData:function(t,e,r){if(4<this.i)throw new i(\"Unsupported color mode\");if(t=this.L(t,e),1===this.i&&r){r=t.length,e=new Uint8ClampedArray(3*r);for(var n=0,a=0;a<r;a++){var o=t[a];e[n++]=o,e[n++]=o,e[n++]=o}return e}if(3===this.i&&this.w())return this.I(t);if(4===this.i){if(this.w())return r?this.K(t):this.J(t);if(r)return this.H(t)}return t}},t.JpegDecoder=e}(),t.encodeImage=function(e,r,i,n){var a={t256:[r],t257:[i],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[i],t279:[r*i*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:[\"Photopea (UTIF.js)\"],t338:[1]};if(n)for(var o in n)a[o]=n[o];var s=new Uint8Array(t.encode([a])),u=new Uint8Array(e),l=new Uint8Array(1e3+r*i*4);for(o=0;o<s.length;o++)l[o]=s[o];for(o=0;o<u.length;o++)l[1e3+o]=u[o];return l.buffer},t.encode=function(e){var r=new Uint8Array(2e4),i=4,n=t._binBE;r[0]=77,r[1]=77,r[3]=42;var a=8;n.writeUint(r,i,a),i+=4;for(var o=0;o<e.length;o++){var s=t._writeIFD(n,r,a,e[o]);a=s[1],o<e.length-1&&n.writeUint(r,s[0],a)}return r.slice(0,a).buffer},t.decode=function(e){t.decode._decodeG3.allow2D=null;var r=new Uint8Array(e),i=0,n=t._binBE.readASCII(r,i,2);i+=2;var a=\"II\"==n?t._binLE:t._binBE;a.readUshort(r,i);i+=2;var o=a.readUint(r,i);i+=4;for(var s=[];;){var u=t._readIFD(a,r,o,s);if(0==(o=a.readUint(r,u)))break}return s},t.decodeImages=function(e,r){for(var i=new Uint8Array(e),a=t._binBE.readASCII(i,0,2),o=0;o<r.length;o++){var s=r[o];if(null!=s.t256){s.isLE=\"II\"==a,s.width=s.t256[0],s.height=s.t257[0];var u=s.t259?s.t259[0]:1,l=s.t266?s.t266[0]:1;s.t284&&2==s.t284[0]&&n(\"PlanarConfiguration 2 should not be used!\");var h=(s.t258?Math.min(32,s.t258[0]):1)*(s.t277?s.t277[0]:1),f=8*Math.ceil(s.width*h/8),c=s.t273;null==c&&(c=s.t324);var d=s.t279;1==u&&1==c.length&&(d=[s.height*(f>>>3)]),null==d&&(d=s.t325);var p=new Uint8Array(s.height*(f>>>3)),m=0;if(null!=s.t322){for(var b=s.t322[0],g=s.t323[0],_=Math.floor((s.width+b-1)/b),y=Math.floor((s.height+g-1)/g),v=new Uint8Array(0|Math.ceil(b*g*h/8)),w=0;w<y;w++)for(var E=0;E<_;E++){for(var x=w*_+E,I=0;I<v.length;I++)v[I]=0;t.decode._decompress(s,i,c[x],d[x],u,v,0,l),6==u?p=v:t._copyTile(v,0|Math.ceil(b*h/8),g,p,0|Math.ceil(s.width*h/8),s.height,0|Math.ceil(E*b*h/8),w*g)}m=8*p.length}else{var S=s.t278?s.t278[0]:s.height;S=Math.min(S,s.height);for(x=0;x<c.length;x++)t.decode._decompress(s,i,c[x],d[x],u,p,0|Math.ceil(m/8),l),m+=f*S;m=Math.min(m,8*p.length)}s.data=new Uint8Array(p.buffer,0,0|Math.ceil(m/8))}}},t.decode._decompress=function(r,i,a,o,s,u,l,h){if(1==s)for(var f=0;f<o;f++)u[l+f]=i[a+f];else if(3==s)t.decode._decodeG3(i,a,o,u,l,r.width,h);else if(4==s)t.decode._decodeG4(i,a,o,u,l,r.width,h);else if(5==s)t.decode._decodeLZW(i,a,u,l);else if(6==s)t.decode._decodeOldJPEG(r,i,a,o,u,l);else if(7==s)t.decode._decodeNewJPEG(r,i,a,o,u,l);else if(8==s)for(var c=new Uint8Array(i.buffer,a,o),d=e.inflate(c),p=0;p<d.length;p++)u[l+p]=d[p];else 32773==s?t.decode._decodePackBits(i,a,o,u,l):32809==s?t.decode._decodeThunder(i,a,o,u,l):n(\"Unknown compression\",s);if(r.t317&&2==r.t317[0])for(var m=r.t277?r.t277[0]:1,b=r.t278?r.t278[0]:r.height,g=r.width*m,_=0;_<b;_++){var y=l+_*g;if(3==m)for(f=3;f<g;f+=3)u[y+f]=u[y+f]+u[y+f-3]&255,u[y+f+1]=u[y+f+1]+u[y+f-2]&255,u[y+f+2]=u[y+f+2]+u[y+f-1]&255;else for(f=m;f<g;f++)u[y+f]=u[y+f]+u[y+f-m]&255}},t.decode._decodeNikon=function(t,e,r,i,a){var o,s;n(t.slice(e,e+100)),o=t[e],s=t[++e],e++,n(o.toString(16),s.toString(16),r)},t.decode._decodeNewJPEG=function(e,r,i,n,a,o){var s=e.t347,u=s?s.length:0,l=new Uint8Array(u+n);if(s){for(var h=0,f=0;f<u-1&&(255!=s[f]||217!=s[f+1]);f++)l[h++]=s[f];var c=r[i],d=r[i+1];255==c&&216==d||(l[h++]=c,l[h++]=d);for(f=2;f<n;f++)l[h++]=r[i+f]}else for(f=0;f<n;f++)l[f]=r[i+f];if(32803==e.t262){var p=e.t258[0],m=(new LosslessJpegDecoder).decode(l),b=m.length;if(16==p)for(f=0;f<b;f++)a[o++]=255&m[f],a[o++]=m[f]>>>8;else{if(12!=p)throw new Error(\"unsupported bit depth \"+p);for(f=0;f<b;f+=2)a[o++]=m[f]>>>4,a[o++]=255&(m[f]<<4|m[f+1]>>>8),a[o++]=255&m[f+1]}}else{var g=new t.JpegDecoder;g.parse(l);var _=g.getData(g.width,g.height);for(f=0;f<_.length;f++)a[o+f]=_[f]}6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodeOldJPEGInit=function(t,e,r,i){var a,o,s,u,l,h=0,f=0,c=!1,d=t.t513,p=d?d[0]:0,m=t.t514,b=m?m[0]:0,g=t.t324||t.t273||d,_=t.t530,y=0,v=0,w=t.t277?t.t277[0]:1,E=t.t515;if(g&&(f=g[0],c=g.length>1),!c){if(255==e[r]&&216==e[r+1])return{jpegOffset:r};if(null!=d&&(255==e[r+p]&&216==e[r+p+1]?h=r+p:n(\"JPEGInterchangeFormat does not point to SOI\"),null==m?n(\"JPEGInterchangeFormatLength field is missing\"):(p>=f||p+b<=f)&&n(\"JPEGInterchangeFormatLength field value is invalid\"),null!=h))return{jpegOffset:h}}if(null!=_&&(y=_[0],v=_[1]),null!=d&&null!=m)if(b>=2&&p+b<=f){for(a=255==e[r+p+b-2]&&216==e[r+p+b-1]?new Uint8Array(b-2):new Uint8Array(b),s=0;s<a.length;s++)a[s]=e[r+p+s];n(\"Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables\")}else n(\"JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile\");if(null==a){var x=0,I=[];I[x++]=255,I[x++]=216;var S=t.t519;if(null==S)throw new Error(\"JPEGQTables tag is missing\");for(s=0;s<S.length;s++)for(I[x++]=255,I[x++]=219,I[x++]=0,I[x++]=67,I[x++]=s,u=0;u<64;u++)I[x++]=e[r+S[s]+u];for(l=0;l<2;l++){var A=t[0==l?\"t520\":\"t521\"];if(null==A)throw new Error((0==l?\"JPEGDCTables\":\"JPEGACTables\")+\" tag is missing\");for(s=0;s<A.length;s++){I[x++]=255,I[x++]=196;var M=19;for(u=0;u<16;u++)M+=e[r+A[s]+u];for(I[x++]=M>>>8,I[x++]=255&M,I[x++]=s|l<<4,u=0;u<16;u++)I[x++]=e[r+A[s]+u];for(u=0;u<M;u++)I[x++]=e[r+A[s]+16+u]}}if(I[x++]=255,I[x++]=192,I[x++]=0,I[x++]=8+3*w,I[x++]=8,I[x++]=t.height>>>8&255,I[x++]=255&t.height,I[x++]=t.width>>>8&255,I[x++]=255&t.width,I[x++]=w,1==w)I[x++]=1,I[x++]=17,I[x++]=0;else for(s=0;s<3;s++)I[x++]=s+1,I[x++]=0!=s?17:(15&y)<<4|15&v,I[x++]=s;null!=E&&0!=E[0]&&(I[x++]=255,I[x++]=221,I[x++]=0,I[x++]=4,I[x++]=E[0]>>>8&255,I[x++]=255&E[0]),a=new Uint8Array(I)}var C=-1;for(s=0;s<a.length-1;){if(255==a[s]&&192==a[s+1]){C=s;break}s++}if(-1==C){var T=new Uint8Array(a.length+10+3*w);T.set(a);var k=a.length;if(C=a.length,(a=T)[k++]=255,a[k++]=192,a[k++]=0,a[k++]=8+3*w,a[k++]=8,a[k++]=t.height>>>8&255,a[k++]=255&t.height,a[k++]=t.width>>>8&255,a[k++]=255&t.width,a[k++]=w,1==w)a[k++]=1,a[k++]=17,a[k++]=0;else for(s=0;s<3;s++)a[k++]=s+1,a[k++]=0!=s?17:(15&y)<<4|15&v,a[k++]=s}if(255==e[f]&&218==e[f+1]){var P=e[f+2]<<8|e[f+3];for((o=new Uint8Array(P+2))[0]=e[f],o[1]=e[f+1],o[2]=e[f+2],o[3]=e[f+3],s=0;s<P-2;s++)o[s+4]=e[f+s+4]}else{var R=0;if((o=new Uint8Array(8+2*w))[R++]=255,o[R++]=218,o[R++]=0,o[R++]=6+2*w,o[R++]=w,1==w)o[R++]=1,o[R++]=0;else for(s=0;s<3;s++)o[R++]=s+1,o[R++]=s<<4|s;o[R++]=0,o[R++]=63,o[R++]=0}return{jpegOffset:r,tables:a,sosMarker:o,sofPosition:C}},t.decode._decodeOldJPEG=function(e,r,i,n,a,o){var s,u,l,h=t.decode._decodeOldJPEGInit(e,r,i,n);if(null!=h.jpegOffset)for(s=i+n-h.jpegOffset,l=new Uint8Array(s),d=0;d<s;d++)l[d]=r[h.jpegOffset+d];else{for(u=h.tables.length,(l=new Uint8Array(u+h.sosMarker.length+n+2)).set(h.tables),u,l[h.sofPosition+5]=e.height>>>8&255,l[h.sofPosition+6]=255&e.height,l[h.sofPosition+7]=e.width>>>8&255,l[h.sofPosition+8]=255&e.width,255==r[i]&&r[i+1]==SOS||(l.set(h.sosMarker,bufoff),bufoff+=sosMarker.length),d=0;d<n;d++)l[bufoff++]=r[i+d];l[bufoff++]=255,l[bufoff++]=EOI}var f=new t.JpegDecoder;f.parse(l);for(var c=f.getData(f.width,f.height),d=0;d<c.length;d++)a[o+d]=c[d];6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodePackBits=function(t,e,r,i,n){for(var a=new Int8Array(t.buffer),o=new Int8Array(i.buffer),s=e+r;e<s;){var u=a[e];if(e++,u>=0&&u<128)for(var l=0;l<u+1;l++)o[n]=a[e],n++,e++;if(u>=-127&&u<0){for(l=0;l<1-u;l++)o[n]=a[e],n++;e++}}},t.decode._decodeThunder=function(t,e,r,i,n){for(var a=[0,1,0,-1],o=[0,1,2,3,0,-3,-2,-1],s=e+r,u=2*n,l=0;e<s;){var h=t[e],f=h>>>6,c=63&h;if(e++,3==f&&(l=15&c,i[u>>>1]|=l<<4*(1-u&1),u++),0==f)for(var d=0;d<c;d++)i[u>>>1]|=l<<4*(1-u&1),u++;if(2==f)for(d=0;d<2;d++){4!=(p=c>>>3*(1-d)&7)&&(l+=o[p],i[u>>>1]|=l<<4*(1-u&1),u++)}if(1==f)for(d=0;d<3;d++){var p;2!=(p=c>>>2*(2-d)&3)&&(l+=a[p],i[u>>>1]|=l<<4*(1-u&1),u++)}}},t.decode._dmap={1:0,\"011\":1,\"000011\":2,\"0000011\":3,\"010\":-1,\"000010\":-2,\"0000010\":-3},t.decode._lens=function(){var t=function(t,e,r,i){for(var n=0;n<e.length;n++)t[e[n]]=r+n*i},e=\"00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100\",r=\"0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111\",i=\"11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011\",n=\"0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101\",a=\"00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111\";e=e.split(\",\"),r=r.split(\",\"),i=i.split(\",\"),n=n.split(\",\"),a=a.split(\",\");var o={},s={};return t(o,e,0,1),t(o,i,64,64),t(o,a,1792,64),t(s,r,0,1),t(s,n,64,64),t(s,a,1792,64),[o,s]}(),t.decode._decodeG4=function(e,r,i,n,a,o,s){for(var u=t.decode,l=r<<3,h=0,f=\"\",c=[],d=[],p=0;p<o;p++)d.push(0);d=u._makeDiff(d);for(var m=0,b=0,g=0,_=0,y=0,v=0,w=\"\",E=0,x=8*Math.ceil(o/8);l>>>3<r+i;){g=u._findDiff(d,m+(0==m?0:1),1-y),_=u._findDiff(d,g,y);var I=0;if(1==s&&(I=e[l>>>3]>>>7-(7&l)&1),2==s&&(I=e[l>>>3]>>>(7&l)&1),l++,f+=I,\"H\"==w){if(null!=u._lens[y][f]){var S=u._lens[y][f];f=\"\",h+=S,S<64&&(u._addNtimes(c,h,y),m+=h,y=1-y,h=0,0==--E&&(w=\"\"))}}else\"0001\"==f&&(f=\"\",u._addNtimes(c,_-m,y),m=_),\"001\"==f&&(f=\"\",w=\"H\",E=2),null!=u._dmap[f]&&(b=g+u._dmap[f],u._addNtimes(c,b-m,y),m=b,f=\"\",y=1-y);c.length==o&&\"\"==w&&(u._writeBits(c,n,8*a+v*x),y=0,v++,m=0,d=u._makeDiff(c),c=[])}},t.decode._findDiff=function(t,e,r){for(var i=0;i<t.length;i+=2)if(t[i]>=e&&t[i+1]==r)return t[i]},t.decode._makeDiff=function(t){var e=[];1==t[0]&&e.push(0,1);for(var r=1;r<t.length;r++)t[r-1]!=t[r]&&e.push(r,t[r]);return e.push(t.length,0,t.length,1),e},t.decode._decodeG3=function(e,r,i,n,a,o,s){for(var u=t.decode,l=r<<3,h=0,f=\"\",c=[],d=[],p=0;p<o;p++)c.push(0);for(var m=0,b=0,g=0,_=0,y=0,v=-1,w=\"\",E=0,x=!1,I=8*Math.ceil(o/8);l>>>3<r+i;){g=u._findDiff(d,m+(0==m?0:1),1-y),_=u._findDiff(d,g,y);var S=0;if(1==s&&(S=e[l>>>3]>>>7-(7&l)&1),2==s&&(S=e[l>>>3]>>>(7&l)&1),l++,f+=S,x){if(null!=u._lens[y][f]){var A=u._lens[y][f];f=\"\",h+=A,A<64&&(u._addNtimes(c,h,y),y=1-y,h=0)}}else if(\"H\"==w){if(null!=u._lens[y][f]){A=u._lens[y][f];f=\"\",h+=A,A<64&&(u._addNtimes(c,h,y),m+=h,y=1-y,h=0,0==--E&&(w=\"\"))}}else\"0001\"==f&&(f=\"\",u._addNtimes(c,_-m,y),m=_),\"001\"==f&&(f=\"\",w=\"H\",E=2),null!=u._dmap[f]&&(b=g+u._dmap[f],u._addNtimes(c,b-m,y),m=b,f=\"\",y=1-y);f.endsWith(\"000000000001\")&&(v>=0&&u._writeBits(c,n,8*a+v*I),1==s&&(x=1==(e[l>>>3]>>>7-(7&l)&1)),2==s&&(x=1==(e[l>>>3]>>>(7&l)&1)),l++,null==u._decodeG3.allow2D&&(u._decodeG3.allow2D=x),u._decodeG3.allow2D||(x=!0,l--),f=\"\",y=0,v++,m=0,d=u._makeDiff(c),c=[])}c.length==o&&u._writeBits(c,n,8*a+v*I)},t.decode._addNtimes=function(t,e,r){for(var i=0;i<e;i++)t.push(r)},t.decode._writeBits=function(t,e,r){for(var i=0;i<t.length;i++)e[r+i>>>3]|=t[i]<<7-(r+i&7)},t.decode._decodeLZW=function(e,r,i,n){if(null==t.decode._lzwTab){for(var a=new Uint32Array(65535),o=new Uint16Array(65535),s=new Uint8Array(2e6),u=0;u<256;u++)s[u<<2]=u,a[u]=u<<2,o[u]=1;t.decode._lzwTab=[a,o,s]}for(var l=t.decode._copyData,h=t.decode._lzwTab[0],f=t.decode._lzwTab[1],c=(s=t.decode._lzwTab[2],258),d=1032,p=9,m=r<<3,b=0,g=0;b=(e[m>>>3]<<16|e[m+8>>>3]<<8|e[m+16>>>3])>>24-(7&m)-p&(1<<p)-1,m+=p,257!=b;){if(256==b){if(p=9,c=258,d=1032,b=(e[m>>>3]<<16|e[m+8>>>3]<<8|e[m+16>>>3])>>24-(7&m)-p&(1<<p)-1,m+=p,257==b)break;i[n]=b,n++}else if(b<c){var _=h[b],y=f[b];if(l(s,_,i,n,y),n+=y,g>=c)h[c]=d,s[h[c]]=_[0],f[c]=1,d=d+1+3&-4,c++;else h[c]=d,l(s,h[g],s,d,v=f[g]),s[d+v]=s[_],v++,f[c]=v,c++,d=d+v+3&-4;c+1==1<<p&&p++}else{var v;if(g>=c)h[c]=d,f[c]=0,c++;else h[c]=d,l(s,h[g],s,d,v=f[g]),s[d+v]=s[d],v++,f[c]=v,c++,l(s,d,i,n,v),n+=v,d=d+v+3&-4;c+1==1<<p&&p++}g=b}},t.decode._copyData=function(t,e,r,i,n){for(var a=0;a<n;a+=4)r[i+a]=t[e+a],r[i+a+1]=t[e+a+1],r[i+a+2]=t[e+a+2],r[i+a+3]=t[e+a+3]},t.tags={254:\"NewSubfileType\",255:\"SubfileType\",256:\"ImageWidth\",257:\"ImageLength\",258:\"BitsPerSample\",259:\"Compression\",262:\"PhotometricInterpretation\",266:\"FillOrder\",269:\"DocumentName\",270:\"ImageDescription\",271:\"Make\",272:\"Model\",273:\"StripOffset\",274:\"Orientation\",277:\"SamplesPerPixel\",278:\"RowsPerStrip\",279:\"StripByteCounts\",280:\"MinSampleValue\",281:\"MaxSampleValue\",282:\"XResolution\",283:\"YResolution\",284:\"PlanarConfiguration\",285:\"PageName\",286:\"XPosition\",287:\"YPosition\",292:\"T4Options\",296:\"ResolutionUnit\",297:\"PageNumber\",305:\"Software\",306:\"DateTime\",315:\"Artist\",316:\"HostComputer\",317:\"Predictor\",318:\"WhitePoint\",319:\"PrimaryChromaticities\",320:\"ColorMap\",321:\"HalftoneHints\",322:\"TileWidth\",323:\"TileLength\",324:\"TileOffset\",325:\"TileByteCounts\",330:\"SubIFDs\",336:\"DotRange\",338:\"ExtraSample\",339:\"SampleFormat\",347:\"JPEGTables\",512:\"JPEGProc\",513:\"JPEGInterchangeFormat\",514:\"JPEGInterchangeFormatLength\",519:\"JPEGQTables\",520:\"JPEGDCTables\",521:\"JPEGACTables\",529:\"YCbCrCoefficients\",530:\"YCbCrSubSampling\",531:\"YCbCrPositioning\",532:\"ReferenceBlackWhite\",700:\"XMP\",33421:\"CFARepeatPatternDim\",33422:\"CFAPattern\",33432:\"Copyright\",33434:\"ExposureTime\",33437:\"FNumber\",33723:\"IPTC/NAA\",34377:\"Photoshop\",34665:\"ExifIFD\",34675:\"ICC Profile\",34850:\"ExposureProgram\",34853:\"GPSInfo\",34855:\"ISOSpeedRatings\",34858:\"TimeZoneOffset\",34859:\"SelfTimeMode\",36867:\"DateTimeOriginal\",36868:\"DateTimeDigitized\",37377:\"ShutterSpeedValue\",37378:\"ApertureValue\",37380:\"ExposureBiasValue\",37383:\"MeteringMode\",37385:\"Flash\",37386:\"FocalLength\",37390:\"FocalPlaneXResolution\",37391:\"FocalPlaneYResolution\",37392:\"FocalPlaneResolutionUnit\",37393:\"ImageNumber\",37398:\"TIFF/EPStandardID\",37399:\"SensingMethod\",37500:\"MakerNote\",37510:\"UserComment\",37724:\"ImageSourceData\",40092:\"XPComment\",40094:\"XPKeywords\",40961:\"ColorSpace\",40962:\"PixelXDimension\",40963:\"PixelXDimension\",41486:\"FocalPlaneXResolution\",41487:\"FocalPlaneYResolution\",41488:\"FocalPlaneResolutionUnit\",41985:\"CustomRendered\",41986:\"ExposureMode\",41987:\"WhiteBalance\",41990:\"SceneCaptureType\",50706:\"DNGVersion\",50707:\"DNGBackwardVersion\",50708:\"UniqueCameraModel\",50709:\"LocalizedCameraModel\",50710:\"CFAPlaneColor\",50711:\"CFALayout\",50712:\"LinearizationTable\",50713:\"BlackLevelRepeatDim\",50714:\"BlackLevel\",50716:\"BlackLevelDeltaV\",50717:\"WhiteLevel\",50718:\"DefaultScale\",50719:\"DefaultCropOrigin\",50720:\"DefaultCropSize\",50733:\"BayerGreenSplit\",50738:\"AntiAliasStrength\",50721:\"ColorMatrix1\",50722:\"ColorMatrix2\",50723:\"CameraCalibration1\",50724:\"CameraCalibration2\",50727:\"AnalogBalance\",50728:\"AsShotNeutral\",50730:\"BaselineExposure\",50731:\"BaselineNoise\",50732:\"BaselineSharpness\",50734:\"LinearResponseLimit\",50735:\"CameraSerialNumber\",50736:\"LensInfo\",50739:\"ShadowScale\",50740:\"DNGPrivateData\",50741:\"MakerNoteSafety\",50778:\"CalibrationIlluminant1\",50779:\"CalibrationIlluminant2\",50780:\"BestQualityScale\",50781:\"RawDataUniqueID\",50827:\"OriginalRawFileName\",50829:\"ActiveArea\",50830:\"MaskedAreas\",50931:\"CameraCalibrationSignature\",50932:\"ProfileCalibrationSignature\",50935:\"NoiseReductionApplied\",50936:\"ProfileName\",50937:\"ProfileHueSatMapDims\",50938:\"ProfileHueSatMapData1\",50939:\"ProfileHueSatMapData2\",50940:\"ProfileToneCurve\",50941:\"ProfileEmbedPolicy\",50942:\"ProfileCopyright\",50964:\"ForwardMatrix1\",50965:\"ForwardMatrix2\",50966:\"PreviewApplicationName\",50967:\"PreviewApplicationVersion\",50969:\"PreviewSettingsDigest\",50970:\"PreviewColorSpace\",50971:\"PreviewDateTime\",50972:\"RawImageDigest\",51008:\"OpcodeList1\",51009:\"OpcodeList2\",51022:\"OpcodeList3\",51041:\"NoiseProfile\",51089:\"OriginalDefaultFinalSize\",51090:\"OriginalBestQualityFinalSize\",51091:\"OriginalDefaultCropSize\",51125:\"DefaultUserCrop\"},t.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},t._readIFD=function(e,r,i,a){var o=e.readUshort(r,i);i+=2;var s={};a.push(s);for(var u=0;u<o;u++){var l=e.readUshort(r,i);i+=2;var h=e.readUshort(r,i);i+=2;var f=e.readUint(r,i);i+=4;var c=e.readUint(r,i);i+=4;var d=[];if(s[\"t\"+l]=d,1==h||7==h)for(var p=0;p<f;p++)d.push(r[(f<5?i-4:c)+p]);if(2==h&&d.push(e.readASCII(r,f<5?i-4:c,f-1)),3==h)for(p=0;p<f;p++)d.push(e.readUshort(r,(f<3?i-4:c)+2*p));if(4==h)for(p=0;p<f;p++)d.push(e.readUint(r,(f<2?i-4:c)+4*p));if(5==h)for(p=0;p<f;p++)d.push(e.readUint(r,c+8*p)/e.readUint(r,c+8*p+4));if(8==h)for(p=0;p<f;p++)d.push(e.readShort(r,(f<3?i-4:c)+2*p));if(9==h)for(p=0;p<f;p++)d.push(e.readInt(r,(f<2?i-4:c)+4*p));if(10==h)for(p=0;p<f;p++)d.push(e.readInt(r,c+8*p)/e.readInt(r,c+8*p+4));if(11==h)for(p=0;p<f;p++)d.push(e.readFloat(r,c+4*p));if(12==h)for(p=0;p<f;p++)d.push(e.readDouble(r,c+8*p));if(0!=f&&0==d.length&&n(\"unknown TIFF tag type: \",h,\"num:\",f),330==l)for(p=0;p<f;p++)t._readIFD(e,r,d[p],a)}return i},t._writeIFD=function(e,r,i,n){var a=Object.keys(n);e.writeUshort(r,i,a.length);for(var o=(i+=2)+12*a.length+4,s=0;s<a.length;s++){var u=a[s],l=parseInt(u.slice(1)),h=t.ttypes[l];if(null==h)throw new Error(\"unknown type of tag: \"+l);var f=n[u];2==h&&(f=f[0]+\"\\0\");var c=f.length;e.writeUshort(r,i,l),i+=2,e.writeUshort(r,i,h),i+=2,e.writeUint(r,i,c);var d=[-1,1,1,2,4,8,0,0,0,0,0,0,8][h]*c,p=i+=4;if(d>4&&(e.writeUint(r,i,o),p=o),2==h&&e.writeASCII(r,p,f),3==h)for(var m=0;m<c;m++)e.writeUshort(r,p+2*m,f[m]);if(4==h)for(m=0;m<c;m++)e.writeUint(r,p+4*m,f[m]);if(5==h)for(m=0;m<c;m++)e.writeUint(r,p+8*m,Math.round(1e4*f[m])),e.writeUint(r,p+8*m+4,1e4);if(12==h)for(m=0;m<c;m++)e.writeDouble(r,p+8*m,f[m]);d>4&&(o+=d+=1&d),i+=4}return[i,o]},t.toRGBA8=function(t){var e=t.width,r=t.height,i=e*r,a=4*i,o=t.data,s=new Uint8Array(4*i),u=t.t262[0],l=t.t258?Math.min(32,t.t258[0]):1,h=t.isLE?1:0;if(0==u)for(var f=Math.ceil(l*e/8),c=0;c<r;c++){var d=c*f,p=c*e;if(1==l)for(var m=0;m<e;m++){var b=p+m<<2,g=o[d+(m>>3)]>>7-(7&m)&1;s[b]=s[b+1]=s[b+2]=255*(1-g),s[b+3]=255}if(4==l)for(m=0;m<e;m++){b=p+m<<2,g=o[d+(m>>1)]>>4-4*(1&m)&15;s[b]=s[b+1]=s[b+2]=17*(15-g),s[b+3]=255}if(8==l)for(m=0;m<e;m++){b=p+m<<2,g=o[d+m];s[b]=s[b+1]=s[b+2]=255-g,s[b+3]=255}}else if(1==u)for(f=Math.ceil(l*e/8),c=0;c<r;c++){d=c*f,p=c*e;if(1==l)for(m=0;m<e;m++){b=p+m<<2,g=o[d+(m>>3)]>>7-(7&m)&1;s[b]=s[b+1]=s[b+2]=255*g,s[b+3]=255}if(2==l)for(m=0;m<e;m++){b=p+m<<2,g=o[d+(m>>2)]>>6-2*(3&m)&3;s[b]=s[b+1]=s[b+2]=85*g,s[b+3]=255}if(8==l)for(m=0;m<e;m++){b=p+m<<2,g=o[d+m];s[b]=s[b+1]=s[b+2]=g,s[b+3]=255}if(16==l)for(m=0;m<e;m++){b=p+m<<2,g=o[d+(2*m+h)];s[b]=s[b+1]=s[b+2]=Math.min(255,g),s[b+3]=255}}else if(2==u)if(8==l)if(t.t338)if(t.t338[0]>0)for(m=0;m<a;m++)s[m]=o[m];else for(m=0;m<a;m+=4)s[m]=o[m],s[m+1]=o[m+1],s[m+2]=o[m+2],s[m+3]=255;else{if(4==(w=t.t258?t.t258.length:3))for(m=0;m<a;m++)s[m]=o[m];if(3==w)for(m=0;m<i;m++){var _=3*m;s[b=m<<2]=o[_],s[b+1]=o[_+1],s[b+2]=o[_+2],s[b+3]=255}}else for(m=0;m<i;m++){_=6*m;s[b=m<<2]=o[_],s[b+1]=o[_+2],s[b+2]=o[_+4],s[b+3]=255}else if(3==u){var y=t.t320;for(m=0;m<i;m++){b=m<<2;var v=o[m];s[b]=y[v]>>8,s[b+1]=y[256+v]>>8,s[b+2]=y[512+v]>>8,s[b+3]=255}}else if(5==u){var w,E=(w=t.t258?t.t258.length:4)>4?1:0;for(m=0;m<i;m++){b=m<<2;var x=m*w,I=255-o[x],S=255-o[x+1],A=255-o[x+2],M=(255-o[x+3])*(1/255);s[b]=~~(I*M+.5),s[b+1]=~~(S*M+.5),s[b+2]=~~(A*M+.5),s[b+3]=255*(1-E)+o[x+4]*E}}else n(\"Unknown Photometric interpretation: \"+u);return s},t.replaceIMG=function(){for(var e=document.getElementsByTagName(\"img\"),r=0;r<e.length;r++){var i=e[r],n=i.getAttribute(\"src\");if(null!=n){var a=n.split(\".\").pop().toLowerCase();if(\"tif\"==a||\"tiff\"==a){var o=new XMLHttpRequest;t._xhrs.push(o),t._imgs.push(i),o.open(\"GET\",n),o.responseType=\"arraybuffer\",o.onload=t._imgLoaded,o.send()}}}},t._xhrs=[],t._imgs=[],t._imgLoaded=function(e){var r=e.target.response,i=t.decode(r),n=i[0];t.decodeImages(r,i);var a=t.toRGBA8(n),o=n.width,s=n.height,u=t._xhrs.indexOf(e.target),l=t._imgs[u];t._xhrs.splice(u,1),t._imgs.splice(u,1);var h=document.createElement(\"canvas\");h.width=o,h.height=s;for(var f=h.getContext(\"2d\"),c=f.createImageData(o,s),d=0;d<a.length;d++)c.data[d]=a[d];f.putImageData(c,0,0);var p=[\"style\",\"class\",\"id\"];for(d=0;d<p.length;d++)h.setAttribute(p[d],l.getAttribute(p[d]));l.parentNode.replaceChild(h,l)},t._binBE={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},readShort:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+1],i[1]=e[r+0],t._binBE.i16[0]},readInt:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+3],i[1]=e[r+2],i[2]=e[r+1],i[3]=e[r+0],t._binBE.i32[0]},readUint:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+3],i[1]=e[r+2],i[2]=e[r+1],i[3]=e[r+0],t._binBE.ui32[0]},readASCII:function(t,e,r){for(var i=\"\",n=0;n<r;n++)i+=String.fromCharCode(t[e+n]);return i},readFloat:function(e,r){for(var i=t._binBE.ui8,n=0;n<4;n++)i[n]=e[r+3-n];return t._binBE.fl32[0]},readDouble:function(e,r){for(var i=t._binBE.ui8,n=0;n<8;n++)i[n]=e[r+7-n];return t._binBE.fl64[0]},writeUshort:function(t,e,r){t[e]=r>>8&255,t[e+1]=255&r},writeUint:function(t,e,r){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r>>0&255},writeASCII:function(t,e,r){for(var i=0;i<r.length;i++)t[e+i]=r.charCodeAt(i)},writeDouble:function(e,r,i){t._binBE.fl64[0]=i;for(var n=0;n<8;n++)e[r+n]=t._binBE.ui8[7-n]}},t._binBE.ui8=new Uint8Array(8),t._binBE.i16=new Int16Array(t._binBE.ui8.buffer),t._binBE.i32=new Int32Array(t._binBE.ui8.buffer),t._binBE.ui32=new Uint32Array(t._binBE.ui8.buffer),t._binBE.fl32=new Float32Array(t._binBE.ui8.buffer),t._binBE.fl64=new Float64Array(t._binBE.ui8.buffer),t._binLE={nextZero:t._binBE.nextZero,readUshort:function(t,e){return t[e+1]<<8|t[e]},readShort:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+0],i[1]=e[r+1],t._binBE.i16[0]},readInt:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+0],i[1]=e[r+1],i[2]=e[r+2],i[3]=e[r+3],t._binBE.i32[0]},readUint:function(e,r){var i=t._binBE.ui8;return i[0]=e[r+0],i[1]=e[r+1],i[2]=e[r+2],i[3]=e[r+3],t._binBE.ui32[0]},readASCII:t._binBE.readASCII,readFloat:function(e,r){for(var i=t._binBE.ui8,n=0;n<4;n++)i[n]=e[r+n];return t._binBE.fl32[0]},readDouble:function(e,r){for(var i=t._binBE.ui8,n=0;n<8;n++)i[n]=e[r+n];return t._binBE.fl64[0]}},t._copyTile=function(t,e,r,i,n,a,o,s){for(var u=Math.min(e,n-o),l=Math.min(r,a-s),h=0;h<l;h++)for(var f=(s+h)*n+o,c=h*e,d=0;d<u;d++)i[f+d]=t[c+d]}}(i,\"function\"==typeof t?t(\"pako\"):self.pako)}()}).call(this)}).call(this,t(\"_process\"))},{_process:184,pako:138}],232:[function(t,e,r){(function(t){(function(){function r(e){try{if(!t.localStorage)return!1}catch(t){return!1}var r=t.localStorage[e];return null!=r&&\"true\"===String(r).toLowerCase()}e.exports=function(t,e){if(r(\"noDeprecation\"))return t;var i=!1;return function(){if(!i){if(r(\"throwDeprecation\"))throw new Error(e);r(\"traceDeprecation\")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],233:[function(t,e,r){arguments[4][75][0].apply(r,arguments)},{dup:75}],234:[function(t,e,r){\"use strict\";var i=t(\"is-arguments\"),n=t(\"is-generator-function\"),a=t(\"which-typed-array\"),o=t(\"is-typed-array\");function s(t){return t.call.bind(t)}var u=\"undefined\"!=typeof BigInt,l=\"undefined\"!=typeof Symbol,h=s(Object.prototype.toString),f=s(Number.prototype.valueOf),c=s(String.prototype.valueOf),d=s(Boolean.prototype.valueOf);if(u)var p=s(BigInt.prototype.valueOf);if(l)var m=s(Symbol.prototype.valueOf);function b(t,e){if(\"object\"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function g(t){return\"[object Map]\"===h(t)}function _(t){return\"[object Set]\"===h(t)}function y(t){return\"[object WeakMap]\"===h(t)}function v(t){return\"[object WeakSet]\"===h(t)}function w(t){return\"[object ArrayBuffer]\"===h(t)}function E(t){return\"undefined\"!=typeof ArrayBuffer&&(w.working?w(t):t instanceof ArrayBuffer)}function x(t){return\"[object DataView]\"===h(t)}function I(t){return\"undefined\"!=typeof DataView&&(x.working?x(t):t instanceof DataView)}r.isArgumentsObject=i,r.isGeneratorFunction=n,r.isTypedArray=o,r.isPromise=function(t){return\"undefined\"!=typeof Promise&&t instanceof Promise||null!==t&&\"object\"==typeof t&&\"function\"==typeof t.then&&\"function\"==typeof t.catch},r.isArrayBufferView=function(t){return\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):o(t)||I(t)},r.isUint8Array=function(t){return\"Uint8Array\"===a(t)},r.isUint8ClampedArray=function(t){return\"Uint8ClampedArray\"===a(t)},r.isUint16Array=function(t){return\"Uint16Array\"===a(t)},r.isUint32Array=function(t){return\"Uint32Array\"===a(t)},r.isInt8Array=function(t){return\"Int8Array\"===a(t)},r.isInt16Array=function(t){return\"Int16Array\"===a(t)},r.isInt32Array=function(t){return\"Int32Array\"===a(t)},r.isFloat32Array=function(t){return\"Float32Array\"===a(t)},r.isFloat64Array=function(t){return\"Float64Array\"===a(t)},r.isBigInt64Array=function(t){return\"BigInt64Array\"===a(t)},r.isBigUint64Array=function(t){return\"BigUint64Array\"===a(t)},g.working=\"undefined\"!=typeof Map&&g(new Map),r.isMap=function(t){return\"undefined\"!=typeof Map&&(g.working?g(t):t instanceof Map)},_.working=\"undefined\"!=typeof Set&&_(new Set),r.isSet=function(t){return\"undefined\"!=typeof Set&&(_.working?_(t):t instanceof Set)},y.working=\"undefined\"!=typeof WeakMap&&y(new WeakMap),r.isWeakMap=function(t){return\"undefined\"!=typeof WeakMap&&(y.working?y(t):t instanceof WeakMap)},v.working=\"undefined\"!=typeof WeakSet&&v(new WeakSet),r.isWeakSet=function(t){return v(t)},w.working=\"undefined\"!=typeof ArrayBuffer&&w(new ArrayBuffer),r.isArrayBuffer=E,x.working=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof DataView&&x(new DataView(new ArrayBuffer(1),0,1)),r.isDataView=I;var S=\"undefined\"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(t){return\"[object SharedArrayBuffer]\"===h(t)}function M(t){return void 0!==S&&(void 0===A.working&&(A.working=A(new S)),A.working?A(t):t instanceof S)}function C(t){return b(t,f)}function T(t){return b(t,c)}function k(t){return b(t,d)}function P(t){return u&&b(t,p)}function R(t){return l&&b(t,m)}r.isSharedArrayBuffer=M,r.isAsyncFunction=function(t){return\"[object AsyncFunction]\"===h(t)},r.isMapIterator=function(t){return\"[object Map Iterator]\"===h(t)},r.isSetIterator=function(t){return\"[object Set Iterator]\"===h(t)},r.isGeneratorObject=function(t){return\"[object Generator]\"===h(t)},r.isWebAssemblyCompiledModule=function(t){return\"[object WebAssembly.Module]\"===h(t)},r.isNumberObject=C,r.isStringObject=T,r.isBooleanObject=k,r.isBigIntObject=P,r.isSymbolObject=R,r.isBoxedPrimitive=function(t){return C(t)||T(t)||k(t)||P(t)||R(t)},r.isAnyArrayBuffer=function(t){return\"undefined\"!=typeof Uint8Array&&(E(t)||M(t))},[\"isProxy\",\"isExternal\",\"isModuleNamespaceObject\"].forEach(function(t){Object.defineProperty(r,t,{enumerable:!1,value:function(){throw new Error(t+\" is not supported in userland\")}})})},{\"is-arguments\":122,\"is-generator-function\":126,\"is-typed-array\":127,\"which-typed-array\":236}],235:[function(t,e,r){(function(e){(function(){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},i=0;i<e.length;i++)r[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return r},n=/%[sdj%]/g;r.format=function(t){if(!_(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(u(arguments[r]));return e.join(\" \")}r=1;for(var i=arguments,a=i.length,o=String(t).replace(n,function(t){if(\"%%\"===t)return\"%\";if(r>=a)return t;switch(t){case\"%s\":return String(i[r++]);case\"%d\":return Number(i[r++]);case\"%j\":try{return JSON.stringify(i[r++])}catch(t){return\"[Circular]\"}default:return t}}),s=i[r];r<a;s=i[++r])b(s)||!w(s)?o+=\" \"+s:o+=\" \"+u(s);return o},r.deprecate=function(t,i){if(void 0!==e&&!0===e.noDeprecation)return t;if(void 0===e)return function(){return r.deprecate(t,i).apply(this,arguments)};var n=!1;return function(){if(!n){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),n=!0}return t.apply(this,arguments)}};var a={},o=/^$/;if(e.env.NODE_DEBUG){var s=e.env.NODE_DEBUG;s=s.replace(/[|\\\\{}()[\\]^$+?.]/g,\"\\\\$&\").replace(/\\*/g,\".*\").replace(/,/g,\"$|^\").toUpperCase(),o=new RegExp(\"^\"+s+\"$\",\"i\")}function u(t,e){var i={seen:[],stylize:h};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(e)?i.showHidden=e:e&&r._extend(i,e),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),f(i,t,i.depth)}function l(t,e){var r=u.styles[e];return r?\"\u001b[\"+u.colors[r][0]+\"m\"+t+\"\u001b[\"+u.colors[r][1]+\"m\":t}function h(t,e){return t}function f(t,e,i){if(t.customInspect&&e&&I(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(i,t);return _(n)||(n=f(t,n,i)),n}var a=function(t,e){if(y(e))return t.stylize(\"undefined\",\"undefined\");if(_(e)){var r=\"'\"+JSON.stringify(e).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return t.stylize(r,\"string\")}if(g(e))return t.stylize(\"\"+e,\"number\");if(m(e))return t.stylize(\"\"+e,\"boolean\");if(b(e))return t.stylize(\"null\",\"null\")}(t,e);if(a)return a;var o=Object.keys(e),s=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),x(e)&&(o.indexOf(\"message\")>=0||o.indexOf(\"description\")>=0))return c(e);if(0===o.length){if(I(e)){var u=e.name?\": \"+e.name:\"\";return t.stylize(\"[Function\"+u+\"]\",\"special\")}if(v(e))return t.stylize(RegExp.prototype.toString.call(e),\"regexp\");if(E(e))return t.stylize(Date.prototype.toString.call(e),\"date\");if(x(e))return c(e)}var l,h=\"\",w=!1,S=[\"{\",\"}\"];(p(e)&&(w=!0,S=[\"[\",\"]\"]),I(e))&&(h=\" [Function\"+(e.name?\": \"+e.name:\"\")+\"]\");return v(e)&&(h=\" \"+RegExp.prototype.toString.call(e)),E(e)&&(h=\" \"+Date.prototype.toUTCString.call(e)),x(e)&&(h=\" \"+c(e)),0!==o.length||w&&0!=e.length?i<0?v(e)?t.stylize(RegExp.prototype.toString.call(e),\"regexp\"):t.stylize(\"[Object]\",\"special\"):(t.seen.push(e),l=w?function(t,e,r,i,n){for(var a=[],o=0,s=e.length;o<s;++o)C(e,String(o))?a.push(d(t,e,r,i,String(o),!0)):a.push(\"\");return n.forEach(function(n){n.match(/^\\d+$/)||a.push(d(t,e,r,i,n,!0))}),a}(t,e,i,s,o):o.map(function(r){return d(t,e,i,s,r,w)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf(\"\\n\")>=0&&0,t+e.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60)return r[0]+(\"\"===e?\"\":e+\"\\n \")+\" \"+t.join(\",\\n  \")+\" \"+r[1];return r[0]+e+\" \"+t.join(\", \")+\" \"+r[1]}(l,h,S)):S[0]+h+S[1]}function c(t){return\"[\"+Error.prototype.toString.call(t)+\"]\"}function d(t,e,r,i,n,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]}).get?s=u.set?t.stylize(\"[Getter/Setter]\",\"special\"):t.stylize(\"[Getter]\",\"special\"):u.set&&(s=t.stylize(\"[Setter]\",\"special\")),C(i,n)||(o=\"[\"+n+\"]\"),s||(t.seen.indexOf(u.value)<0?(s=b(r)?f(t,u.value,null):f(t,u.value,r-1)).indexOf(\"\\n\")>-1&&(s=a?s.split(\"\\n\").map(function(t){return\"  \"+t}).join(\"\\n\").substr(2):\"\\n\"+s.split(\"\\n\").map(function(t){return\"   \"+t}).join(\"\\n\")):s=t.stylize(\"[Circular]\",\"special\")),y(o)){if(a&&n.match(/^\\d+$/))return s;(o=JSON.stringify(\"\"+n)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,\"name\")):(o=o.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),o=t.stylize(o,\"string\"))}return o+\": \"+s}function p(t){return Array.isArray(t)}function m(t){return\"boolean\"==typeof t}function b(t){return null===t}function g(t){return\"number\"==typeof t}function _(t){return\"string\"==typeof t}function y(t){return void 0===t}function v(t){return w(t)&&\"[object RegExp]\"===S(t)}function w(t){return\"object\"==typeof t&&null!==t}function E(t){return w(t)&&\"[object Date]\"===S(t)}function x(t){return w(t)&&(\"[object Error]\"===S(t)||t instanceof Error)}function I(t){return\"function\"==typeof t}function S(t){return Object.prototype.toString.call(t)}function A(t){return t<10?\"0\"+t.toString(10):t.toString(10)}r.debuglog=function(t){if(t=t.toUpperCase(),!a[t])if(o.test(t)){var i=e.pid;a[t]=function(){var e=r.format.apply(r,arguments);console.error(\"%s %d: %s\",t,i,e)}}else a[t]=function(){};return a[t]},r.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},r.types=t(\"./support/types\"),r.isArray=p,r.isBoolean=m,r.isNull=b,r.isNullOrUndefined=function(t){return null==t},r.isNumber=g,r.isString=_,r.isSymbol=function(t){return\"symbol\"==typeof t},r.isUndefined=y,r.isRegExp=v,r.types.isRegExp=v,r.isObject=w,r.isDate=E,r.types.isDate=E,r.isError=x,r.types.isNativeError=x,r.isFunction=I,r.isPrimitive=function(t){return null===t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||\"symbol\"==typeof t||void 0===t},r.isBuffer=t(\"./support/isBuffer\");var M=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}r.log=function(){var t,e;console.log(\"%s - %s\",(t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(\":\"),[t.getDate(),M[t.getMonth()],e].join(\" \")),r.format.apply(r,arguments))},r.inherits=t(\"inherits\"),r._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t};var T=\"undefined\"!=typeof Symbol?Symbol(\"util.promisify.custom\"):void 0;r.promisify=function(t){if(\"function\"!=typeof t)throw new TypeError('The \"original\" argument must be of type Function');if(T&&t[T]){var e;if(\"function\"!=typeof(e=t[T]))throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');return Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,i=new Promise(function(t,i){e=t,r=i}),n=[],a=0;a<arguments.length;a++)n.push(arguments[a]);n.push(function(t,i){t?r(t):e(i)});try{t.apply(this,n)}catch(t){r(t)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),T&&Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},r.promisify.custom=T,r.callbackify=function(t){if(\"function\"!=typeof t)throw new TypeError('The \"original\" argument must be of type Function');function r(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var n=r.pop();if(\"function\"!=typeof n)throw new TypeError(\"The last argument must be of type Function\");var a=this,o=function(){return n.apply(a,arguments)};t.apply(this,r).then(function(t){e.nextTick(o.bind(null,null,t))},function(t){e.nextTick(function(t,e){if(!t){var r=new Error(\"Promise was rejected with a falsy value\");r.reason=t,t=r}return e(t)}.bind(null,t,o))})}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,i(t)),r}}).call(this)}).call(this,t(\"_process\"))},{\"./support/isBuffer\":233,\"./support/types\":234,_process:184,inherits:121}],236:[function(t,e,r){(function(r){(function(){\"use strict\";var i=t(\"for-each\"),n=t(\"available-typed-arrays\"),a=t(\"call-bind/callBound\"),o=a(\"Object.prototype.toString\"),s=t(\"has-tostringtag/shams\")(),u=\"undefined\"==typeof globalThis?r:globalThis,l=n(),h=a(\"String.prototype.slice\"),f={},c=t(\"es-abstract/helpers/getOwnPropertyDescriptor\"),d=Object.getPrototypeOf;s&&c&&d&&i(l,function(t){if(\"function\"==typeof u[t]){var e=new u[t];if(Symbol.toStringTag in e){var r=d(e),i=c(r,Symbol.toStringTag);if(!i){var n=d(r);i=c(n,Symbol.toStringTag)}f[t]=i.get}}});var p=t(\"is-typed-array\");e.exports=function(t){return!!p(t)&&(s&&Symbol.toStringTag in t?function(t){var e=!1;return i(f,function(r,i){if(!e)try{var n=r.call(t);n===i&&(e=n)}catch(t){}}),e}(t):h(o(t),8,-1))}}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"available-typed-arrays\":77,\"call-bind/callBound\":89,\"es-abstract/helpers/getOwnPropertyDescriptor\":91,\"for-each\":103,\"has-tostringtag/shams\":116,\"is-typed-array\":127}],237:[function(t,e,r){\"use strict\";var i=t(\"global/window\"),n=t(\"is-function\"),a=t(\"parse-headers\"),o=t(\"xtend\");function s(t,e,r){var i=t;return n(e)?(r=e,\"string\"==typeof t&&(i={uri:t})):i=o(e,{uri:t}),i.callback=r,i}function u(t,e,r){return l(e=s(t,e,r))}function l(t){if(void 0===t.callback)throw new Error(\"callback argument missing\");var e=!1,r=function(r,i,n){e||(e=!0,t.callback(r,i,n))};function i(){var t=void 0;if(t=h.response?h.response:h.responseText||function(t){try{if(\"document\"===t.responseType)return t.responseXML;var e=t.responseXML&&\"parsererror\"===t.responseXML.documentElement.nodeName;if(\"\"===t.responseType&&!e)return t.responseXML}catch(t){}return null}(h),g)try{t=JSON.parse(t)}catch(t){}return t}function n(t){return clearTimeout(f),t instanceof Error||(t=new Error(\"\"+(t||\"Unknown XMLHttpRequest Error\"))),t.statusCode=0,r(t,_)}function o(){if(!l){var e;clearTimeout(f),e=t.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var n=_,o=null;return 0!==e?(n={body:i(),statusCode:e,method:d,headers:{},url:c,rawRequest:h},h.getAllResponseHeaders&&(n.headers=a(h.getAllResponseHeaders()))):o=new Error(\"Internal XMLHttpRequest Error\"),r(o,n,n.body)}}var s,l,h=t.xhr||null;h||(h=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var f,c=h.url=t.uri||t.url,d=h.method=t.method||\"GET\",p=t.body||t.data,m=h.headers=t.headers||{},b=!!t.sync,g=!1,_={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:h};if(\"json\"in t&&!1!==t.json&&(g=!0,m.accept||m.Accept||(m.Accept=\"application/json\"),\"GET\"!==d&&\"HEAD\"!==d&&(m[\"content-type\"]||m[\"Content-Type\"]||(m[\"Content-Type\"]=\"application/json\"),p=JSON.stringify(!0===t.json?p:t.json))),h.onreadystatechange=function(){4===h.readyState&&setTimeout(o,0)},h.onload=o,h.onerror=n,h.onprogress=function(){},h.onabort=function(){l=!0},h.ontimeout=n,h.open(d,c,!b,t.username,t.password),b||(h.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(f=setTimeout(function(){if(!l){l=!0,h.abort(\"timeout\");var t=new Error(\"XMLHttpRequest timeout\");t.code=\"ETIMEDOUT\",n(t)}},t.timeout)),h.setRequestHeader)for(s in m)m.hasOwnProperty(s)&&h.setRequestHeader(s,m[s]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error(\"Headers cannot be set on an XDomainRequest object\");return\"responseType\"in t&&(h.responseType=t.responseType),\"beforeSend\"in t&&\"function\"==typeof t.beforeSend&&t.beforeSend(h),h.send(p||null),h}e.exports=u,e.exports.default=u,u.XMLHttpRequest=i.XMLHttpRequest||function(){},u.XDomainRequest=\"withCredentials\"in new u.XMLHttpRequest?u.XMLHttpRequest:i.XDomainRequest,function(t,e){for(var r=0;r<t.length;r++)e(t[r])}([\"get\",\"put\",\"post\",\"patch\",\"head\",\"delete\"],function(t){u[\"delete\"===t?\"del\":t]=function(e,r,i){return(r=s(e,r,i)).method=t.toUpperCase(),l(r)}})},{\"global/window\":113,\"is-function\":125,\"parse-headers\":158,xtend:239}],238:[function(t,e,r){e.exports=void 0!==self.DOMParser?function(t){return(new self.DOMParser).parseFromString(t,\"application/xml\")}:void 0!==self.ActiveXObject&&new self.ActiveXObject(\"Microsoft.XMLDOM\")?function(t){var e=new self.ActiveXObject(\"Microsoft.XMLDOM\");return e.async=\"false\",e.loadXML(t),e}:function(t){var e=document.createElement(\"div\");return e.innerHTML=t,e}},{}],239:[function(t,e,r){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)i.call(r,n)&&(t[n]=r[n])}return t};var i=Object.prototype.hasOwnProperty},{}],240:[function(t,e,r){\"use strict\";var i=t(\"jimp\");e.exports=function(t,e,r){return new Promise(function(r){i.read(t).then(function(t){var n={};n.width=t.getWidth(),n.height=t.getHeight(),n.aspectRatio=n.width/n.height,n.outputWidth=n.width,n.outputHeight=n.height,n.aspectRatio>e?n.outputWidth=n.height*e:n.aspectRatio<e&&(n.outputHeight=n.width/e),n.x=.5*(n.width-n.outputWidth),n.y=.5*(n.height-n.outputHeight),t.crop(n.x,n.y,n.outputWidth,n.outputHeight),t.resize(170,170),t.quality(70),t.getBase64(i.AUTO,function(t,e){return r(e)})})})}},{jimp:128}],241:[function(t,e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.validate=r.select=r.removeAttributes=r.passVerify=r.nomProp=r.createCustomElement=r.addAttributes=void 0;var i=document.getElementById.bind(document),n=document.querySelector.bind(document),a=document.querySelectorAll.bind(document);r.select=function(t){var e=\"\";switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"id\"){case\"q\":e=n(t);break;case\"all\":e=a(t);break;default:e=i(t)}return e};r.createCustomElement=function(t,e,r){var i=document.createElement(t);return void 0!==r&&r.forEach(function(t){t.nodeType?1!==t.nodeType&&11!==t.nodeType||i.appendChild(t):i.innerHTML+=t}),o(i,e),i};var o=function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setAttribute(r,e[r])};r.addAttributes=o;r.removeAttributes=function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.removeAttribute(r,e[r])};r.passVerify=function(t,e){return\"\"!==t&&\"\"!==e&&t===e&&t.length>=8&&e.length>=8};r.nomProp=function(t){if(\"\"!==t){var e=[];return t.trim().split(\" \").forEach(function(t){\"\"!==t&&e.push(t.charAt(0).toUpperCase()+t.slice(1).toLowerCase())}),e.join(\" \")}return t};r.validate=function(t){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\"){case email:return/\\b[\\w\\.-]+@[\\w\\.-]+\\.\\w{2,4}\\b/gi.test(t)}}},{}],242:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=i(t(\"@babel/runtime/regenerator\")),a=i(t(\"@babel/runtime/helpers/asyncToGenerator\")),o=function(){var t=(0,a.default)(n.default.mark(function t(){var e,r,i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},navigator.geolocation){t.next=5;break}console.warn(\"La geolocalizacin no est disponible\"),t.next=16;break;case 5:return r=function(){return new Promise(function(t,r){return navigator.geolocation.getCurrentPosition(t,r,e)})},t.prev=6,t.next=9,r();case 9:return i=t.sent,t.abrupt(\"return\",i);case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0);case 16:case\"end\":return t.stop()}},t,null,[[6,13]])}));return function(){return t.apply(this,arguments)}}();r.default=o},{\"@babel/runtime/helpers/asyncToGenerator\":5,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/regenerator\":27}],243:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.postData=void 0;var n=i(t(\"@babel/runtime/regenerator\")),a=i(t(\"@babel/runtime/helpers/asyncToGenerator\")),o=function(){var t=(0,a.default)(n.default.mark(function t(e,r,i){var a,o,s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new Headers).append(\"Content-Type\",\"application/json\"),o={method:r,headers:a,body:JSON.stringify(i)},t.next=5,fetch(e,o);case 5:return t.next=7,t.sent.json();case 7:return s=t.sent,t.abrupt(\"return\",s);case 9:case\"end\":return t.stop()}},t)}));return function(e,r,i){return t.apply(this,arguments)}}();r.postData=o},{\"@babel/runtime/helpers/asyncToGenerator\":5,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/regenerator\":27}],244:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\"),n=i(t(\"@babel/runtime/regenerator\")),a=i(t(\"@babel/runtime/helpers/asyncToGenerator\")),o=i(t(\"@babel/runtime/helpers/classCallCheck\")),s=i(t(\"@babel/runtime/helpers/createClass\")),u=t(\"./dom\"),l=t(\"./postData\"),h=function(){function t(e,r,i,n,a,s){(0,o.default)(this,t),this.searchBar=e,this.clearButton=r,this.searchSpinner=i,this.searchIcon=n,this.searchResults=a,this.searchContainer=s,this.resultsLimit=5,this.delay=300,this.limit=0,this.next=0,this.prev=0,this.current=0}return(0,s.default)(t,[{key:\"clear\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"searchBar\",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};\"results\"===t?(this.searchResults.resultsState.innerHTML=\"\",this.searchResults.searchResults.innerHTML=\"\",this.searchResults.resultsMessage.innerHTML=\"\"):\"searchBar\"===t?(this.searchBar.value=\"\",this.clearButton.classList.add(\"visually-hidden\"),this.hideResults()):\"onlySearchBar\"===t&&(this.searchBar.value=\"\",this.clearButton.classList.add(\"visually-hidden\")),e()}},{key:\"toggleClearButton\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t>0?this.clearButton.classList.remove(\"visually-hidden\"):this.clearButton.classList.add(\"visually-hidden\"),e()}},{key:\"showLoader\",value:function(){this.searchSpinner.classList.remove(\"visually-hidden\"),this.searchIcon.classList.add(\"visually-hidden\")}},{key:\"hideLoader\",value:function(){this.searchSpinner.classList.add(\"visually-hidden\"),this.searchIcon.classList.remove(\"visually-hidden\")}},{key:\"search\",value:function(){var t=(0,a.default)(n.default.mark(function t(e,r){var i,a,o,s,u,h=arguments;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=h.length>2&&void 0!==h[2]?h[2]:function(){},a={},o=Date.now(),t.next=5,(0,l.postData)(\"/search\",\"POST\",{searchValue:e,scrollLimit:r});case 5:return s=t.sent,u=Date.now(),a.response=s,a.time=u-o,a.response.data.length<=5?this.resultsLimit=a.response.data.length:this.resultsLimit=5,i(),t.abrupt(\"return\",new Promise(function(t,e){t(a)}));case 12:case\"end\":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:\"showResults\",value:function(t,e){if(e){var r=t.response.data;if(this.clear(\"results\"),this.searchResults.resultsData.classList.remove(\"visually-hidden\"),this.searchContainer.classList.add(\"open\"),0===r.length)this.clear(\"results\"),this.searchResults.resultsMessage.innerHTML='\\n          <div class=\"text-secondary text-center fw-semibold\">No se han encontrado resultados para tu bsqueda</div>\\n          <div class=\"text-dark text-center fw-semibold small\">('.concat(searchBar.value,\")</div>\\n          \");else{this.clear(\"results\"),this.searchResults.resultsState.innerHTML='<div class=\"text-muted small text-end me-3\">'.concat(r.length,\" resultado(s) (\").concat((t.time/1e3-this.delay/1e3).toFixed(3),\" segundos)</div>\");for(var i=0;i<this.resultsLimit;i++){var n=r[i],a=(0,u.createCustomElement)(\"span\",{class:\"image-xsmall avatar me-3\"},['<img class=\"avatar-image d-block\" src=\"https://res.cloudinary.com/darrelmasis/image/upload/'.concat(n.avatar,'\">')]),o=(0,u.createCustomElement)(\"span\",{class:\"me-3\"},['<svg class=\"svg-inline--fa far-house-user fa-w-16 text-secondary\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"house-user\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M352 224C352 259.3 323.3 288 288 288C252.7 288 224 259.3 224 224C224 188.7 252.7 160 288 160C323.3 160 352 188.7 352 224zM320 320C364.2 320 400 355.8 400 400C400 408.8 392.8 416 384 416H192C183.2 416 176 408.8 176 400C176 355.8 211.8 320 256 320H320zM272.5 5.7C281.4-1.9 294.6-1.9 303.5 5.7L567.5 229.7C577.6 238.3 578.9 253.4 570.3 263.5C561.7 273.6 546.6 274.9 536.5 266.3L512 245.5V432C512 476.2 476.2 512 432 512H144C99.82 512 64 476.2 64 432V245.5L39.53 266.3C29.42 274.9 14.28 273.6 5.7 263.5C-2.876 253.4-1.634 238.3 8.473 229.7L272.5 5.7zM112 204.8V432C112 449.7 126.3 464 144 464H432C449.7 464 464 449.7 464 432V204.8L288 55.47L112 204.8z\"></path></svg>']),s=\"\";\"cliente/\"===n.type?s=o:\"@\"===n.type&&(s=a);var l=(0,u.createCustomElement)(\"span\",{class:\"text-truncate\"},[n.fullName]),h=(0,u.createCustomElement)(\"a\",{href:\"/\".concat(n.type).concat(n.href),class:\"align-items-center list-group-item d-flex list-group-item-action border-0\"},[s,l]);this.searchResults.searchResults.appendChild(h)}if(r.length>5){var f=(0,u.createCustomElement)(\"a\",{href:\"/search/\".concat(searchBar.value),class:\"text-primary list-group-item text-center list-group-item-action border-0\"},[\"Ver todos los resultados\"]);this.searchResults.searchResults.appendChild(f)}}}}},{key:\"hideResults\",value:function(){this.clear(\"results\"),this.searchResults.resultsData.classList.add(\"visually-hidden\"),this.searchContainer.classList.remove(\"open\")}},{key:\"navigate\",value:function(t,e,r){var i=this;switch(t){case\"bottom\":i.next<e-1?i.next=++i.current:i.next=0,i.current=i.next,r[i.next].classList.add(\"search-item__active\"),i.next>0&&i.next<e&&r.length>1?r[i.next-1].classList.remove(\"search-item__active\"):r[e-1].classList.remove(\"search-item__active\");break;case\"top\":i.current>0?i.prev=--i.current:i.prev=e-1,i.current=i.prev,r[i.prev].classList.add(\"search-item__active\"),i.prev>=0&&i.prev<e-1?r[i.prev+1].classList.remove(\"search-item__active\"):r[0].classList.remove(\"search-item__active\")}}}]),t}(),f=(0,u.select)(\"searchForm\");if(f){var c={resultsState:resultsState,searchResults:searchResults,resultsMessage:resultsMessage,resultsData:resultsData},d=new h(searchBar,clearButton,searchSpinner,searchIcon,c,searchContainer),p=[\"Enter\",\"Control\",\"Tab\",\"CapsLock\",\"Shift\",\"Alt\",\"Meta\",\"AltGraph\",\"ContextMenu\",\"ArrowUp\",\"ArrowRight\",\"ArrowDown\",\"ArrowLeft\",\"Insert\",\"Home\",\"PageUp\",\"End\",\"PageDown\",\"PrintScreen\",\"ScrollLock\",\"Pause\"],m=void 0,b=0,g=!1;d.searchBar.addEventListener(\"keyup\",function(t){b=d.searchBar.value.trim().length,d.toggleClearButton(b),clearTimeout(m),p.includes(t.key)||(b>0?(d.showLoader(),g=!0,m=setTimeout(function(){d.search(searchBar.value,{start:0,end:19999}).then(function(t){d.showResults(t,g),d.hideLoader(),0===b&&d.hideResults()})},d.delay)):(clearTimeout(m),d.hideLoader(),d.hideResults()))}),d.clearButton.addEventListener(\"click\",function(t){d.clear(\"searchBar\",function(){clearTimeout(m),d.hideLoader(),d.hideResults()})}),f.addEventListener(\"submit\",function(t){t.preventDefault(),clearTimeout(m),d.hideLoader(),d.hideResults();var e=(0,u.select)(\".search-item__active\",\"q\");null===e||\"null\"===e?\"\"!==searchBar.value&&(location.href=\"/search/\".concat(searchBar.value),localStorage.setItem(\"currentSearch\",searchBar.value)):location.href=e.href})}var _=(0,u.select)(\"resultsForm\");if(_){var y={start:0,end:9},v=!1,w=new h(searchBar,clearButton,searchSpinner,searchIcon,{},searchContainer);w.searchBar.value=localStorage.getItem(\"currentSearch\");var E=function(t){preloader.classList.remove(\"visually-hidden\"),w.search(searchBar.value,t).then(function(t){if(preloader.classList.add(\"visually-hidden\"),0===t.response.length){v=!0;var e=(0,u.createCustomElement)(\"div\",{class:\"card-body\"},[\"No se han encontrado resultados para tu bsqueda\"]),r=(0,u.createCustomElement)(\"div\",{class:\"text-center text-muted fw-semibold\"},[e]);allResults.appendChild(r)}else for(var i=0;i<t.response.data.length;i++){var n=t.response.data[i];for(var a in n){if(Object.hasOwnProperty.call(n,a))null===n[a]&&(n[a]=\"\")}var o=(0,u.createCustomElement)(\"div\",{class:\"small text-muted\"},[n.description]),s=(0,u.createCustomElement)(\"div\",{class:\"d-flex align-items-center\"},[o]),l=(0,u.createCustomElement)(\"span\",{class:\"fw-semibold me-auto d-inline-block\"},[n.fullName]),h=(0,u.createCustomElement)(\"div\",{class:\"d-flex align-items-center mb-1\"},[l]),f=(0,u.createCustomElement)(\"div\",{class:\"col ps-0\"},[h,s]),c=(0,u.createCustomElement)(\"img\",{class:\"avatar-image\",src:\"https://res.cloudinary.com/darrelmasis/image/upload/\".concat(n.avatar)},[]),d=(0,u.createCustomElement)(\"div\",{class:\"image-medium avatar\"},[c]),p=(0,u.createCustomElement)(\"div\",{class:\"col-auto me-3 pe-0\"},[d]),m=(0,u.createCustomElement)(\"div\",{class:\"row\"},[p,f]),b=(0,u.createCustomElement)(\"div\",{class:\"card-body\"},[m]),g=(0,u.createCustomElement)(\"a\",{href:\"/\".concat(n.type).concat(n.href),class:\"card bg-white text-reset text-decoration-none position-realtive mt-3\"},[b]);allResults.appendChild(g)}})};E(y),window.addEventListener(\"scroll\",function(){var t=document.documentElement.scrollHeight-window.innerHeight-.3*(document.documentElement.scrollHeight-window.innerHeight);window.scrollY>=t&&!v&&(y.start+=y.end,E(y))}),_.addEventListener(\"submit\",function(t){t.preventDefault(),preloader.classList.remove(\"visually-hidden\"),y.start=0,allResults.innerHTML=\"\",E(y),localStorage.setItem(\"currentSearch\",searchBar.value)})}},{\"./dom\":241,\"./postData\":243,\"@babel/runtime/helpers/asyncToGenerator\":5,\"@babel/runtime/helpers/classCallCheck\":6,\"@babel/runtime/helpers/createClass\":8,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/regenerator\":27}],245:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=void 0;var n=i(t(\"@babel/runtime/regenerator\")),a=i(t(\"@babel/runtime/helpers/asyncToGenerator\")),o=t(\"./dom\"),s=t(\"./postData\"),u=(0,o.select)(\"signupForm\"),l=function(){var t=(0,a.default)(n.default.mark(function t(e){var r;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.postData)(\"/signup\",\"POST\",e);case 2:return r=t.sent,t.abrupt(\"return\",r);case 4:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),h=void(u&&u.addEventListener(\"submit\",function(t){messages.innerHTML=\"\",t.preventDefault();var e={fullName:(0,o.nomProp)(firstname.value)+\" \"+(0,o.nomProp)(lastname.value),firstName:(0,o.nomProp)(firstname.value),lastName:(0,o.nomProp)(lastname.value),username:email.value.substr(0,email.value.indexOf(\"@\")).toLowerCase(),email:email.value.toLowerCase(),password:{pass1:password.value,pass2:passwordVerify.value},gender:(0,o.nomProp)(u.gender.value)};(0,o.addAttributes)(btnSubmit,{disabled:\"\"}),btnSubmit.value=\"Registrando...\",l(e).then(function(t){if(\"error\"===t.type||\"empty\"===t.type){var r=(0,o.select)(t.element,\"q\");r.innerHTML=\"\",messages.classList.remove(\"text-success\"),messages.classList.add(\"text-danger\"),(0,o.removeAttributes)(btnSubmit,{disabled:\"\"}),btnSubmit.value=\"Registrarse\",r.innerHTML=t.message}else messages.classList.remove(\"text-danger\"),messages.classList.add(\"text-success\"),(0,o.removeAttributes)(btnSubmit,{disabled:\"\"}),btnSubmit.value=\"Registrarse\",u.reset(),window.location.href=\"/signin?user=\".concat(e.username)}).catch(function(t){console.log(\"Error: \"+t),btnSubmit.value=\"Registrarse\"})}));r.default=h},{\"./dom\":241,\"./postData\":243,\"@babel/runtime/helpers/asyncToGenerator\":5,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/regenerator\":27}],246:[function(t,e,r){\"use strict\";var i=t(\"@babel/runtime/helpers/interopRequireDefault\"),n=t(\"@babel/runtime/helpers/typeof\"),a=i(t(\"@babel/runtime/helpers/asyncToGenerator\")),o=t(\"./modules/dom\"),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!==n(t)&&\"function\"!=typeof t)return{default:t};var r=f(e);if(r&&r.has(t))return r.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}i.default=t,r&&r.set(t,i);return i}(t(\"regenerator-runtime\")),u=t(\"./modules/postData\"),l=i(t(\"./modules/geolocation\")),h=(t(\"mysql/lib/protocol/constants/charsets\"),i(t(\"../js/modules/cropImage\")));function f(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(f=function(t){return t?r:e})(t)}function c(t,e){var r=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if(\"string\"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===r&&t.constructor&&(r=t.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(t);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(t,e)}(t))||e&&t&&\"number\"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}t(\"./modules/search\"),t(\"./modules/signup\");var p=io(),m=(0,o.select)(\"signinForm\"),b=(0,o.select)(\"addContactForm\"),g=(0,o.select)(\"removeContactForm\"),_=(0,o.select)(\"userUpdateForm\"),y=(0,o.select)(\"updateAvatarForm\"),v=(0,o.select)(\"customerForm\"),w=(0,o.select)(\"getCoordsButton\"),E=(0,o.select)(\"sendMessageForm\");Element.prototype.hasClass=function(t){return this.className&&new RegExp(\"(^|\\\\s)\"+t+\"(\\\\s|$)\").test(this.className)};var x=function(){var t=(0,a.default)(s.default.mark(function t(e){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.postData)(\"/signin\",\"POST\",e);case 2:return r=t.sent,t.abrupt(\"return\",r);case 4:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();m&&m.addEventListener(\"submit\",function(t){t.preventDefault(),btnSubmit.value=\"...Iniciando\",(0,o.addAttributes)(btnSubmit,{disabled:\"\"});var e={username:username.value,password:password.value};x(e).then(function(t){\"error\"===t.type||\"empty\"===t.type||\"warning\"===t.type?(messages.classList.remove(\"text-success\"),messages.classList.add(\"text-danger\"),btnSubmit.innerHTML='<i class=\"far fa-sign-in-alt me-2\"></i> Iniciar Sesin',(0,o.removeAttributes)(btnSubmit,{disabled:\"\"})):(btnSubmit.innerHTML=\"...Iniciando\",messages.classList.remove(\"text-danger\"),messages.classList.add(\"text-success\"),window.location.href=\"/\"),messages.classList.remove(\"visually-hidden\"),messages.innerHTML=t.message}).catch(function(t){console.log(t)})}),w&&w.addEventListener(\"click\",function(t){(0,l.default)().then(function(t){coords.value=\"\";var e=\"\".concat(t.coords.latitude,\", \").concat(t.coords.longitude);coords.value=e,console.log(t)})});var I=function(){var t=(0,a.default)(s.default.mark(function t(e){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.postData)(\"/cliente\",\"POST\",e);case 2:return r=t.sent,t.abrupt(\"return\",r);case 4:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();v&&v.addEventListener(\"submit\",function(t){t.preventDefault(),saveButton.value=\"Guardando...\",(0,o.addAttributes)(saveButton,{disabled:\"\"});var e={address:address.value,phoneNumber:phoneNumber.value,email:email.value,coords:coords.value,customerCode:customerCode.textContent};I(e).then(function(t){\"error\"===t.type||\"empty\"===t.type?alert(\"Error\"):((0,o.removeAttributes)(saveButton,{disabled:\"\"}),alert(\"xito\"))}).catch(function(t){console.log(t)})});var S=function(){var t=(0,a.default)(s.default.mark(function t(e){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.postData)(\"/userUpdate\",\"POST\",e);case 2:return r=t.sent,t.abrupt(\"return\",r);case 4:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();_&&_.addEventListener(\"submit\",function(t){t.preventDefault();var e=saveButton.innerHTML;saveButton.innerHTML='<i class=\"far fa-save me-2\"></i> Guardando...',(0,o.addAttributes)(saveButton,{disabled:\"\"});var r={firstName:firstName.value,lastName:lastName.value,gender:gender.value,bio:bio.value,email:email.value};S(r).then(function(t){\"error\"===t.type||\"empty\"===t.type?alert(\"Error\"):(message.innerHTML=\"Datos actualizados con xito\",message.classList.remove(\"d-none\"),setTimeout(function(){message.innerHTML=\"\",message.classList.add(\"d-none\"),(0,o.removeAttributes)(saveButton,{disabled:\"\"})},3e3),setTimeout(function(){saveButton.innerHTML=e},500))}).catch(function(t){console.log(t)})}),y&&y.addEventListener(\"change\",function(t){var e=new FormData(y),r=new FileReader;r.readAsDataURL(e.get(\"userAvatar\")),loader.classList.remove(\"d-none\"),uploadAvatar.classList.add(\"d-none\"),r.addEventListener(\"load\",function(){(0,h.default)(r.result,1,170).then(function(){var t=(0,a.default)(s.default.mark(function t(r){var i,n,a,o,u,l;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=document.getElementsByClassName(\"avatar-image\"),n=c(i);try{for(n.s();!(a=n.n()).done;)a.value.src=r}catch(t){n.e(t)}finally{n.f()}return t.next=5,fetch(r);case 5:return o=t.sent,t.next=8,o.blob();case 8:u=t.sent,e.set(\"userAvatar\",u,\"userAvatar.jpg\"),e.append(\"userAvatarBase64\",r),(l=new XMLHttpRequest).open(\"POST\",\"/update-avatar\",!0),l.addEventListener(\"load\",function(t){if(l.readyState===l.DONE)switch(l.status){case 200:loader.classList.add(\"d-none\"),uploadAvatar.classList.remove(\"d-none\")}}),l.send(e);case 15:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())})});var A=function(){var t=(0,a.default)(s.default.mark(function t(e){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.postData)(\"/addContact\",\"POST\",e);case 2:return r=t.sent,t.abrupt(\"return\",r);case 4:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();b&&b.addEventListener(\"submit\",function(t){t.preventDefault();var e=addButton.innerHTML;addButton.innerHTML='<svg class=\"svg-inline--fa fa-user-plus fa-w-20 me-2\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"user-plus\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M224 256C294.695 256 352 198.691 352 128S294.695 0 224 0C153.312 0 96 57.309 96 128S153.312 256 224 256ZM224 48C268.113 48 304 83.887 304 128C304 172.111 268.113 208 224 208C179.889 208 144 172.111 144 128C144 83.887 179.889 48 224 48ZM274.664 304H173.336C77.609 304 0 381.602 0 477.332C0 496.477 15.523 512 34.664 512H413.336C432.477 512 448 496.477 448 477.332C448 381.602 370.398 304 274.664 304ZM48.705 464C55.379 401.133 108.727 352 173.336 352H274.664C339.273 352 392.621 401.133 399.297 464H48.705ZM616 200H568V152C568 138.75 557.25 128 544 128S520 138.75 520 152V200H472C458.75 200 448 210.75 448 224S458.75 248 472 248H520V296C520 309.25 530.75 320 544 320S568 309.25 568 296V248H616C629.25 248 640 237.25 640 224S629.25 200 616 200Z\"></path></svg> Guardando...',(0,o.addAttributes)(addButton,{disabled:\"\"});var r={userId:localUser.id,contactsId:remoteUser.id};A(r).then(function(t){\"error\"===t.type||\"empty\"===t.type?console.log(t.message):((0,o.removeAttributes)(addButton,{disabled:\"\"}),addButton.innerHTML=e,b.classList.toggle(\"d-none\"),g.classList.toggle(\"d-none\"))})});var M=function(){var t=(0,a.default)(s.default.mark(function t(e){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.postData)(\"/removeContact\",\"POST\",e);case 2:return r=t.sent,t.abrupt(\"return\",r);case 4:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();g&&g.addEventListener(\"submit\",function(t){t.preventDefault();var e=removeButton.innerHTML;removeButton.innerHTML='<svg class=\"svg-inline--fa fa-user-minus fa-w-20 me-2\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"user-minus\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M274.664 304H173.336C77.609 304 0 381.602 0 477.332C0 496.477 15.523 512 34.664 512H413.336C432.477 512 448 496.477 448 477.332C448 381.602 370.398 304 274.664 304ZM48.705 464C55.379 401.133 108.727 352 173.336 352H274.664C339.273 352 392.621 401.133 399.297 464H48.705ZM224 256C294.695 256 352 198.691 352 128S294.695 0 224 0C153.312 0 96 57.309 96 128S153.312 256 224 256ZM224 48C268.113 48 304 83.887 304 128C304 172.111 268.113 208 224 208C179.889 208 144 172.111 144 128C144 83.887 179.889 48 224 48ZM616 200H472C458.75 200 448 210.75 448 224S458.75 248 472 248H616C629.25 248 640 237.25 640 224S629.25 200 616 200Z\"></path></svg> Eliminando...',(0,o.addAttributes)(removeButton,{disabled:\"\"});var r={userId:localUser.id,contactsId:remoteUser.id};M(r).then(function(t){\"error\"===t.type||\"empty\"===t.type?console.log(t.message):((0,o.removeAttributes)(removeButton,{disabled:\"\"}),removeButton.innerHTML=e,b.classList.toggle(\"d-none\"),g.classList.toggle(\"d-none\"))})});if(E){var C={id:localUser.id,username:localUser.username,fullName:localUser.fullName,avatar:localUser.avatar,socketId:\"\"};p.emit(\"newClient\",C),p.emit(\"userConnected\",C),p.on(\"usersOnline\",function(t){T(t)});var T=function(t){null==contacts||0===contacts.length?console.log(\"no tienes contactos\"):contacts.forEach(function(e,r){var i=t.some(function(t){return t.id===e.id}),n=t.findIndex(function(t){return t.id===e.id});console.log(n),console.log(i),i&&n>-1?(chatList.childNodes[n].querySelector(\".user-status\").classList.toggle(\"user-status-offline\"),chatList.childNodes[n].querySelector(\".user-status\").classList.toggle(\"user-status-online\")):(chatList.childNodes[r].querySelector(\".user-status\").classList.toggle(\"user-status-offline\"),chatList.childNodes[r].querySelector(\".user-status\").classList.toggle(\"user-status-online\"))}),t.forEach(function(t){var e=(0,o.createCustomElement)(\"span\",{},[\"3\"]),r=(0,o.createCustomElement)(\"div\",{class:\" unread-chat-messages badge bg-primary ms-3 ms-auto\"},[e]),i=(0,o.createCustomElement)(\"div\",{class:\"last-chat-message small text-muted me-1\"},[\"Hola soy el ltimo de la conversacin\"]),n=(0,o.createCustomElement)(\"div\",{class:\"d-flex align-items-center\"},[i,r]),a=(0,o.createCustomElement)(\"span\",{class:\"fw-semibold me-auto\"},[t.fullName]),s=(0,o.createCustomElement)(\"span\",{class:\"extra-small text-muted\",title:\"ltimo mensaje\"},[\"00:00\"]),u=(0,o.createCustomElement)(\"div\",{class:\"d-flex align-items-center mb-1\"},[a,s]),l=(0,o.createCustomElement)(\"div\",{class:\"col-auto me-3 pe-0\"},[u,n]),h=(0,o.createCustomElement)(\"img\",{src:\"https://res.cloudinary.com/darrelmasis/image/upload/\".concat(t.avatar),class:\"avatar-image\"},[]),f=(0,o.createCustomElement)(\"div\",{class:\"image-medium avatar user-status\"},[h]),c=(0,o.createCustomElement)(\"div\",{class:\"col-auto me-3 pe-0\"},[f]),d=(0,o.createCustomElement)(\"div\",{class:\"row\"},[c,l]);(0,o.createCustomElement)(\"a\",{href:\"/chat/@\".concat(t.username),class:\"card bg-white border-0 text-reset text-decoration-none chat\"},[d]),(0,o.createCustomElement)(\"li\",{},[t.fullName])})};p.on(\"disconnect\",function(){})}},{\"../js/modules/cropImage\":240,\"./modules/dom\":241,\"./modules/geolocation\":242,\"./modules/postData\":243,\"./modules/search\":244,\"./modules/signup\":245,\"@babel/runtime/helpers/asyncToGenerator\":5,\"@babel/runtime/helpers/interopRequireDefault\":13,\"@babel/runtime/helpers/typeof\":25,\"mysql/lib/protocol/constants/charsets\":135,\"regenerator-runtime\":189}]},{},[246]);"],"file":"scripts.min.js"}